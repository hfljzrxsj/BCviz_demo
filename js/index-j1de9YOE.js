import{j as e,r as U}from"./react-oik9md-E.js";import{i as A,U as p,g as Q,a as X,u as Y,b as Z,B as $,S as ee,C as te,c as ae,w as ne,d as se,s as oe,e as ie}from"./main-12mHC1KY.js";import{m as re,g as I,l as H,b as F}from"./ahooks-QEuSOHm6.js";import{a as ce}from"./react-router-m2kkV1nU.js";import{q as le,P as w,H as ue,J as de,W as me,T as pe,p as he,B as O}from"./@mui-7qhyk-VF.js";import"./@babel-_Kefij6Y.js";import"./react-fast-compare-751UTDWK.js";import"./echarts-Vo_PYHjZ.js";import"./zrender-6ibt0cUB.js";import"./immer-U6fk-Zvt.js";import"./react-dom-tVoZXIl-.js";import"./scheduler-Xt5_ASe0.js";import"./react-toastify-5bXptfeX.js";import"./@algolia-kof8UNv8.js";import"./react-router-dom-ma-xgFTe.js";import"./@remix-run-phvj9XUc.js";import"./tslib-xX1bOrSW.js";import"./lodash-C7I7b_wX.js";import"./react-transition-group-QTzb2ErI.js";import"./@emotion-ia0lOm4d.js";import"./hoist-non-react-statics-y4nWN7rF.js";import"./stylis-W9rcUKMO.js";import"./@popperjs-v-la0Vhf.js";const fe="_Mid_1dd8c_1",ve={Mid:fe},be="_Paper_1w3rq_1",Ce="_Tab_1w3rq_5",xe="_TabPanel_1w3rq_8",ge="_input_1w3rq_18",j={Paper:be,Tab:Ce,TabPanel:xe,input:ge},_e=[{u:1,v:1},{u:1,v:2},{u:1,v:3},{u:1,v:4},{u:2,v:1},{u:2,v:2},{u:3,v:3},{u:3,v:4},{u:4,v:3},{u:4,v:4},{u:4,v:5},{u:5,v:5},{u:5,v:6},{u:6,v:5},{u:6,v:6},{u:7,v:7},{u:7,v:8},{u:8,v:7},{u:8,v:8}],De={[p.U]:8,[p.V]:8},G=A?De:{[p.U]:1,[p.V]:1},{isSafeInteger:z}=Number;function Te(S){const{useFileName:y,useUVCount:[,b]}=S,[E,{setFalse:c}]=re(!0),[i,C]=I(0),[l,r]=H(G);return e.jsx(le,{open:E,children:e.jsxs(w,{elevation:24,className:j.Paper??"",children:[e.jsxs(ue,{value:i,children:[e.jsx(de,{onChange:(t,u)=>C(u),children:e.jsx(me,{label:"Create New",value:0,className:j.Tab??""})}),e.jsx(pe,{value:0,children:e.jsx(w,{elevation:24,className:j.TabPanel??"",children:N.map(t=>{const u=`Please enter count of ${t}`;return e.jsx(he,{fullWidth:!0,label:u,title:u,placeholder:u,type:"number",required:!0,spellCheck:!0,autoCapitalize:"on",enterKeyHint:"next",translate:"yes",inputMode:"numeric",error:!l[t],value:l[t],onChange:V=>{const{value:d}=V.target;if(d===""||_.isUndefined(d))r({[t]:void 0});else{const k=parseInt(d),M=Number(d);z(k)&&z(M)&&r({[t]:k})}},inputProps:{min:0,inputMode:"numeric",pattern:"^(0|[1-9]d*)$",max:99},className:j.input??""},t)})})})]}),e.jsx(O,{fullWidth:!0,size:"large",disabled:N.some(t=>!l[t]),variant:"contained",onClick:()=>{b(l),c()},children:"Confirm"})]})})}const{freeze:je,fromEntries:B}=Object,{from:W}=Array,{isSafeInteger:q}=Number,{subtle:Ie}=crypto,we=new TextEncoder,N=je([p.U,p.V]);function Qe(){const S=I(`file-${new Date().toJSON()}`),y=H(G),[b,E]=y,c=U.useMemo(()=>{const a=_.flatMapDepth(b,(s,x,g)=>W(new Array(s)).map((D,o)=>({k:x,kInd:o+1})),1),n=Q(a,oe);return X(a,[],n,innerHeight)},[b]),[i,C]=I(),l=U.useMemo(()=>_.isUndefined(i)?c:[...c.slice(0,i),{...c[i],color:Y},...c.slice(i+1)],[i,c]),[r,t]=I(A?_e:[{u:1,v:1}]),u=U.useMemo(()=>Z(l,r),[l,r]),d=["click","series",F(a=>{const{dataIndex:n,name:s,value:x,borderColor:g,color:D,data:o,dataType:m}=a;q(n)&&s&&m==="node"&&(_.isUndefined(i)?C(n):(n!==i&&t(_.uniqWith([...r,B([n,i].map(h=>{const f=c[h];return f?[f.k,f.kInd]:[]}))],_.isEqual)),C(void 0)))})],M=["dblclick","series",F(a=>{const{dataIndex:n,name:s,value:x,borderColor:g,color:D,data:o,dataType:m}=a,h=o;if(q(n)&&s&&m==="edge"){const{source:f,target:R}=h,J=B([f,R].map(v=>{if(typeof v=="string"){const T=v[0],K=parseInt(v.slice(1));return[T,K]}return[]})),P=r.findIndex(v=>N.every(T=>v[T]===J[T]));P!==-1&&t([...r.slice(0,P),...r.slice(P+1)])}})],L=ce();return e.jsxs(w,{elevation:24,className:$.Main??"",children:[e.jsx(Te,{useFileName:S,useUVCount:y}),e.jsx(ee,{}),e.jsxs(w,{elevation:24,className:classNames($["Main-Mid"],ve.Mid),children:[e.jsx(te,{option:u,onParams:[M,d],style:{"--minHeight":"90vh"}}),e.jsx(O,{fullWidth:!0,variant:"contained",size:"large",onClick:async()=>{try{const a=r.map(({u:o,v:m})=>`${o} ${m}`).join(`
`),n=await Ie.digest("SHA-1",we.encode(a)).then(o=>W(new Uint32Array(o)).map(h=>h.toString(36)).join("")),s=`${n}.txt`;await axios.get(s,{validateStatus(o){return o===200||o===304}}).then(()=>!0,()=>!1)||(await ae(a,s),await ne());const g=new URLSearchParams({dataset:s,BCviz_file:`${n}_cohesion.txt`});L({pathname:"/",search:`?${g.toString()}`});const D={fileInfo:{lastModified:Date.now(),name:s,size:a.length},fileData:a};se({...ie,data:D,IDBValidKey:s})}catch{}},children:"Confirm"})]})]})}export{N as UVEnumArr,Qe as default};
