var a=r=>{const t=typeof r;return r!==null&&(t==="object"||t==="function")};const i=a,g=new Set(["__proto__","prototype","constructor"]),h=r=>!r.some(t=>g.has(t));function u(r){const t=r.split("."),e=[];for(let n=0;n<t.length;n++){let s=t[n];for(;s[s.length-1]==="\\"&&t[n+1]!==void 0;)s=s.slice(0,-1)+".",s+=t[++n];e.push(s)}return h(e)?e:[]}var p={get(r,t,e){if(!i(r)||typeof t!="string")return e===void 0?r:e;const n=u(t);if(n.length!==0){for(let s=0;s<n.length;s++)if(r=r[n[s]],r==null){if(s!==n.length-1)return e;break}return r===void 0?e:r}},set(r,t,e){if(!i(r)||typeof t!="string")return r;const n=r,s=u(t);for(let f=0;f<s.length;f++){const l=s[f];i(r[l])||(r[l]={}),f===s.length-1&&(r[l]=e),r=r[l]}return n},delete(r,t){if(!i(r)||typeof t!="string")return!1;const e=u(t);for(let n=0;n<e.length;n++){const s=e[n];if(n===e.length-1)return delete r[s],!0;if(r=r[s],!i(r))return!1}},has(r,t){if(!i(r)||typeof t!="string")return!1;const e=u(t);if(e.length===0)return!1;for(let n=0;n<e.length;n++)if(i(r)){if(!(e[n]in r))return!1;r=r[e[n]]}else return!1;return!0}};export{p as d};
