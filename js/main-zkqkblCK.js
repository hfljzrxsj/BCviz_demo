import{r as T,j as t}from"./react-oik9md-E.js";import{a as Ks,r as Ye,c as Xs}from"./react-dom-a-17rxNu.js";import{u as Js,a as Dt,b as U,c as zt,d as Ys,e as Qs,f as Pt,g as ne,h as Zs,i as er,j as ge,k as An,l as On,m as De,n as tr,o as He,p as sn}from"./ahooks-VJayHAVi.js";import{i as nr}from"./react-fast-compare-751UTDWK.js";import{u as sr,g as rn,i as rr,a as ar,b as or,c as ir,d as lr,e as cr,f as ur,h as dr,j as hr,k as mr,l as pr,m as fr,n as gr,o as xr,p as _r,q as br,r as vr,s as Sr,t as jr,v as yr}from"./echarts-Vo_PYHjZ.js";import{P as C,T as Qe,F as Ct,a as O,I as Ke,d as wr,b as Cr,c as Er,e as Rn,f as Lt,C as Ft,g as Nr,D as ue,L as _e,B as J,h as Ir,i as Tr,j as kr,k as Mr,l as Dr,m as zr,n as Pr,o as Un,p as Ze,q as Wn,r as Gn,s as Lr,t as et,u as Fr,M as $t,A as Bt,v as $r,w as Br,x as Ar,y as Or,z as Vn,S as qn,E as Rr,G as Ur,H as Wr,J as Gr,K as Vr,N as Hn,O as an,Q as qr,R as Hr,U as Kn,V as Xn,W as Jn,X as Yn,Y as Kr,Z as Xr,_ as Jr,$ as Yr}from"./@mui-9txVA_s5.js";import{Q as we,k as Qr}from"./react-toastify-5bXptfeX.js";import{d as Zr}from"./@algolia-kof8UNv8.js";import{u as ea,L as ta,H as na}from"./react-router-dom-OWcGx1G4.js";import{b as sa,d as ra,e as on}from"./react-router-m2kkV1nU.js";import"./@babel-_Kefij6Y.js";import"./scheduler-Xt5_ASe0.js";import"./tslib-xX1bOrSW.js";import"./lodash-C7I7b_wX.js";import"./zrender-6ibt0cUB.js";import"./react-transition-group-0QNSnBtb.js";import"./@emotion-ia0lOm4d.js";import"./hoist-non-react-statics-y4nWN7rF.js";import"./stylis-W9rcUKMO.js";import"./@popperjs-v-la0Vhf.js";import"./@remix-run-phvj9XUc.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function s(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=s(o);fetch(o.href,i)}})();const aa="modulepreload",oa=function(e,n){return new URL(e,n).href},ln={},ia=function(n,s,r){let o=Promise.resolve();if(s&&s.length>0){const i=document.getElementsByTagName("link");o=Promise.all(s.map(a=>{if(a=oa(a,r),a in ln)return;ln[a]=!0;const l=a.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(!!r)for(let h=i.length-1;h>=0;h--){const f=i[h];if(f.href===a&&(!l||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${c}`))return;const m=document.createElement("link");if(m.rel=l?"stylesheet":aa,l||(m.as="script",m.crossOrigin=""),m.href=a,document.head.appendChild(m),l)return new Promise((h,f)=>{m.addEventListener("load",h),m.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})}))}return o.then(()=>n()).catch(i=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i})};function la(e,n){return e>>n&1}const At=Object.freeze(["rgb(255, 0, 0)","rgb(255, 115, 0)","rgb(255, 251, 0)","rgb(72, 255, 0)","rgb(0, 255, 213)","rgb(0, 43, 255)","rgb(122, 0, 255)","rgb(255, 0, 200)"]),ca="_Main_1ppnf_15",ua="_Table_1ppnf_22",da="_table_1ppnf_26",ha="_SVG_1ppnf_31",ma="_Accordion_1ppnf_38",pa="_line_1ppnf_70",fa="_circle_1ppnf_71",ga="_text_1ppnf_94",xa="_svg_1ppnf_94",_a="_highlight_1ppnf_100",ba="_g_1ppnf_52",va="_line_how_1ppnf_1",P={Main:ca,Table:ua,table:da,SVG:ha,Accordion:ma,"Accordion-Summary":"_Accordion-Summary_1ppnf_42","Accordion-Details":"_Accordion-Details_1ppnf_48","graph-svg":"_graph-svg_1ppnf_52",line:pa,circle:fa,"no-highlight":"_no-highlight_1ppnf_84",text:ga,svg:xa,"axis-text":"_axis-text_1ppnf_94",highlight:_a,"more-highlight":"_more-highlight_1ppnf_116",g:ba,"hover-click-line":"_hover-click-line_1ppnf_273","hover-x":"_hover-x_1ppnf_273","hover-x--no-show":"_hover-x--no-show_1ppnf_273","hover-y":"_hover-y_1ppnf_274",line_how:va,"coordinate-axis-y":"_coordinate-axis-y_1ppnf_282","coordinate-axis-x":"_coordinate-axis-x_1ppnf_282","pulse-signup-button":"_pulse-signup-button_1ppnf_1"},{error:q}=console,cn=e=>(e.addEventListener("abort",n=>{e.close(),q("abort",n)}),e.addEventListener("close",n=>{e.close(),q("close",n)}),e.addEventListener("error",n=>{e.close(),q("error",n)}),e.addEventListener("versionchange",n=>{e.close(),q("versionchange",n)}),e),Sa=(e,n)=>(n.addEventListener("complete",()=>{e.close()}),n.addEventListener("abort",s=>{n.abort(),e.close(),q("abort",s)}),n.addEventListener("error",s=>{n.abort(),e.close(),q("error",s)}),n),Qn=e=>new Promise(async(n,s)=>{const{DBname:r,version:o,storeName:i,keyPath:a,mode:l}=e,c=indexedDB.open(r,o);c.addEventListener("success",()=>{const u=cn(c.result);if(u.objectStoreNames.contains(i))return n(Sa(u,u.transaction(i,l,{durability:"strict"})).objectStore(i))}),c.addEventListener("upgradeneeded",()=>{const u=cn(c.result);if(!u.objectStoreNames.contains(i))return u.createObjectStore(i,{autoIncrement:!0,...a?{keyPath:a}:null})}),c.addEventListener("error",u=>{s(u),q("error",u,c)}),c.addEventListener("blocked",u=>{s(u),q("blocked",u,c)})}).catch(q),tt=e=>{const{IDBValidKey:n,data:s}=e;return Qn({...e,mode:"readwrite"}).then(r=>(r&&s&&r.add(s,...r.keyPath?[]:[n]).addEventListener("error",q),r),q).catch(q)},ja=async e=>new Promise((n,s)=>{const{query:r}=e;return Qn({...e,mode:"readonly"}).then(o=>{if(o){const i=r?o.get(r):o.getAll();i.addEventListener("success",()=>{n(i.result)}),i.addEventListener("error",a=>{q(a,i),s(i.error)})}return o},s).catch(s)}),ya=()=>indexedDB.databases().then(e=>e.filter(({name:n})=>n).map(({name:n})=>n?indexedDB.deleteDatabase(n):new IDBOpenDBRequest),q).catch(q);var wa={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{DEV:Ca,PROD:Et}=wa,{freeze:Fe,entries:Ea,values:Xl}=Object,Na=e=>!!((Et||!0)&&e&&_.isPlainObject(e));var R=(e=>(e["Maximum Edge Biclique"]="Maximum Edge Biclique",e["Maximal Biclique Enumeration"]="Maximal Biclique Enumeration",e["(p,q)-biclique Counting"]="(p,q)-biclique Counting",e["Hierarchical Subgraphs Search"]="Hierarchical Subgraphs Search",e))(R||{});const Zn=Fe({"Maximum Edge Biclique":"MEB","Maximal Biclique Enumeration":"MBE","(p,q)-biclique Counting":"PQB","Hierarchical Subgraphs Search":""}),Ia=Fe({DBname:"HJX",storeName:"HXJ"}),Ot=e=>ja({...Ia,query:e}).then(n=>{if(Na(n))return n;throw new Error(n)});var k=(e=>(e[e.table=0]="table",e[e.graph=1]="graph",e[e.result=2]="result",e[e.all=3]="all",e))(k||{});Fe({0:"Cohesion"});const Ta=e=>Ea(e).map(Ut),ce="tanContent",be=e=>{if(typeof e=="string")return e;const{k:n,kInd:s}=e;return`${n}${s}`},ka=(e,n)=>{if(!n||n.length===0)return e;const s=Ht(n);return e?.map(o=>{const{k:i,kInd:a}=o,l=s[i][a]?$s:void 0;return l?{...o,color:l}:o})},ut=40,Ma=80,Da=e=>{const s=_.sortBy(e,({v:o})=>o).slice(rt*-1);return _.sortBy(s,({i:o})=>o)},un=(e,n)=>{if(!n)return[];if(e)return n;const s=n.map((r,o)=>({...r,i:o}));return n.length<=rt?s:Da(s)},za=(e,n,{svgWidth:s,svgHeight:r})=>qt(e,n,nt(e,{svgWidth:s,svgHeight:r}),r),es=Fe({svgHeight:innerHeight,svgWidth:innerWidth}),Xe=Fe({0:"Maximum Cohesion",1:"Bipartite Graph",2:"Search Result",3:"All"}),Pa=(e,n)=>{if(!n)return e;const{start:s,end:r,color:o}=n;return e.map((i,a)=>a>=s&&a<=r?{...i,color:o}:i)},ts=(e,n)=>!_.isUndefined(e)&&e>=n,La="_Main_14krf_15",Fa="_Select_14krf_38",$a="_TabPanel_14krf_41",Ba="_Tab_14krf_41",Aa="_hidden_14krf_83",Oa="_Chart_14krf_87",Ra="_Modal_14krf_93",Ua="_CircularProgress_14krf_100",A={Main:La,"Main-Left":"_Main-Left_14krf_33",Select:Fa,TabPanel:$a,"Paper-text":"_Paper-text_14krf_44","Main-Mid":"_Main-Mid_14krf_51",Tab:Ba,"Main-Right":"_Main-Right_14krf_62","Main-Right--Show":"_Main-Right--Show_14krf_69","Main-Right--Show--Text":"_Main-Right--Show--Text_14krf_75","Main-Right--Show--Num":"_Main-Right--Show--Num_14krf_80",hidden:Aa,Chart:Oa,Modal:Ra,CircularProgress:Ua,"pulse-signup-button":"_pulse-signup-button_14krf_1"},Ce=(e=()=>{})=>Xa?.(()=>Ja?.(()=>Ka?.(()=>Ha?.(()=>ze?.resolve?.()?.then?.(()=>{const{port1:n,port2:s}=new qa;n?.postMessage?.(null),s.onmessage=e}).catch?.($e))))),Ne=(e=()=>{})=>new ze(n=>Ce?.(n))?.then?.(()=>Ce?.(e)).catch?.($e),Wa=(e=()=>{})=>new ze(n=>new ze(s=>Ce?.(s))?.then?.(()=>Ce?.(()=>{e?.(),n?.()})).catch?.($e)),Ga=(e=()=>{})=>Va("load",()=>new ze(n=>Ce?.(n))?.then?.(()=>Ce?.(e)).catch?.($e)),{Promise:ze,addEventListener:Va,console:{error:$e}={},MessageChannel:qa,queueMicrotask:Ha,requestAnimationFrame:Ka,requestIdleCallback:Xa,setTimeout:Ja}=window??self??globalThis??void 0;sr([ar,or,ir,lr,cr,ur,dr,hr,mr,pr,fr,gr,xr,_r,br,vr,Sr,jr]);const ns=window??self??globalThis??global??void 0??new EventTarget,{addEventListener:Ya,removeEventListener:Qa}=ns,{dispatchEvent:Za}=ns,Nt="resize",ss=new Event(Nt),dt=T.memo(e=>{const{option:n,onParams:s=[],isPermitShowLoading:r=!0,...o}=e,i=T.useRef(null);return Js(()=>{const{current:a}=i;if(!a||!n)return;const l=rn(a)??rr(a);r&&l.showLoading(),Ne(()=>{l.setOption(n,!0,!0),s.map(h=>l.on(...h)),r&&l.hideLoading()});const c=Uo(l.resize),u=()=>c(),m=new ResizeObserver(u);return m.observe(a),Ya(Nt,u),()=>{s.map(([h,,f])=>l.off(h,f)),m.disconnect(),c.cancel?.(),c.clear?.(),Qa(Nt,u)}},[n]),Dt(()=>{const{current:a}=i;if(!a)return;const l=rn(a);l&&(l.clear(),l.dispose())}),t.jsx(t.Fragment,{children:t.jsx(C,{elevation:24,ref:i,className:A.Chart??"",...o})})},nr),{freeze:eo}=Object;function Rt(...e){if(e.length===0)return!0;const n=_.head(e);return e.every(s=>_.isEqual(s,n))}const to=(e,n)=>n.every(s=>s===e),no=e=>{if(!(e instanceof HTMLDivElement))return!1;const{childElementCount:n,childNodes:s,children:r,firstChild:o,lastChild:i,firstElementChild:a,lastElementChild:l}=e;return!e.hasChildNodes()||!to(1,[n,s.length,r.length])?!1:Rt(o,i,a,l,s.item(0),r.item(0))},rs="mouseup",as=["contextmenu","dblclick","auxclick",rs],os=e=>eo({enable:!!e,target:e}),so=["ctrl","alt","shift","meta"].map(e=>`${e}.f11`),is=e=>{if(e instanceof MouseEvent){const{button:n,altKey:s,ctrlKey:r,metaKey:o,shiftKey:i,relatedTarget:a,type:l}=e;if(l===rs&&n===0&&!s&&!r&&!o&&!i&&!a)return!0}return!1},ro=()=>{const e=T.useRef(null),{current:n}=e,s=U(a=>{if(!no(a))return null;const l=a?.firstChild;return l instanceof HTMLDivElement?l:null}),r=U(_.debounce(a=>a instanceof HTMLDivElement&&!document.fullscreenElement?a.requestFullscreen({navigationUI:"hide"}).catch($e):Promise.reject(a)));Dt(()=>{r.cancel?.()});const o=U(a=>{const l=s(n),{target:c,currentTarget:u}=a;if(!(!l||!Rt(n,c,u))&&!is(a))return a.preventDefault(),r(l)});zt(as,o,os(n)),Ys(so,a=>{const l=s(n);return r(l)},{exactMatch:!0});const i=Qs();return Pt(()=>{Ne(()=>{n||i()})}),e};function je({children:e,...n}){const s=ro();return t.jsx(Qe,{...n,ref:s,children:e})}const ao="_AllPanel_1jwg6_2",oo="_ToggleButtonGroupWrapper_1jwg6_20",Me={"AllPanel-ECharts":"_AllPanel-ECharts_1jwg6_2",AllPanel:ao,ToggleButtonGroupWrapper:oo,"AllPanel-ToggleButtonGroup":"_AllPanel-ToggleButtonGroup_1jwg6_24","AllPanel-ToggleButtonGroup-ToggleButton":"_AllPanel-ToggleButtonGroup-ToggleButton_1jwg6_27"},io="_relative_1wqdp_1",lo="_Fab_1wqdp_1",co="_opacity0_1wqdp_26",uo="_width0_1wqdp_29",Ue={relative:io,Fab:lo,opacity0:co,width0:uo};function ho({children:e,isInFullScreen:n,isShow:s,...r}){const o=!s,i=T.useRef(null);return t.jsx(t.Fragment,{children:t.jsxs(C,{className:classNames(Ue.relative,{[Ue.width0??""]:o}),elevation:24,ref:i,children:[t.jsx(Ct,{size:"large",className:classNames(Ue.Fab,{[Ue.opacity0??""]:o}),onContextMenu:async a=>{const{current:l}=i;if(l instanceof HTMLDivElement){const{lastChild:c,lastElementChild:u}=l;if(c===u&&c instanceof HTMLDivElement){const{fullscreenElement:m}=document;m instanceof HTMLElement&&m!==c&&await document.exitFullscreen(),c.requestFullscreen({navigationUI:"hide"})}}a.preventDefault()},hidden:o,...r,children:t.jsx(O,{title:`Left click to ${n?"leave":"enter"} maximize.
Right click to enter fullscreen.`,arrow:!0,placement:"top",children:t.jsx(Ke,{size:"large",children:n?t.jsx(wr,{fontSize:"large"}):t.jsx(Cr,{fontSize:"large"})})})}),e]})})}const dn=yr.color,{isSafeInteger:hn,isNaN:mo,isFinite:po}=Number,{min:ls,max:cs}=Math,{isArray:fo,from:Jl}=Array,Ut=([e,n])=>t.jsxs("div",{children:[t.jsx("span",{children:`${e}: `}),t.jsx("span",{className:ce,children:n?.toString()})]},e),mn=4,go=(e,n)=>e.length>n?e.slice(0,n):e,Wt=({k:e,kInd:n,v:s,neighbor:r,color:o})=>[["Vertex Name",`${e+n}`],_.isUndefined(s)?void 0:["Maximum Cohesion",`${s}`],_.isUndefined(r)?void 0:["Neighbors",`${go(r,mn).map(({k:i,kInd:a})=>`${i+a}`).join(", ")}${r.length>mn?"...":""}`],_.isUndefined(r)?void 0:["Vertex Degree",`${r.length}`]],xo=e=>{const{k:n,kInd:s,v:r,neighbor:o,color:i}=e;return[Wt(e)[0],["Contain Vertices",`${r}`]]},us=(e,n,s=Wt)=>{const{k:r,kInd:o,v:i,neighbor:a,color:l}=e;return t.jsxs(t.Fragment,{children:[l&&n&&!Is(n)?t.jsxs(t.Fragment,{children:[t.jsx("div",{children:t.jsxs("span",{className:ce,children:["fetch ",n," result"]})}),t.jsx("br",{})]}):null,s(e).filter(Boolean).map(Ut)]})},ds=(...e)=>Ks(us(...e)),hs={trigger:"item",axisPointer:{type:"cross"}},ms=immer.freeze({label:{show:!0},roam:!0}),ps={toolbox:{show:!0,feature:{saveAsImage:{},restore:{},dataView:{},dataZoom:{},magicType:{},brush:{}}}},ht=immer.freeze({show:!0,snap:!0}),fs=e=>`rgba(0,0,0,${e})`,_o=fs(.5),Pe=fs(.3),gs={lineStyle:{shadowColor:_o,shadowBlur:10},scale:!0,label:{show:!0,fontSize:24,fontWeight:"bolder",textShadowBlur:5,textShadowColor:Pe},itemStyle:{shadowColor:Pe,shadowBlur:10}},bo=({isBiggerThanShowAllCount:e,maxV:n,minV:s,dataArrWithPos:r})=>{if(e)return{symbolSizeMax:n,symbolSizeMin:s};const o=r.map(({neighbor:l})=>l?.length),i=ls(...o);return{symbolSizeMax:cs(...o),symbolSizeMin:i}},vo=(e,n)=>{if(e){const s=n,r=ls(...s),o=cs(...s),i=10,a=1,l=(i-a)/(o-r);return u=>(u-r)*l+a}else return s=>s},mt=({dataArrWithPos:e,graphData:n,mode:s,size:r=void 0,commonValueFromTableData:o=nt(e,es),isBiggerThanShowAllCount:i=!1,emphasisFocus:a="adjacency"})=>{if(!e||!n||!o)return{};const{max:l,min:c}=o,u=Fo(e,n),{symbolSizeMax:m,symbolSizeMin:h}=bo({isBiggerThanShowAllCount:i,maxV:l,minV:c,dataArrWithPos:e}),f=(Ma-ut)/(m-h),g=m===h||mo(f)||!po(f)?()=>ut:x=>(x-h)*f+ut,b=_.uniq(n.map(({superWidth:x})=>x)),N=vo(i,b);return{...i?{title:{text:"Super Graph"}}:void 0,...ps,tooltip:{},legend:{data:[K.U,K.V]},series:[{type:"graph",...ms,tooltip:{...hs,formatter(x,d,p){const{dataType:j,dataIndex:v,data:E,name:I}=x;if(j==="edge"){const{source:F,target:se,superWidth:de}=E;return[I,de].filter(Boolean).join("<br/>")}const D=e[v];return D?ds(D,s,i?xo:Wt):d}},categories:[{name:K.U,base:K.U},{name:K.V,base:K.V}],edgeLabel:{},data:e.map(x=>{const{k:d,kInd:p,graphX:j,graphY:v,v:E,color:I,neighbor:D}=x,F=g((i?E:D?.length)??E??0);return{name:be(x),value:E,category:d,symbolSize:F,x:j,y:v,...I?{itemStyle:{color:I},label:{fontWeight:"bolder",textShadowBlur:5}}:null}}),links:n?.map(({u:x,v:d,superWidth:p},j)=>{const v=u[j];return{source:`u${x}`,target:`v${d}`,lineStyle:{..._.isUndefined(p)?null:{width:N(p)},color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:dn[0]},{offset:1,color:dn[1]}],global:!1},...v?{color:u[j],width:4}:null},superWidth:p}}),lineStyle:{opacity:1,cap:"round",join:"round",shadowColor:Pe,shadowBlur:5},itemStyle:{shadowColor:Pe,shadowBlur:5},emphasis:{focus:a,...gs}}]}},So=e=>e?{itemStyle:{color:e,shadowColor:Pe,shadowBlur:16},symbolSize:16,symbol:"circle"}:{},xs=immer.freeze({[R["Maximum Edge Biclique"]]:{s:"Minimum vertex count in U",t:"Minimum vertex count in V"},[R["Maximal Biclique Enumeration"]]:{s:"Minimum vertex count in U",t:"Minimum vertex count in V"},[R["(p,q)-biclique Counting"]]:{s:"Vertex number in U",t:"Vertex number in V"}});_.debounce(()=>{we.warn("result is empty")});const We=e=>`${vs.name}${e}`,_s=[k.table,k.graph],jo=[..._s,k.result],pn="leastOneChart",bs=e=>e.filter(_.negate(_.isUndefined)),yo=e=>bs(e).length;function vs(e){const{dataArrWithPos:n,visualMapSection:s,graphData:r,size:o,resultGraph:i,selectMode:a,useSetInputST:l,setTab:c,resultTable:u,setSize:m,isEditX:h,commonValueFromTableData:f,clickEChartDotToAddMultiDots:g,superData:b}=e,N=_.isUndefined(o),y=T.useMemo(()=>{if(n)return{...ps,dataZoom:[{type:"slider",xAxisIndex:0,filterMode:"none"},{type:"slider",yAxisIndex:0,filterMode:"none"},{type:"inside",xAxisIndex:0,filterMode:"none"},{type:"inside",yAxisIndex:0,filterMode:"none"}],tooltip:{...hs,formatter(w,M){if("dataIndex"in w){const B=n[w.dataIndex];if(B)return ds(B,a)}return M}},xAxis:{type:"category",data:n.map(be),axisPointer:ht},yAxis:{type:"value",axisPointer:ht},series:[{...ms,data:n.map(({v:w,color:M})=>({value:w,...So(M)})),type:"line",emphasis:{focus:"self",...gs},symbolSize:8,...h&&!N&&s?{markLine:{symbol:["circle","circle"],data:[{yAxis:o}]},markArea:{animation:!0,data:s.map(({start:w,end:M,color:B},V)=>{const ee=n[w],ke=n[M],re=`${ee?.k}${ee?.kInd}~${ke?.k}${ke?.kInd}`,he={color:B,opacity:.03},me={show:!0,formatter:re,position:"insideBottom",color:"#000"},at={label:me,itemStyle:{opacity:.05}};return[{itemStyle:he,label:me,xAxis:w,emphasis:at},{itemStyle:he,label:me,xAxis:M,emphasis:at}]})}}:null}],axisPointer:ht,...h&&s?{visualMap:{pieces:s.map(({start:w,end:M,color:B})=>{const V=n[w],ee=n[M];return{min:w,max:M,color:B,label:`${V?.k}${V?.kInd}~${ee?.k}${ee?.kInd}`}}),dimension:0,show:!0,outOfRange:{color:"Gray",colorAlpha:.8},inverse:!0}}:null}},[n]),x=T.useMemo(()=>{if(!n)return;if(b){const{tableData:M,graphData:B}=b;if(M&&B){const V=nt(M,es),ee=qt(M,B,V,innerHeight);return mt({dataArrWithPos:ee,graphData:B,mode:a,size:void 0,commonValueFromTableData:V,isBiggerThanShowAllCount:!0})}}return mt({dataArrWithPos:n,graphData:r,mode:a,size:void 0,commonValueFromTableData:f})},[n,b]),d=T.useMemo(()=>{if(!N&&!i?.length){const w=xs[a];return{title:{text:`${a} result is empty`,subtext:`${_.map(l[0],(M,B)=>`${w?.[B]}: ${M}`).join(`
`)}`,left:"center",top:"center",textStyle:{fontSize:30,lineHeight:60},subtextStyle:{fontSize:20,lineHeight:40}}}}return mt({dataArrWithPos:u,graphData:i})},[i]),p=U(Ns({isEditX:h,setSize:m,size:o})),j=T.useMemo(()=>["dblclick","series",w=>{const{dataIndex:M,name:B,value:V}=w;hn(M)&&B&&hn(V)&&typeof V=="number"&&p({v:V})()}],[p]),v=T.useMemo(()=>["click","series",g],[g]),E=t.jsx(dt,{option:y,onParams:[j,v]}),I=t.jsx(dt,{option:x,onParams:[j,v]}),D=t.jsx(dt,{option:d}),[F,se]=ne(_s),de=Zs(w=>(fo(w)&&(yo(w)===0?we.warn("Please leave at least one chart.",{toastId:pn}):(we.dismiss(pn),se(w))),Wa())),Z=er(F),H=bs(F),Ie=H.length===1,Te=U(w=>()=>{se([w])}),le=U(()=>{Z&&se(Z)}),ve=U((w,M)=>{const B=Ie&&_.head(H)===M;return t.jsx(ho,{isInFullScreen:B,isShow:F.includes(M),onClick:B?le:Te(M),children:w})});return ge(()=>{Ne(()=>{dispatchEvent(ss)})},[F]),t.jsxs(t.Fragment,{children:[t.jsx(je,{value:k.all,children:t.jsxs("div",{className:Me.AllPanel??"",children:[t.jsxs("div",{className:Me["AllPanel-ECharts"]??"",style:{"--minHeight":"71vh"},children:[ve(E,k.table),ve(I,k.graph),N?null:ve(D,k.result)]}),t.jsx(C,{elevation:24,className:Me.ToggleButtonGroupWrapper??"",children:t.jsx(Er,{size:"large",value:F,onChange:(w,M)=>{de(M)},className:Me["AllPanel-ToggleButtonGroup"]??"",children:jo.map(w=>{const M=w===k.result&&N;return t.jsx(Rn,{value:w,disabled:M,className:Me["AllPanel-ToggleButtonGroup-ToggleButton"]??"",size:"large",children:t.jsx(Lt,{control:t.jsx(Ft,{checked:F.includes(w),disabled:M,size:"large"}),label:Xe[w]})})})})})]})},We(k.all)),t.jsx(je,{value:k.table,children:E},We(k.table)),t.jsx(je,{value:k.graph,children:I},We(k.graph)),t.jsx(je,{value:k.result,children:D},We(k.result))]})}const{values:wo,freeze:Gt,keys:Yl}=Object,{isNaN:Co}=Number;var K=(e=>(e.U="u",e.V="v",e))(K||{});const Eo=Gt({0:"u",1:"v"}),G=32,No=G/2,nt=(e,{svgWidth:n,svgHeight:s})=>{if(!e)return;const r=e.map(({v:g})=>g).map(Number).filter(_.negate(Co)),o=Math.min(...r),i=Math.max(...r),a=i===o?1:i-o,{length:l}=r,c=n-G*2,u=s-G*2,m=c/(l-1),h=u/a;return{valuesArr:r,min:o,max:i,diff:a,realHeight:u,xRadix:m,yRadix:h,length:l,getYPos:g=>G+(i-g)*h,svgWidth:n,svgHeight:s}},Vt=Gt({u:0,v:1}),Io=Object.keys(Vt).length,To=e=>e?{neighbor:e}:{},fn=(e,n,s,r)=>(e[n]||(e[n]=[])).push({k:s,kInd:r}),Ss=()=>({u:{},v:{}}),ko=e=>{const n=Ss(),s=n.u,r=n.v;for(const o of e){const{u:i,v:a}=o;s&&r&&!_.isUndefined(i)&&!_.isUndefined(a)&&(fn(s,i,"v",a),fn(r,a,"u",i))}return n},qt=(e,n,s,r)=>{if(!n||!e||!s)return[];const{xRadix:o,getYPos:i,svgWidth:a,max:l,min:c}=s,u=ko(n),m=a-G*2,h=_.groupBy(e,({k:y})=>y),f=_.mapValues(h,y=>{const{length:x}=y;return m/(x<=1?1:x-1)}),g=(r-G*2)/(Io-1),b=_.mapValues(h,y=>new Map(_.sortBy(y,({kInd:x})=>x).map(({kInd:x},d)=>[x,d])));return e?.map((y,x)=>{const{v:d,k:p,kInd:j}=y;return{...y,i:x,x:G+x*o,..._.isUndefined(d)?void 0:{y:i(d)},graphX:G+(b[p].get(j)??0)*f[p],graphY:G+Vt[p]*g,...To(u?.[p][j])}})},Be=Gt(["more-highlight","highlight","no-highlight"]),It=_.last(Be)??"",js=Be.map(e=>_.camelCase(`is-${e}`)),{length:ys}=Be,Mo=e=>1<<js.findIndex(s=>e[s]===!0)+1,Do=(1<<ys)-1,zo=e=>{for(let n=1;n<ys;n++)if(la(e,n)===1)return Be[n-1]??It;return It},Po=e=>{const n=js.findIndex(s=>e?.[s]===!0);return Be[n]??It},Lo=e=>{if(e.includes($s)&&e.includes(Mt))return Mt;if(e.length!==1)return;const n=_.head(e);if(n)return n},Ht=e=>{const n=Ss();return _.isUndefined(e)||e.length===0?n:{...n,..._.mapValues(_.groupBy({...e},({k:s})=>s),s=>_.keyBy(s,({kInd:r})=>r))}},Fo=(e,n,s=Ht(e))=>!e||!n?[]:n?.map(r=>{const o=_.uniq(_.map(r,(i,a)=>s[a]?.[i]?.color));return Lo(o)}),$o=({drawDotData:e,graphData:n})=>{const s=_.mapValues(_.groupBy(e,({k:r})=>r),r=>_.keyBy(r,({kInd:o})=>o));return n?.map(r=>{const o=wo(_.mapValues(r,(c,u)=>s[u]?.[c])),i=o.reduce((c,u,m,h)=>{const{pos:f,highlightLevelNum:g}=c;if(!u)return c;const{graphX:b,graphY:N,color:y}=u;return{pos:[...f,[b,N]],highlightLevelNum:g&Mo(u)}},{pos:[],highlightLevelNum:Do,color:""}),{highlightLevelNum:a}=i,l=_.uniq(o.map(c=>c?.color?c.color:""));return{...i,highlightLevel:zo(a),...l.length===1?{color:_.head(l)}:null}})},xe=e=>e.v,ws=At.length,Bo=({isEditX:e,dataArrWithPos:n,commonValueFromTableData:s,size:r})=>{if(!e||!s)return n;const{length:o}=s;if(_.isNil(r))return n.map(m=>({...m,color:""}));const a=[];let l=0,c=_.head(n);if(!c)return n;let u=xe(c);for(let m=1;m<=o;m++){const h=[c];for(;m<o;m++){const g=n[m];if(!g)break;const b=xe(g);if(!_.isUndefined(b)&&!_.isUndefined(u)&&(b>=r||b>=u))h.push(g),c=g,u=b;else{c=g,u=b;break}}const f=At[l%ws]??"";a.push(...h.map(g=>f?{...g,color:f}:g)),l++}return a.map(m=>{const{v:h}=m;return!_.isUndefined(h)&&h>=r?{...m,isHighlight:!0}:m})},Ao=e=>{const{isEditX:n,dataArrWithPos:s,commonValueFromTableData:{length:r}={},size:o,colors:i=At}=e;if(!n||!r)return{datas:s,sections:[]};if(_.isNil(o))return{datas:s,sections:[]};const l=[];let c=0;const u=[],m=[],h=[],f=[];for(let g=0;g<r;g++){const b=s[g];if(!b)break;const N=xe(b),y=s[g+1],x=()=>{h.push(b),f.push(g)},d=()=>{if(!_.isUndefined(N)&&N>=o){x();const j=i[c%ws]??"";return u.push(h),m.push({start:_.head(f)??0,end:_.last(f)??0,color:j}),l.push(...h.map(v=>j?{...v,color:j}:v)),h.length=0,f.length=0,c++,1}else return l.push(b),0};if(!y){d();break}const p=xe(y);!_.isUndefined(p)&&p>=o?x():d()}return{datas:l,sections:u,visualMapSection:m}},Oo=({isEditX:e})=>n=>()=>{},Cs=e=>({title:us(e),arrow:!0}),gn=({clientWidth:e,clientHeight:n})=>{const s=e-G,r=n-G;return{svgWidth:e,svgHeight:n,xEnd:s,yEnd:r}},Ro=e=>()=>{const{current:n}=e;return gn(n||{clientWidth:innerWidth,clientHeight:innerHeight})},Es=e=>classNames(P.g,P[Po(e)]),Ns=({isEditX:e,setSize:n,size:s})=>({dotData:r,v:o=r?.v})=>()=>{e&&n?.(o===s?void 0:o)},Uo=e=>Nr(_.debounce(Zr(e,0))),Is=e=>e===R["Hierarchical Subgraphs Search"],{isSafeInteger:pt}=Number;function xn(e){const n=e.split(`
`),s=[];let r=0,o;const{length:i}=n;for(;r<i;)if(n[r]?.startsWith("No.")){r++;const a=n[r++],l=n[r++],c=n[r++];let u;r<i&&n[r]?.startsWith("count:")&&(u=n[r++]);const m=a?.match(/size=(\d+)/)?.[1];if(!m)throw new Error("Invalid size format");const h=parseInt(m,10);if(!pt(h)||h<=0)throw new Error("Size must be a positive integer");const f=l?.match(/U: (\d+(?: \d+)*)/);if(!f)throw new Error("Invalid U format");const g=f[1]?.split(" ").map(Number)??[];if(g?.some(isNaN)||g?.some(d=>d<=0))throw new Error("U values must be positive integers");const b=c?.match(/V: (\d+(?: \d+)*)/);if(!b)throw new Error("Invalid V format");const N=b[1]?.split(" ").map(Number)??[];if(N?.some(isNaN)||N?.some(d=>d<=0))throw new Error("V values must be positive integers");let y;if(u){const d=u.match(/count: (\d+)/)?.[1];if(!d)throw new Error("Invalid count format");if(y=parseInt(d,10),!pt(y)||y<=0)throw new Error("Count must be a positive integer")}const x={size:h,[K.U]:g,[K.V]:N,label:`Rank ${s.length+1}`,...y?{count:y}:null};s.push(x)}else if(n[r]?.startsWith("The number of ")){const a=n[r+1];if(!a)throw new Error("The number of (\\d,\\d)-bicliques not has next line");const l=parseInt(a,10);if(!pt(l)||l<=0)throw new Error("The number of (\\d,\\d)-bicliques must be a positive integer");o=l;break}else r++;return{dataArr:s,..._.isUndefined(o)?{}:{count:o}}}const Wo="_Dialog_14va2_1",Go="_title_14va2_4",Vo="_Paper_14va2_7",qo="_FileUploadTeam_14va2_11",Ho="_LinkToEdit_14va2_15",Ko="_backIcon_14va2_19",ie={Dialog:Wo,title:Go,Paper:Vo,FileUploadTeam:qo,LinkToEdit:Ho,backIcon:Ko},Xo="_title_ju35s_1",Jo="_Paper_ju35s_7",Yo="_Input_ju35s_10",Qo="_TextField_ju35s_16",fe={title:Xo,Paper:Jo,Input:Yo,"input-file":"_input-file_ju35s_13",TextField:Qo,"TextField-Paper":"_TextField-Paper_ju35s_22","TextField-Paper-input":"_TextField-Paper-input_ju35s_25","FileInfo-Button":"_FileInfo-Button_ju35s_28"};function Zo(e){const{fileInfo:n}=e,{name:s,size:r,lastModified:o,type:i,downloadUrl:a}=n;return s?t.jsxs(t.Fragment,{children:[t.jsx(ue,{}),t.jsx(C,{elevation:24,className:ie.Paper??"",children:t.jsxs("fieldset",{children:[s?t.jsx("legend",{children:t.jsx(_e,{href:a,title:"preview",target:"_blank",underline:"hover",children:s})}):null,s&&r?t.jsxs("p",{children:[" Content Length: ",filesize(r)]}):null,o?t.jsxs("p",{children:[" Last Modified: ",new Date(o).toJSON()]}):null,i?t.jsxs("p",{children:[" Content Type: ",i]}):null,t.jsxs(C,{elevation:0,className:ie["FileInfo-Button"]??"",children:[t.jsx(_e,{href:a,target:"_blank",underline:"hover",children:t.jsxs(J,{variant:"outlined",children:[t.jsx(Ir,{}),"preview"]})}),t.jsxs(J,{variant:"outlined",onClick:()=>{const l=document.createElement("a");l.href=a??"",l.download=s,l.click()},children:[t.jsx(Tr,{}),"download"]})]})]})})]}):null}const ei="_examples_141yp_1",ti={examples:ei};function ni(e){const{defaultTxt:n,chooseExample:s}=e,[r,o,i]=An(null);return t.jsxs(C,{elevation:24,className:ti.examples??"",children:[t.jsx(O,{title:"No suitable data? Click here to try these.",arrow:!0,children:t.jsxs(J,{size:"large",fullWidth:!0,onClick:a=>{o(a.currentTarget)},children:["> ",t.jsx(_e,{component:"button",children:"Examples"})]})}),t.jsx(kr,{open:!!r,anchorEl:r,onClose:()=>{i()},children:t.jsx(Mr,{children:n.map((a,l)=>t.jsx(O,{arrow:!0,title:`Example ${l+1}`,placement:"right",children:t.jsx(Dr,{disablePadding:!0,children:t.jsx(zr,{onClick:()=>{s(a),i()},children:t.jsx(_e,{component:"button",underline:"hover",children:a})},a)})},a))})})]})}const{revokeObjectURL:si,createObjectURL:ri}=URL,{freeze:ai}=Object,{error:_n}=console,oi={lastModified:0,name:"",size:0,type:"",downloadUrl:""},Ts=e=>{e&&si(e)},ii=e=>n=>{if(n){const s=Ts.bind(null,e);n.addEventListener("beforeunload",s),n.addEventListener("unload",s)}},Kt=e=>{const n=ri(e);return Ne(()=>{const s=ii(n);s(window??self??globalThis??void 0),s(document);const{documentElement:r,body:o,head:i,scrollingElement:a,firstElementChild:l,lastElementChild:c,activeElement:u,firstChild:m,lastChild:h,doctype:f,defaultView:g}=document;s(i),s(o),s(r),s(u),s(l),s(c),s(a),s(h),s(f),s(g),s(m)}),n},st=ai({DBname:"HJX",storeName:"HXJ"}),li=e=>({...e,fileInfo:{...e.fileInfo,downloadUrl:Kt(new Blob([e.fileData]))}}),bn="Upload File",vn="some error occur",ft="Please input URL";function ci(e){const{parseData:n,setWillPatchData:s,defaultTxt:r,title:o}=e,[i,a]=ne(""),[l,c]=On(oi);Dt(()=>{Ts(l.downloadUrl)});const u=U((h,f)=>{s({fileName:f.match(/[^\/]+$/)?.[0]??f,data:h})}),m=U(h=>zs(h).then(f=>{if(f){const{fileInfo:g,fileData:b}=f,N=n(b);if(N.length===0){we.error("The file format is incorrect!");return}c(g),u(N,h)}},_n).catch(_n));return t.jsx(t.Fragment,{children:t.jsxs(C,{elevation:24,children:[t.jsx("h4",{className:fe.title,children:o}),t.jsxs(C,{elevation:24,className:classNames(fe.Paper,fe.Input),children:[t.jsxs(J,{component:"label",variant:"contained",startIcon:t.jsx(Pr,{}),fullWidth:!0,title:bn,children:[bn,t.jsx("input",{type:"file",className:fe["input-file"],onChange:h=>Ye.unstable_batchedUpdates(()=>{const f=h.target.files?.[0];if(!f){alert(vn);return}const g=new FileReader;g.readAsText(f),g.onload=b=>{const N=b.target?.result||g.result;if(typeof N=="string")try{const{name:y,lastModified:x,size:d,type:p}=f;u(n(N),y);const j=Kt(f);c({...l,name:y,lastModified:x,size:d,type:p,downloadUrl:j});const v={fileInfo:{...l,name:y,lastModified:x,size:d,type:p,downloadUrl:j},fileData:N};tt({...st,IDBValidKey:y,data:v})}catch{alert(vn)}}}),accept:".txt"})]}),t.jsx(ue,{orientation:"vertical",variant:"fullWidth",flexItem:!0,children:t.jsx(Un,{label:"OR"})}),t.jsxs(C,{elevation:24,className:fe.TextField??"",children:[t.jsxs(C,{elevation:24,className:fe["TextField-Paper"]??"",children:[t.jsx(Ze,{label:ft,onChange:h=>{a(h.target.value)},value:i,fullWidth:!0,placeholder:ft,title:ft,className:fe["TextField-Paper-input"]??""}),t.jsx(J,{size:"large",variant:"contained",disabled:!i,onClick:()=>m(i),children:"Fetch"})]}),t.jsx(ni,{defaultTxt:r,chooseExample:h=>{a(()=>(m(h),h))}})]})]}),t.jsx(Zo,{fileInfo:l})]})})}const{freeze:ui}=Object,di=ui({replace:!0,preventScrollReset:!1,flushSync:!1,viewTransition:!0}),{error:Tt}=console,{from:Sn}=Array,{freeze:hi}=Object,{isSafeInteger:Ee}=Number,ks=e=>{const n=e.trim().split(`
`),s=[];for(const r of n){const[o,i,a]=r.trim().split(/[ \t]/),l=parseInt(i),c=parseInt(a);if(!Ee(l)||!Ee(c))return[];s.push({k:Eo[o],kInd:l,v:c})}return s},mi=(e,n)=>{const[s,r]=e.trim().split(/[ \t]/),o=parseInt(s),i=parseInt(r);!Ee(o)||!Ee(i)||n.push({[K.U]:o,[K.V]:i})},pi=(e,n)=>{const[s,r,o]=e.trim().split(/[ \t]/),i=parseInt(s),a=parseInt(r),l=parseInt(o);!Ee(i)||!Ee(a)||n.push({[K.U]:i,[K.V]:a,superWidth:l})},fi=(e,n=mi)=>{const s=e.trim().split(`
`),r=[];for(const o of s)n(o,r);return r},gi=(e,n=pi)=>{const s=e.trim().split(`
`),r=[];for(const o of s)n(o,r);return r},Je=["dataset","BCviz_file"],gt=hi([{title:Xe[k.graph],parseData:fi,defaultTxt:["example.txt","writer.txt","marvel.txt","paper.txt"]},{title:Xe[k.table],parseData:ks,defaultTxt:["example_cohesion.txt","writer_cohesion.txt","marvel_cohesion.txt","paper_cohesion.txt"]}]),xt=(e="searchParams is not enough")=>{throw Tt(e),new Error(e)},jn="New Graph";function xi(e){const{setDatas:n,setFileNames:s}=e,[r,{setTrue:o,setFalse:i}]=De(!1),{list:a,resetList:l,replace:c}=tr(),u=U(d=>p=>c(d,p)),m=U(()=>l([])),[h,f]=ea(),{arrEntries:g,arrKeys:b}=T.useMemo(()=>{const d=Sn(h.entries()),p=d.map(_.first);return{arrEntries:d,arrKeys:p}},[h]),N=T.useMemo(()=>{const{length:d}=n;return!(h.size<d||_.uniq(b).filter(p=>Je.includes(p)).length!==d)},[h]),y=U(()=>{o(),f()});Pt(()=>{if(!N){y();return}const d=g.map(([,p])=>p);Promise.all(d.map(p=>zs(p))).then(p=>{Je.map((j,v)=>{const E=b.indexOf(j),I=p[E]?.fileData,D=d[E];if(!I||!D)return xt();const F=gt[v]?.parseData(I);return F?.length?{parseData:F,fileName:D}:xt("parse error")}).forEach(({parseData:j,fileName:v},E)=>{const I=n[E],D=s[E];if(!D||!I)return xt();I(j),D(v)})}).catch(p=>{Tt(p),y()})}),ge(()=>{r||m()},[r]);const x=a.length===n.length&&Sn(a).every(Boolean);return t.jsxs(t.Fragment,{children:[t.jsx(J,{size:"large",variant:"contained",onClick:o,fullWidth:!0,children:jn}),t.jsxs(Wn,{onClose:()=>{N&&i()},className:ie.Dialog??"",open:r,children:[t.jsx(C,{elevation:24,className:ie.title??"",children:t.jsx("h3",{children:jn})},"title"),t.jsx(C,{elevation:24,children:t.jsx(C,{elevation:24,className:classNames(ie.Paper,ie.FileUploadTeam),children:gt.map((d,p)=>T.createElement(ci,{setWillPatchData:u(p),...d,key:p}))},"upload")}),t.jsx(ue,{}),t.jsxs(C,{elevation:24,className:ie.Paper??"",children:[t.jsx(J,{size:"large",variant:"contained",fullWidth:!0,disabled:!x,onClick:()=>Ye.unstable_batchedUpdates(()=>{if(x){const d=a.map(({fileName:v})=>v),[p,j]=d;if(!p||!j)return;d.map(async v=>{if(gt.some(({defaultTxt:D})=>D.includes(v)))return;const E=await Ot(v).then(({fileData:D})=>D,Tt);if(!E)return;await Ei(v)||Ci(E,v)}),a.forEach(({fileName:v,data:E},I)=>{n[I]?.(E),s[I]?.(v)}),f({dataset:p,BCviz_file:j},di),i()}}),children:"Comfirm"}),t.jsx("div",{className:ie.LinkToEdit??"",children:t.jsx(ta,{to:{pathname:As.edit},children:t.jsx(O,{title:"go to a new page",arrow:!0,children:t.jsx(J,{size:"large",variant:"text",endIcon:t.jsx(Gn,{fontSize:"large",className:ie.backIcon??""}),children:t.jsx(_e,{underline:"hover",children:"Create custom Bipartite Graph"})})})})})]},"confirm")]})]})}const{error:Le}=console,{isSafeInteger:_i}=Number,{freeze:bi}=Object,ye=localStorage.getItem("baseURL")??"http://117.72.219.9",vi=()=>{const{origin:e,protocol:n,port:s,hostname:r}=location;return n==="http:"&&(r==="localhost"||r==="127.0.0.1")},Ms=vi()&&localStorage.getItem("hjx");if(Ms){const{defaults:e}=axios;e.baseURL=ye}const yn=e=>e===204;Ga(()=>{const{origin:e,protocol:n,port:s,hostname:r}=location;if(!(e===ye||Ms)&&n==="http:"){const o="/api/test";axios.get(o,{validateStatus:yn}).catch(i=>{axios.get(new URL(o,ye).toString()).then(a=>{const{status:l,headers:c}=a;if(yn(l)){const{defaults:u}=axios;u.baseURL=ye;return}}).catch(Le)});return}});const wn=(e,n)=>{const r=n.exec(e)?.[1]?.trim();return r?r.split(/\s+/).map(o=>{const i=parseInt(o);return _i(i)?i:0}):[]},Si=e=>{const r=/size=(\d+)/.exec(e)?.[1],o=r?parseInt(r,10):0,i=wn(e,/U:\s+([\d\s]+)/),a=wn(e,/V:\s+([\d\s]+)/);return{size:o,u:i,v:a,label:"Rank 1"}},ji=e=>({[R["Maximum Edge Biclique"]]:{dataArr:[Si(e)]},[R["Maximal Biclique Enumeration"]]:xn(e),[R["(p,q)-biclique Counting"]]:xn(e)}),Xt=e=>`/api/v1/${e}`,Ds=async e=>{const n=Xt("MBS"),s=_.omitBy(e,_.isUndefined),r=`${n}?${new URLSearchParams(s)}`;return{data:await Ot(r).catch(()=>axios.get(n,{responseType:"text",params:e}).then(i=>{const{data:a}=i;return a},i=>{throw Le(i),new Error(i)})).catch(i=>{throw Le(i),new Error(i)}),key:r}},yi=async(e,n,s)=>{const r=await Ds(s).then(({data:o,key:i})=>{if(typeof o=="string"){const a={...ji(o)[e],...s};return tt({...st,data:a,IDBValidKey:i}),a}return o});return{...n,...r?{[e]:r}:null}},wi=e=>Ds(e).then(({data:s,key:r})=>{if(typeof s=="string"){const o=s.trim().split(`
`),i=o.indexOf("super vertex:"),a=o.indexOf("super edge:"),l=o.slice(i+1,a-1).join(`
`),c=o.slice(a+1).join(`
`),u={tableData:ks(l),graphData:gi(c)};return tt({...st,data:u,IDBValidKey:r}),u}return s}),Ci=(e,n)=>axios.post(Xt("upload"),e,{params:{dataset:n}}),Ql=e=>axios.get(Xt("construct"),{params:e}),zs=e=>Ot(e).then(li).catch(()=>axios.get(e,{responseType:"text"}).then(async n=>{const s=new Headers(n.headers),{data:r}=n,o=Kt(new Blob([r])),i=bi({fileInfo:{lastModified:Date.parse(s.get("last-modified")??""),name:e,size:parseInt(s.get("content-length")??""),type:s.get("content-type")??"",downloadUrl:o},fileData:r});return tt({...st,IDBValidKey:e,data:i}),i},Le)).catch(Le),Ei=e=>axios.head(e,{validateStatus(n){return n===200||n===304}}).then(()=>!0,()=>!1),Cn=Object.freeze({loadingDelay:300,throttleWait:300,debounceWait:300,debounceLeading:!0}),Ni="_Tool_17xe8_7",Ii="_IconButton_17xe8_10",Ti="_triangle_17xe8_15",ki="_rotate_17xe8_25",Ge={"Main-Side":"_Main-Side_17xe8_1",Tool:Ni,IconButton:Ii,triangle:Ti,rotate:ki},En=["225deg","45deg"];function Nn(e){const{buttonOrder:n=0,isOpen:s=!0,children:r,...o}=e,[i,{toggle:a}]=De(s);return r?t.jsxs(C,{className:Ge["Main-Side"]??"",elevation:24,...o,children:[t.jsx(O,{title:`${i?"collapse":"expand"} toolbar`,arrow:!0,children:t.jsx(Ke,{size:"large",className:Ge.IconButton??"",onClick:()=>{a(),Ne(()=>{Za(ss)})},style:{"--order":n,"--initRotate":En[n],"--clickRotate":En[1-n]},children:t.jsx("div",{className:classNames(Ge.triangle,{[Ge.rotate??""]:i})})})}),t.jsx(Lr,{in:i,orientation:"horizontal",children:r})]}):null}const Mi="_Tool_tgrdm_1",_t={Tool:Mi,"x-line-mode":"_x-line-mode_tgrdm_7","x-line-mode-label":"_x-line-mode-label_tgrdm_10"};function Di(e){const{toggleIsEditX:n=()=>{},isEditX:s,className:r,setDatas:o,setFileNames:i}=e,{pathname:a}=sa();return t.jsxs(C,{elevation:24,className:classNames(_t.Tool,r),children:[t.jsx(xi,{setDatas:o,setFileNames:i}),a===Bs.old?t.jsx(J,{variant:"outlined",className:_t["x-line-mode"]??"",fullWidth:!0,children:t.jsx(Lt,{className:_t["x-line-mode-label"]??"",onChange:n,control:t.jsx(Ft,{checked:s}),label:"Edit Mode"})}):null]})}const{freeze:zi}=Object,kt=zi({inputProps:{min:0,max:99,inputMode:"numeric",pattern:"^(0|[1-9]d*)$"},inputMode:"numeric",type:"number"}),{isSafeInteger:Pi}=Number;function In({useSetInputST:[e,n],k:s,label:r=""}){const o=U(i=>n({[s]:i}));return t.jsxs(et,{fullWidth:!0,children:[t.jsx(Ze,{fullWidth:!0,placeholder:r,label:r,type:"number",title:s,value:e[s],required:!0,onChange:i=>{const{value:a}=i.target;if(!a){o(a);return}const l=parseInt(a),c=Number(a),u=+a;Rt(l,c,u)&&Pi(l)&&l>=0&&o(l.toString())},...kt,inputProps:_.omit(kt.inputProps,"max"),spellCheck:!0,autoCapitalize:"on",enterKeyHint:"next",translate:"yes",unselectable:"on",inputMode:"numeric"}),t.jsx(Fr,{})]})}const Li="_Input_1qdq0_1",Fi={Input:Li},Jt=T.forwardRef(({children:e,autoFocus:n,tabIndex:s,className:r,style:o,...i},a)=>t.jsx($t,{...i,..._.omitBy({autoFocus:n,tabIndex:s,className:r,style:o},_.isUndefined),ref:a,children:e})),Yt=({InputLabelProps:e,...n})=>t.jsx(Ze,{...n,size:"medium",InputLabelProps:{...e,className:e?.className??"",style:e?.style??{}}}),{isSafeInteger:$i}=Number,{stringify:Bi}=JSON;function bt(e){const{useSetInputST:n,modeKey:s,useGetFromST:r,fileNames:o,setTabToResult:i,dataArrWithPos:a,useMultiDots:[l,c]}=e,{data:u,loading:m,runAsync:h}=r,[f,g]=n,{s:b="",t:N=""}=xs[s]??{},y=a.length>rt;return t.jsx(Qe,{value:s,className:A.TabPanel??"",children:t.jsxs(C,{elevation:24,className:Fi.Input??"",children:[t.jsx(In,{useSetInputST:n,k:"s",label:b}),t.jsx(In,{useSetInputST:n,k:"t",label:N}),t.jsx(Bt,{value:l??[],...y?{freeSolo:!0}:null,onChange:(x,d)=>{const p=[];for(const j of d)if(typeof j=="string"){const v=j[0],E=parseInt(j.slice(1));if(!$i(E))continue;const I=a.find(({k:D,kInd:F})=>D===v&&F===E);I&&p.push(I)}else p.push(j);p.length!==l?.length&&c(p)},multiple:!0,options:y?[]:a,getOptionLabel:be,renderOption:(x,d,{selected:p})=>t.jsxs(Jt,{...x,children:[t.jsx(Ft,{icon:t.jsx($r,{fontSize:"large"}),checkedIcon:t.jsx(Br,{fontSize:"large"}),checked:p}),be(d)]}),renderInput:x=>t.jsx(Yt,{...x,label:"Choose Vertices",placeholder:"Please input vertice name"}),disableCloseOnSelect:!0,autoComplete:!0,autoCapitalize:"words",autoFocus:!0,autoHighlight:!0,clearOnBlur:!0,clearOnEscape:!0,fullWidth:!0,handleHomeEndKeys:!0,includeInputInList:!0,openOnFocus:!0,selectOnFocus:!0,disabledItemsFocusable:!1,disableListWrap:!1,disablePortal:!1,filterSelectedOptions:!1}),t.jsxs(Ar,{disabled:_.some(f,x=>x===""),variant:"contained",size:"large",onClick:()=>Ye.unstable_batchedUpdates(async()=>{await h(s,u,{...o,problem_type:Zn[s],...f,vex_list:Bi(l?.map(({k:x,kInd:d})=>[Vt[x],d]))}).then(x=>(we.success(`fetch ${s} success`),i(),x),()=>{we.error(`fetch ${s} fail`)})}),children:["Fetch ",s]})]})})}function Ai(){return navigator.language}function Oi(){return navigator.languages[0]}function Ri(){return new Intl.DateTimeFormat().resolvedOptions().locale}const Ui=()=>{const e=Ri();return Ai()==="zh-CN"&&Oi()==="zh-CN"&&(e==="zh-CN"||e==="zh-Hans-CN")&&new Date().getTimezoneOffset()===-480},Ps=Ui(),Wi=T.forwardRef(e=>{const{viewBox:n,graphLine:s,drawDotData:r,clickCircle:o,doubleClickCircle:i}=e;return t.jsxs("svg",{viewBox:n,className:P["graph-svg"],children:[s?.map(({pos:a,highlightLevel:l,color:c},u)=>t.jsx("polyline",{points:a.map(([m,h])=>`${m},${h}`).join(" "),fill:"none",stroke:"black",className:classNames(P.line,P[l]),style:{"--color":c}},u)),r.map(a=>{const{k:l,kInd:c,v:u,graphX:m,graphY:h,color:f}=a,g=be(a);return t.jsx(t.Fragment,{children:t.jsx(O,{...Cs(a),children:t.jsxs("g",{onDoubleClick:i({dotData:a}),onClick:o(a),className:Es(a),style:{"--color":f},children:[t.jsx("circle",{cx:m,cy:h,className:P.circle}),t.jsx("text",{x:m,y:h,className:P.text,children:g})]},m)})})})]})});function Tn(e){const{isEditX:n,xEnd:s,onClick:r=()=>{},dotData:{y:o,v:i},className:a=""}=e;return n?t.jsx(t.Fragment,{children:t.jsx("line",{x1:G,x2:s,y1:o,y2:o,className:classNames(P["hover-x"],a),onClick:r})}):null}const Gi=T.forwardRef(e=>{const{viewBox:n,drawDotData:s,clickCircle:r,doubleClickCircle:o,svgRef:i,isEditX:a,commonValueFromTableData:{valuesArr:l,xRadix:c,length:u,getYPos:m,svgHeight:h},svgSize:f,size:g}=e,{xEnd:b=0,yEnd:N=0}=f,y=T.useMemo(()=>_.sortBy(_.uniq(l)).map(d=>({v:d,yPos:m(d)})),[s]),x=T.useMemo(()=>{let d=_.head(s);if(!d)return[];let p=xe(d);const j=[];for(let v=1;v<u;v++){let E=s[v];if(!E)break;let I=xe(E),D=I-p;const{x:F=0,y:se=0}=d,de=[F,se];for(;v<u;v++){const Z=s[v+1];if(Z){const le=xe(Z);if(le-I===D){E=Z,I=le;continue}}const{x:H=0,y:Ie=0}=E,Te=[H,Ie];j.push([de,Te]);break}d=E,p=I}return j},[s]);return t.jsxs("svg",{viewBox:n,ref:i,className:P.svg,style:{"--stroke-dasharray":c},children:[t.jsx("line",{x1:G,y1:N,x2:b,y2:N,className:P["coordinate-axis-x"]}),"  ",t.jsx("line",{x1:G,y1:G,x2:G,y2:N,className:P["coordinate-axis-y"]}),"  ",y.map(({v:d,yPos:p})=>t.jsxs("g",{className:P.g,onClick:o({v:d}),children:[t.jsx("text",{x:No,y:p,className:P["axis-text"],children:d}),t.jsx(Tn,{xEnd:b,isEditX:a,className:classNames({[P["hover-click-line"]??""]:d===g}),dotData:{v:d,y:p}})]})),x.map(([[d,p],[j,v]])=>t.jsx(t.Fragment,{children:t.jsx("line",{x1:d,y1:p,x2:j,y2:v,className:P.line})})),s.map(d=>{const{k:p,v:j,kInd:v,x:E,y:I,color:D}=d,F=Cs(d);return t.jsx(t.Fragment,{children:t.jsxs("g",{className:Es(d),onClick:r(d),onDoubleClick:o({dotData:d}),style:{"--color":D},children:[t.jsx(O,{...F,children:t.jsx("text",{x:E,y:h,className:P.text,children:be(d)})}),a?t.jsx(t.Fragment,{children:t.jsx("line",{x1:E,x2:E,y1:I,y2:N,className:P["hover-y"]})}):null,t.jsx(O,{...F,children:t.jsx("circle",{cx:E,cy:I,className:P.circle})}),t.jsx(Tn,{xEnd:b,dotData:d,isEditX:a,onClick:o({dotData:d}),className:classNames({[P["hover-x--no-show"]??""]:j===g})})]})})})]})});function Vi(){const[e,n]=ne(),[s,r]=ne([]),o=T.useRef(null),i=T.useMemo(Ro(o),[o.current]),a=T.useMemo(()=>nt(e,i),[e,i]);return{tableData:e,setTableData:n,graphData:s,setGraphData:r,svgRef:o,svgSize:i,commonValueFromTableData:a}}const qi=e=>({clickCircle:U(Oo(e))}),vt=e=>`${Ls.name}${e}`;function Ls(e){const{dataArrWithPos:n,graphData:s,svgSize:r,setSize:o=()=>{},isEditX:i,size:a}=e,l=T.useMemo(()=>Bo({...e,size:a}),[a,n]),{svgWidth:c=0,svgHeight:u=0}=r,m=u,h=T.useMemo(()=>$o({drawDotData:l,graphData:s}),[l]),{clickCircle:f}=qi({...e,size:a}),g=U(Ns({isEditX:i,setSize:o,size:a})),b={...e,drawDotData:l,clickCircle:f,doubleClickCircle:g,graphLine:h,size:a};return t.jsxs(t.Fragment,{children:[t.jsx(je,{value:k.table,children:t.jsx(Gi,{...b,viewBox:[0,0,c,m].join(" ")})},vt(k.table)),t.jsx(je,{value:k.graph,children:t.jsx(Wi,{...b,viewBox:[0,0,c,u].join(" ")})},vt(k.graph)),t.jsx(Qe,{value:k.result},vt(k.result))]})}const Hi="_Dialog_1adzi_1",Ki="_title_1adzi_4",Xi="_Paper_1adzi_7",Ji="_Fab_1adzi_11",Yi="_SG_1adzi_28",te={Dialog:Hi,title:Ki,Paper:Xi,Fab:Ji,SG:Yi,"SG-ToggleButton":"_SG-ToggleButton_1adzi_32","SG-ToggleButton-FormControlLabel":"_SG-ToggleButton-FormControlLabel_1adzi_36"},Qi=({renderingEngine:e})=>{switch(e){case"SVG Engine":return t.jsx(t.Fragment,{children:"It is unstable! Suitable for small data volumes, few functions are available, and performance is low."});case"ECharts Engine":return t.jsx(t.Fragment,{children:"Suitable for large data volumes. With many available functions and high performance."})}},Zi=He,St="Select Rendering Engine",el="What's Super Graph",kn="https://encyclopediaofmath.org/wiki/Hypergraph";function tl(e){const{setSelectEngine:n,selectEngine:s,useIsEnableSuperGraph:[r=!1,o]}=e,[i,{setTrue:a,setFalse:l}]=De(!1);return t.jsxs(t.Fragment,{children:[t.jsx(Ct,{size:"large",onClick:a,title:"settings",className:te.Fab??"",children:t.jsx(O,{title:"settings",arrow:!0,children:t.jsx(Ke,{size:"large",children:t.jsx(Or,{fontSize:"large"})})})}),t.jsxs(Wn,{onClose:l,className:te.Dialog??"",open:i,children:[t.jsx(C,{elevation:24,className:te.title??"",children:t.jsx("h3",{children:"Settings"})},"title"),t.jsx(ue,{}),t.jsx(C,{elevation:24,className:classNames(te.Paper),children:t.jsxs(et,{fullWidth:!0,children:[t.jsx(O,{arrow:!0,title:St,placement:"top",children:t.jsx(Vn,{children:St})}),t.jsx(qn,{fullWidth:!0,label:St,defaultValue:"ECharts Engine",onChange:c=>{const u=c.target.value;u==="SVG Engine"&&!confirm("SVG is very unstable! Are you sure you want to switch to it?")||n(u)},value:s,children:["ECharts Engine","SVG Engine"].map(c=>t.jsx($t,{value:c,children:t.jsx(O,{arrow:!0,placement:"right",title:t.jsx(Qi,{renderingEngine:c}),children:t.jsx("div",{children:c})})},c))})]})},"engine"),t.jsx(ue,{}),t.jsxs(C,{elevation:24,className:classNames(te.Paper,te.SG),children:[t.jsx(O,{title:"Need Reload",arrow:!0,placement:"left",children:t.jsx(Rn,{selected:r,value:"",className:classNames(te["SG-ToggleButton"]),children:t.jsx(Lt,{control:t.jsx(Rr,{defaultChecked:!0,checked:r}),label:"Enable Super Graph",autoFocus:!0,className:classNames(te["SG-ToggleButton-FormControlLabel"]),onChange:(c,u)=>{o(u),Ne(()=>{location.reload()})}})})}),t.jsx(_e,{href:kn,underline:"hover",target:"_blank",children:t.jsx(Ct,{size:"large",title:kn,children:t.jsx(O,{title:el,arrow:!0,placement:"right",children:t.jsx(Ke,{size:"large",color:"info",children:t.jsx(Ur,{fontSize:"large",color:"primary"})})})})})]},"SG"),t.jsx(ue,{}),t.jsx(C,{elevation:24,className:classNames(te.Paper),children:t.jsx(J,{size:"large",variant:"contained",fullWidth:!0,color:"warning",onClick:()=>{confirm("Are you sure you want to clear the cache?")&&(localStorage.clear(),ya().then(()=>{alert("Clear Success!")},()=>{alert("Clear Fail!")}))},children:"Clear Cache"})},"clear"),t.jsx(ue,{}),t.jsx(C,{elevation:24,className:te.Paper??"",children:t.jsx(J,{size:"large",variant:"contained",fullWidth:!0,onClick:l,startIcon:t.jsx(Gn,{fontSize:"large"}),children:"Back"})},"back")]})]})}const nl="_Form_3js51_1",sl={Form:nl},{isSafeInteger:rl}=Number,jt="Input Size";function al(e){const{setSize:n,value:s,max:r}=e,[o,i]=ne(s);ge(()=>{i(s)},[s]);const a=_.isUndefined(o),l=!a&&(o<0||o>r);return t.jsxs(t.Fragment,{children:[t.jsx("p",{children:"Please double-click the dot on the Cohesion."}),t.jsx(ue,{variant:"fullWidth",flexItem:!0,children:t.jsx(Un,{label:"OR"})}),t.jsxs(C,{elevation:24,className:sl.Form??"",children:[t.jsx(et,{fullWidth:!0,children:t.jsx(Ze,{fullWidth:!0,placeholder:jt,label:jt,type:"search",title:jt,value:o,inputProps:{...kt.inputProps,max:r},spellCheck:!0,autoCapitalize:"on",enterKeyHint:"next",translate:"yes",unselectable:"on",inputMode:"numeric",onChange:c=>Ye.unstable_batchedUpdates(()=>{const{value:u}=c.target;if(!u)i(void 0);else{const m=parseInt(u);rl(m)&&i(m)}}),error:l,...l?{helperText:`Size is not in the right range(0 ~ ${r}).`}:null})}),t.jsx(O,{arrow:!0,title:a?"Set size to undefined":`${R["Hierarchical Subgraphs Search"]} with size is ${o}`,placement:"right",children:t.jsx(J,{fullWidth:!0,variant:"contained",size:"large",onClick:()=>{n(o)},disabled:l,children:"Search"})})]})]})}const Ve={"Tooltip-total":"_Tooltip-total_1n720_1","Tooltip-count-text":"_Tooltip-count-text_1n720_4","Tooltip-count":"_Tooltip-count_1n720_4"},{isArray:ol}=Array,Fs=e=>ol(e),il=({start:e,end:n},s)=>{const r=s[e],o=s[n];return!r||!o?"":`${[e,n].map(i=>ll(s,i)).join(" ~ ")}`},ll=(e,n)=>{const s=e[n];return s?be(s):""},Mn=(e,n)=>`${Fs(e)?"Show All":il(e,n)}`,cl=({start:e,end:n})=>n-e+1,ul=Wr(({className:e,...n})=>t.jsx(O,{...n,classes:{popper:e}}))(({theme:e})=>({[`& .${Gr.tooltip}`]:{padding:"unset",boxShadow:e.shadows[24]}}));function dl(e){const{visualMapSection:n,setSelectShowItem:s,dataArrWithPos:r,selectShowItem:o}=e;if(!n)return null;const i=[n,...n],a=i[o];return ts(n.length,2)?t.jsx(C,{elevation:24,className:A.Select??"",children:t.jsx(Bt,{autoComplete:!0,autoCapitalize:"words",autoFocus:!0,autoHighlight:!0,blurOnSelect:!0,clearOnBlur:!0,clearOnEscape:!0,fullWidth:!0,handleHomeEndKeys:!0,includeInputInList:!0,openOnFocus:!0,selectOnFocus:!0,disableClearable:!0,disableCloseOnSelect:!1,disabledItemsFocusable:!1,disableListWrap:!1,disablePortal:!1,filterSelectedOptions:!1,freeSolo:!1,options:i,getOptionLabel:l=>Mn(l,r),defaultValue:n,...a?{value:a}:null,onChange:(l,c,u,m)=>{s(c?i.indexOf(c):0)},renderInput:l=>t.jsx(Yt,{...l,label:"Select Subgraph",placeholder:"Please Input Subgraph"}),renderOption:(l,c,u)=>{const m=Fs(c);return t.jsx(ul,{title:m?t.jsxs(C,{elevation:24,className:Ve["Tooltip-total"]??"",children:["total: ",c.length]}):t.jsx(C,{elevation:24,className:Ve["Tooltip-count"]??"",style:{backgroundColor:c.color},children:t.jsxs(C,{elevation:24,className:Ve["Tooltip-count-text"]??"",children:["count: ",cl(c)]})}),arrow:!0,placement:"right",className:Ve.Tooltip??"",children:t.jsx(Jt,{...l,children:Mn(c,r)})})}})}):null}const hl="_beian_1i1tw_1",yt={beian:hl,"beian-h1":"_beian-h1_1i1tw_8","beian-h1-Link":"_beian-h1-Link_1i1tw_11"},{MAX_SAFE_INTEGER:ml}=Number,{host:pl,hostname:fl}=location,Dn="bcviz-demo.site";function gl(){const e=T.useRef(null),[n,s]=He("beian");return zt(as,r=>{is(r)||(s("1"),r.preventDefault())},os(e.current)),!n&&Ps&&pl===Dn&&fl===Dn?t.jsx("div",{className:yt.beian??"",style:{zIndex:ml},children:t.jsx("h1",{className:yt["beian-h1"],ref:e,children:t.jsx(_e,{href:"http://beian.miit.gov.cn",underline:"hover",target:"_blank",className:yt["beian-h1-Link"]??"",children:"ICP2025060391-1"})})}):null}const xl="_Modal_vlgoo_1",_l="_CircularProgress_vlgoo_8",zn={Modal:xl,CircularProgress:_l};function bl(e){const{open:n}=e;return t.jsx(Vr,{open:n,className:zn.Modal??"",children:t.jsx(Hn,{className:zn.CircularProgress??""})})}const Mt="tan",$s="red",{isSafeInteger:Pn}=Number,{entries:Ln,freeze:Zl,values:ec,keys:tc,fromEntries:nc}=Object;if(Ca){const{from:e}=Array,n=console.error;console.error=function(s){typeof s=="string"&&(s.startsWith('Warning: Each child in a list should have a unique "key" prop.')||s.startsWith("Warning: validateDOMNesting(...): %s cannot appear as a descendant of <%s>.%s"))||n.apply(console,e(arguments))}}var Bs=(e=>(e.old="/old",e.new="/new",e))(Bs||{});const Fn=({title:e,detail:n})=>_.isUndefined(n)?null:t.jsxs(Kn,{className:P.Accordion??"",defaultExpanded:!0,children:[t.jsx(Xn,{expandIcon:t.jsx(Jn,{}),className:P["Accordion-Summary"]??"",children:t.jsx("span",{className:classNames(ce,A["Main-Right--Show--Text"]),children:e})}),t.jsx(Yn,{className:P["Accordion-Details"]??"",children:t.jsx("p",{className:A["Main-Right--Show--Text"],children:n})})]},e),rt=36;T.createContext({});const qe=({tabKey:e,...n})=>t.jsx(Kr,{label:Xe[e],value:e,className:A.Tab??"",...n}),$n="Select Mode",wt="Choose Rank",Bn="SG";function vl(){Pt(()=>{const{origin:S,protocol:z,hash:$,host:L,assign:W,reload:X,replace:oe}=location;if(!sessionStorage.getItem("hjx")&&Et&&S!==ye&&z==="https:"&&Ps){const Q=new URL($,ye);confirm(`.${Q}`)?location.assign(Q):sessionStorage.setItem("hjx","hxj")}}),zt("beforeunload",S=>{if(Et&&(Y||r)){S.preventDefault();const z="You have unsaved changes. Are you sure you want to leave?";return S.returnValue=z,z}});const[e]=De(!1),{tableData:n,setTableData:s,graphData:r,setGraphData:o,svgSize:i,commonValueFromTableData:a,svgRef:l}=Vi(),{data:c,runAsync:u,mutate:m}=sn(wi,{...Cn,manual:!0}),h=Zi(Bn,{defaultValue:!0}),[f,g]=h,b=f&&(n?n.length>rt:!1);ge(()=>{if(F(void 0),n)if(b){const S="1";u({...v,s:S,t:S,problem_type:Bn,vex_list:"10"})}else m(void 0)},[n]),ge(()=>{},[n]);const{svgWidth:N=0,svgHeight:y=0}=i,[x="",d]=He(Je[0],{defaultValue:""}),[p="",j]=He(Je[1],{defaultValue:""}),v={dataset:x,BCviz_file:p},E=sn(yi,{...Cn,manual:!0,staleTime:-1,cacheTime:-1}),{data:I,loading:D,mutate:F}=E,se=On({s:"",t:""}),[de,Z]=ne(k.table),[H,Ie,Te]=An(R["Maximum Edge Biclique"]),[le,ve]=ne("ECharts Engine"),w=T.useMemo(()=>Is(H),[H]),[M,B]=ne(0),[V,ee]=ne(0),ke=ne([]),[re,he]=ke,[me,{set:at,setTrue:Cl,setFalse:El}]=De(!0),Y=T.useMemo(()=>un(me,n),[n,me]),{size:pe,UV:ae,dataThisMode:Nl,dataArr:Ae,selectShowData:Qt,count:Os,numOfData:Oe,params:Re}=T.useMemo(()=>{const S=I?.[H];if(!S)return{};const{count:z,dataArr:$,...L}=S,W=$?.[M];if(!W)return{};const{size:X,count:oe,label:Q,...lt}=W;return w?{size:X}:{size:X,UV:lt,dataThisMode:S,dataArr:$,selectShowData:W,count:oe,numOfData:z,params:L}},[I,H,M,Y]),Zt=Ae?.length,en=le==="ECharts Engine",tn=_.isUndefined(pe),ot=U(S=>{F({...I,[R["Hierarchical Subgraphs Search"]]:{dataArr:[{size:S}]}})});ge(()=>{Z(k.table),Te()},[Y,le]),ge(()=>{he([])},[Y]);const Rs=T.useMemo(()=>qt(Y,r,a,y),[Y,r,a,y]),{dataArrWithPos:Se,visualMapSection:nn}=T.useMemo(()=>{const S=Rs;if(w){const{datas:L,visualMapSection:W}=Ao({isEditX:w,dataArrWithPos:S,size:pe,commonValueFromTableData:a});return{dataArrWithPos:V===0||!W?L:Pa(S,W[V-1]),visualMapSection:W}}const z=ae?S?.map(L=>{const{k:W,kInd:X}=L,oe=ae[W]?.includes(X)?Mt:void 0;return oe?{...L,color:oe}:L}):S;return{dataArrWithPos:ka(z,re)}},[a,ae,H,pe,re,V]),Us=U(()=>{if(w||!ae){const $=Se.filter(({color:X})=>X),L=Ht($);return{resultGraph:r.filter(X=>_.every(X,(oe,Q)=>!!L[Q][oe])),filterTableData:$}}const S=r.filter($=>_.every($,(L,W)=>ae[W]?.includes(L)??!1)),z=Y.filter(({k:$,kInd:L})=>ae[$]?.includes(L));return{resultGraph:S,filterTableData:z}}),{resultGraph:Ws,resultTable:Gs}=T.useMemo(()=>{const{resultGraph:S,filterTableData:z}=Us(),$=un(me,z),L=za($,S,{svgWidth:N,svgHeight:y});return{resultGraph:S,resultTable:L}},[ae,r,Y,w,Se]),Vs=U(()=>{}),it={useSetInputST:se,useGetFromST:E,fileNames:v,setTabToResult:Vs,dataArrWithPos:Y??[],useMultiDots:ke},qs=U(S=>{const{componentType:z,dataIndex:$,name:L,value:W}=S;if(w){z==="markArea"&&ee($+1);return}if(Pn($)&&L&&Pn(W)&&typeof W=="number"){const X=L[0],oe=parseInt(L.slice(1));if(!Y)return;const Q=Y.find(({k:ct,kInd:Hs})=>ct===X&&Hs===oe);if(!Q)return;if(!re||re.length===0){he([Q]);return}const lt=re.includes(Q);he(lt?re.filter(ct=>ct!==Q):[...re,Q])}});return t.jsxs(t.Fragment,{children:[t.jsxs(C,{className:A.Main??"",elevation:24,children:[t.jsx(tl,{setSelectEngine:ve,selectEngine:le,useIsEnableSuperGraph:h}),t.jsx(Nn,{children:t.jsxs(C,{elevation:24,className:A["Main-Left"]??"",children:[t.jsx(Di,{setDatas:[o,s],setFileNames:[d,j],className:A.Tool}),t.jsx(C,{elevation:24,className:A.Select??"",children:t.jsxs(et,{fullWidth:!0,children:[t.jsx(Vn,{children:$n}),t.jsx(qn,{value:H,onChange:S=>{Ie(S.target.value)},label:$n,fullWidth:!0,children:[R["Maximum Edge Biclique"],R["Maximal Biclique Enumeration"],R["(p,q)-biclique Counting"],R["Hierarchical Subgraphs Search"]].map(S=>t.jsx($t,{value:S,title:Zn[S],children:S},S))})]})}),t.jsx(C,{elevation:24,children:t.jsxs(an,{value:H,children:[t.jsx(bt,{...it,modeKey:R["Maximum Edge Biclique"]}),t.jsx(bt,{...it,modeKey:R["Maximal Biclique Enumeration"]}),t.jsx(bt,{...it,modeKey:R["(p,q)-biclique Counting"]}),t.jsx(Qe,{value:R["Hierarchical Subgraphs Search"],className:A.TabPanel??"",children:t.jsx(C,{elevation:24,className:A["Paper-text"]??"",children:a?t.jsx(al,{value:pe,setSize:ot,max:a.max}):null})})]})}),Ae&&ts(Zt,2)?t.jsx(C,{elevation:24,className:A.Select??"",children:t.jsx(O,{title:t.jsxs(t.Fragment,{children:["Count: ",t.jsx("span",{className:ce,children:Zt})]}),arrow:!0,placement:"right",children:t.jsx(Bt,{autoComplete:!0,autoCapitalize:"words",autoFocus:!0,autoHighlight:!0,blurOnSelect:!0,clearOnBlur:!0,clearOnEscape:!0,fullWidth:!0,handleHomeEndKeys:!0,includeInputInList:!0,openOnFocus:!0,selectOnFocus:!0,disableClearable:!0,disableCloseOnSelect:!1,disabledItemsFocusable:!1,disableListWrap:!1,disablePortal:!1,filterSelectedOptions:!1,freeSolo:!1,options:Ae,...Qt?{value:Qt}:null,onChange:(S,z,$,L)=>{B(z?Ae.indexOf(z):0)},renderInput:S=>t.jsx(Yt,{...S,label:wt,placeholder:wt,title:wt}),renderOption:(S,{label:z,...$},L)=>t.jsx(O,{title:Ta($),arrow:!0,placement:"right",children:t.jsx(Jt,{...S,children:z??`Rank ${L.index+1}`})})})})}):null,w?t.jsx(dl,{setSelectShowItem:ee,selectShowItem:V,visualMapSection:nn,dataArrWithPos:Se}):null]})}),t.jsx(C,{className:A["Main-Mid"]??"",elevation:24,children:t.jsxs(an,{value:de,children:[t.jsx(C,{elevation:24,children:t.jsxs(qr,{onChange:(S,z)=>Z(z),variant:"fullWidth",children:[t.jsx(qe,{tabKey:k.table}),t.jsx(O,{arrow:!0,title:c?"Super Graph":null,children:t.jsx(qe,{tabKey:k.graph})}),t.jsx(O,{arrow:!0,title:Re?t.jsx(t.Fragment,{children:t.jsxs("fieldset",{children:[t.jsx("legend",{className:ce,children:"Search Params"}),Ln(Re).map(Ut)]})}):null,children:t.jsx(qe,{tabKey:k.result,disabled:tn})}),en?t.jsx(qe,{tabKey:k.all}):null]})}),Se.length?en?t.jsx(vs,{dataArrWithPos:Se,graphData:r,size:pe,resultGraph:Ws,selectMode:H,useSetInputST:se,setTab:Z,resultTable:Gs,setSize:ot,isEditX:w,commonValueFromTableData:a,clickEChartDotToAddMultiDots:qs,dataFromST:I,superData:c,visualMapSection:nn}):t.jsx(Ls,{commonValueFromTableData:a,graphData:r,dataArrWithPos:Se,isEditX:w,svgRef:l,svgSize:i,setSize:ot,size:pe}):t.jsx(Hr,{className:A.Chart??"",variant:"rounded",animation:"wave"})]})}),tn?null:t.jsx(Nn,{buttonOrder:1,children:t.jsx(C,{className:A["Main-Right"]??"",elevation:0,children:t.jsxs(C,{elevation:24,className:A["Main-Right--Show"]??"",children:[_.isUndefined(Oe)?null:t.jsx(O,{arrow:!0,placement:"left",title:_.isUndefined(Oe)?null:t.jsxs("h4",{children:["The number of (",Re?.s,",",Re?.t,")-bicliques is: ",t.jsx("span",{className:ce,children:Oe})]}),children:t.jsx("h4",{className:classNames(ce,A["Main-Right--Show--Num"]),children:t.jsx("span",{children:Oe})})}),t.jsx(Fn,{title:"size",detail:pe}),ae?Ln(ae).map(([S,z])=>z.length?t.jsxs(Kn,{className:P.Accordion??"",defaultExpanded:z.length<=23,children:[t.jsx(Xn,{expandIcon:t.jsx(Jn,{}),className:P["Accordion-Summary"]??"",children:t.jsx("span",{className:classNames(ce,A["Main-Right--Show--Text"]),children:`${S} `})}),t.jsx(Yn,{className:P["Accordion-Details"]??"",children:z.map($=>t.jsx("p",{className:A["Main-Right--Show--Text"]??"",children:$}))})]},S):null):null,t.jsx(Fn,{title:"count",detail:Os})]})})})]}),t.jsx(bl,{open:e||D}),t.jsx(gl,{})]})}const Sl=T.lazy(()=>ia(()=>import("./index-H8thBMRi.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]),import.meta.url));var As=(e=>(e.edit="/edit",e))(As||{});function jl(){return t.jsxs(ra,{children:[t.jsx(on,{index:!0,element:t.jsx(vl,{})}),t.jsx(on,{path:"/edit",element:t.jsx(T.Suspense,{fallback:t.jsx(Xr,{open:!0,children:t.jsx(Hn,{})}),children:t.jsx(Sl,{})})})]})}const yl=()=>t.jsx(T.StrictMode,{children:t.jsx(Jr,{injectFirst:!0,children:t.jsxs(na,{children:[t.jsx(jl,{}),t.jsx(Qr,{style:{zIndex:Yr.modal+1}})]})})}),wl=document.body;Xs(wl).render(t.jsx(t.Fragment,{children:t.jsx(yl,{})}));export{A as B,dt as C,ci as F,bl as L,Nn as S,kt as T,K as U,gt as a,tt as b,di as c,st as d,Ql as e,Je as f,zs as g,Ei as h,Ca as i,Cn as j,nt as k,qt as l,Mt as m,mt as n,fi as p,es as s,Ci as u,Wa as w};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./index-H8thBMRi.js","./react-oik9md-E.js","./@babel-_Kefij6Y.js","./ahooks-VJayHAVi.js","./tslib-xX1bOrSW.js","./lodash-C7I7b_wX.js","./react-fast-compare-751UTDWK.js","./react-dom-a-17rxNu.js","./scheduler-Xt5_ASe0.js","./react-toastify-5bXptfeX.js","../css/react-toastify-zACNttC4.css","./@mui-9txVA_s5.js","./react-transition-group-0QNSnBtb.js","./@emotion-ia0lOm4d.js","./hoist-non-react-statics-y4nWN7rF.js","./stylis-W9rcUKMO.js","./@popperjs-v-la0Vhf.js","./react-router-m2kkV1nU.js","./@remix-run-phvj9XUc.js","./react-router-dom-OWcGx1G4.js","./echarts-Vo_PYHjZ.js","./zrender-6ibt0cUB.js","./@algolia-kof8UNv8.js","../css/index-nRSwRPIG.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
