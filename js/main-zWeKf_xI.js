import{r as T,j as e}from"./react-oik9md-E.js";import{u as Xn,a as st,b as B,c as Ht,d as Jn,e as Yn,f as rt,g as J,h as Zn,i as Kt,j as Xt,k as be,l as Qn,m as pe,n as _t,o as es}from"./ahooks-7GFx-aaz.js";import{i as ts}from"./react-fast-compare-751UTDWK.js";import{u as ns,g as jt,i as ss,a as rs,b as as,c as os,d as is,e as ls,f as cs,h as us,j as ds,k as hs,l as ms,m as ps,n as fs,o as gs,p as xs,q as bs,r as vs,s as _s,t as js}from"./echarts-GffPWO-z.js";import{P as S,T as Fe,d as Ss,D as ae,L as Me,B as K,a as ys,b as Cs,c as V,e as ws,f as Ns,g as Es,h as Ds,i as Is,C as Jt,j as Pe,I as Yt,k as Ms,l as Zt,F as Ts,m as Qt,n as ve,o as ks,M as fe,A as en,p as Fs,q as Ps,r as $s,s as zs,t as Ls,u as Ye,S as Ze,v as As,w as St,x as Bs,y as Ve,z as Os,E as tn,G as nn,H as sn,J as rn,K as Rs,N as Vs,O as Us}from"./@mui-aSa7pBhJ.js";import{d as at}from"./immer-U6fk-Zvt.js";import{a as Ws,r as $e,c as qs}from"./react-dom-tVoZXIl-.js";import{Q as _e,k as an}from"./react-toastify-5bXptfeX.js";import{d as Gs}from"./@algolia-kof8UNv8.js";import{u as Hs,H as Ks}from"./react-router-dom-GFem2kaG.js";import{u as Xs,b as Js,c as Ys}from"./react-router-I1NCjZ8i.js";import"./@babel-_Kefij6Y.js";import"./tslib-xX1bOrSW.js";import"./lodash-C7I7b_wX.js";import"./zrender-6ibt0cUB.js";import"./react-transition-group-QTzb2ErI.js";import"./@emotion-ia0lOm4d.js";import"./hoist-non-react-statics-y4nWN7rF.js";import"./stylis-W9rcUKMO.js";import"./@popperjs-v-la0Vhf.js";import"./scheduler-Xt5_ASe0.js";import"./@remix-run-wEAHOncH.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=s(a);fetch(a.href,o)}})();function Zs(t,n){return t>>n&1}const ot=Object.freeze(["rgb(255, 0, 0)","rgb(255, 115, 0)","rgb(255, 251, 0)","rgb(72, 255, 0)","rgb(0, 255, 213)","rgb(0, 43, 255)","rgb(122, 0, 255)","rgb(255, 0, 200)"]),Qs="_Main_1ppnf_15",er="_Table_1ppnf_22",tr="_table_1ppnf_26",nr="_SVG_1ppnf_31",sr="_Accordion_1ppnf_38",rr="_line_1ppnf_70",ar="_circle_1ppnf_71",or="_text_1ppnf_94",ir="_svg_1ppnf_94",lr="_highlight_1ppnf_100",cr="_g_1ppnf_52",ur="_line_how_1ppnf_1",E={Main:Qs,Table:er,table:tr,SVG:nr,Accordion:sr,"Accordion-Summary":"_Accordion-Summary_1ppnf_42","Accordion-Details":"_Accordion-Details_1ppnf_48","graph-svg":"_graph-svg_1ppnf_52",line:rr,circle:ar,"no-highlight":"_no-highlight_1ppnf_84",text:or,svg:ir,"axis-text":"_axis-text_1ppnf_94",highlight:lr,"more-highlight":"_more-highlight_1ppnf_116",g:cr,"hover-click-line":"_hover-click-line_1ppnf_273","hover-x":"_hover-x_1ppnf_273","hover-x--no-show":"_hover-x--no-show_1ppnf_273","hover-y":"_hover-y_1ppnf_274",line_how:ur,"coordinate-axis-y":"_coordinate-axis-y_1ppnf_282","coordinate-axis-x":"_coordinate-axis-x_1ppnf_282","pulse-signup-button":"_pulse-signup-button_1ppnf_1"},{error:O}=console,yt=t=>(t.addEventListener("abort",n=>{t.close(),O("abort",n)}),t.addEventListener("close",n=>{t.close(),O("close",n)}),t.addEventListener("error",n=>{t.close(),O("error",n)}),t.addEventListener("versionchange",n=>{t.close(),O("versionchange",n)}),t),dr=(t,n)=>(n.addEventListener("complete",()=>{t.close()}),n.addEventListener("abort",s=>{n.abort(),t.close(),O("abort",s)}),n.addEventListener("error",s=>{n.abort(),t.close(),O("error",s)}),n),on=t=>new Promise(async(n,s)=>{const{DBname:r,version:a,storeName:o,keyPath:i,mode:l}=t,u=indexedDB.open(r,a);u.addEventListener("success",()=>{const c=yt(u.result);if(c.objectStoreNames.contains(o))return n(dr(c,c.transaction(o,l,{durability:"strict"})).objectStore(o))}),u.addEventListener("upgradeneeded",()=>{const c=yt(u.result);if(!c.objectStoreNames.contains(o))return c.createObjectStore(o,{autoIncrement:!0,...i?{keyPath:i}:null})}),u.addEventListener("error",c=>{s(c),O("error",c,u)}),u.addEventListener("blocked",c=>{s(c),O("blocked",c,u)})}).catch(O),it=t=>{const{IDBValidKey:n,data:s}=t;return on({...t,mode:"readwrite"}).then(r=>(r&&s&&r.add(s,...r.keyPath?[]:[n]).addEventListener("error",O),r),O).catch(O)},hr=async t=>new Promise((n,s)=>{const{query:r}=t;return on({...t,mode:"readonly"}).then(a=>{if(a){const o=r?a.get(r):a.getAll();o.addEventListener("success",()=>{n(o.result)}),o.addEventListener("error",i=>{O(i,o),s(o.error)})}return a},s).catch(s)}),mr=()=>indexedDB.databases().then(t=>t.filter(({name:n})=>n).map(({name:n})=>n?indexedDB.deleteDatabase(n):new IDBOpenDBRequest),O).catch(O);var pr={VITE_resumeFolder:"resume",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{DEV:fr,PROD:Qe}=pr,{freeze:lt,entries:gr,values:Oo}=Object,xr=t=>!!(Qe&&t&&_.isPlainObject(t));var P=(t=>(t["Maximum Biclique"]="Maximum Biclique",t["Maximal Biclique Enumeration"]="Maximal Biclique Enumeration",t["(p,q)-biclique Counting"]="(p,q)-biclique Counting",t["Hierarchical Subgraphs Search"]="Hierarchical Subgraphs Search",t))(P||{});const ct=lt({"Maximum Biclique":"MEB","Maximal Biclique Enumeration":"MBE","(p,q)-biclique Counting":"PQB","Hierarchical Subgraphs Search":""}),br=lt({DBname:"HJX",storeName:"HXJ"}),ln=t=>hr({...br,query:t}).then(n=>{if(xr(n))return n;throw new Error(n)});var $=(t=>(t[t.all=0]="all",t[t.table=1]="table",t[t.graph=2]="graph",t[t.result=3]="result",t))($||{});lt({1:"Cohesion"});const vr=t=>gr(t).map(dt),ee="tanContent",de=({k:t,kInd:n})=>`${t}${n}`,_r=(t,n)=>{if(!n||n.length===0)return t;const s=Cn(n);return t?.map(a=>{const{k:o,kInd:i}=a,l=s[o][i]?Ln:void 0;return{...a,...l?{color:l}:null}})},jr=10,Sr=40,yr=(t,n)=>_.clamp(n?t*5:t,jr,Sr),Cr=t=>{const s=_.sortBy(t,({v:a})=>a).slice(xe*-1);return _.sortBy(s,({i:a})=>a)},Ct=(t,n)=>{if(!n)return[];const s=n.map((r,a)=>({...r,i:a}));return t||n.length<=xe?s:Cr(s)},wr="_Main_1idkx_15",Nr="_Select_1idkx_38",Er="_TabPanel_1idkx_41",Dr="_Tab_1idkx_41",Ir="_hidden_1idkx_83",Mr="_Chart_1idkx_87",Tr="_Modal_1idkx_92",kr="_CircularProgress_1idkx_99",M={Main:wr,"Main-Left":"_Main-Left_1idkx_33",Select:Nr,TabPanel:Er,"Paper-text":"_Paper-text_1idkx_44","Main-Mid":"_Main-Mid_1idkx_51",Tab:Dr,"Main-Right":"_Main-Right_1idkx_62","Main-Right--Show":"_Main-Right--Show_1idkx_69","Main-Right--Show--Text":"_Main-Right--Show--Text_1idkx_75","Main-Right--Show--Num":"_Main-Right--Show--Num_1idkx_80",hidden:Ir,Chart:Mr,Modal:Tr,CircularProgress:kr,"pulse-signup-button":"_pulse-signup-button_1idkx_1"},wt=(t=()=>{})=>zr?.(()=>Lr?.(()=>$r?.(()=>Pr?.(()=>cn?.resolve?.()?.then?.(()=>{const{port1:n,port2:s}=new Fr;n?.postMessage?.(null),s.onmessage=t}).catch?.(un))))),ze=(t=()=>{})=>new cn(n=>wt?.(n))?.then?.(()=>wt?.(t)).catch?.(un),{Promise:cn,addEventListener:Ro,console:{error:un}={},MessageChannel:Fr,queueMicrotask:Pr,requestAnimationFrame:$r,requestIdleCallback:zr,setTimeout:Lr}=window??self??globalThis??void 0;ns([rs,as,os,is,ls,cs,us,ds,hs,ms,ps,fs,gs,xs,bs,vs,_s,js]);const dn=window??self??globalThis??global??void 0??new EventTarget,{addEventListener:Ar,removeEventListener:Br}=dn,{dispatchEvent:Or}=dn,et="resize",Rr=new Event(et),Ue=T.memo(t=>{const{option:n,onParams:s=[]}=t,r=T.useRef(null);return Xn(()=>{const{current:a}=r;if(!a||!n)return;const o=jt(a)??ss(a);o.showLoading(),ze(()=>{o.setOption(n,!0,!0),s.map(c=>o.on(...c)),o.hideLoading()});const i=In(o.resize),l=()=>i(),u=new ResizeObserver(l);return u.observe(a),Ar(et,l),()=>{s.map(([c,,p])=>o.off(c,p)),u.disconnect(),i.cancel?.(),i.clear?.(),Br(et,l)}},[n]),st(()=>{const{current:a}=r;if(!a)return;const o=jt(a);o&&(o.clear(),o.dispose())}),e.jsx(e.Fragment,{children:e.jsx(S,{elevation:24,ref:r,className:M.Chart??""})})},ts),{error:Vr}=console;function ut(...t){if(t.length===0)return!0;const n=_.head(t);return t.every(s=>_.isEqual(s,n))}const Ur=(t,n)=>n.every(s=>s===t),Nt=t=>{if(!(t instanceof HTMLDivElement))return!1;const{childElementCount:n,childNodes:s,children:r,firstChild:a,lastChild:o,firstElementChild:i,lastElementChild:l}=t;return!t.hasChildNodes()||!Ur(1,[n,s.length,r.length])?!1:ut(a,o,i,l,s.item(0),r.item(0))},Et="mouseup",Wr=["ctrl","alt","shift","meta"].map(t=>`${t}.f11`);function ge({children:t,...n}){const s=T.useRef(null),{current:r}=s,a=B(u=>{if(!Nt(u))return null;const c=u?.firstChild;return Nt(c)?c:null}),o=B(In(u=>u instanceof HTMLDivElement&&!document.fullscreenElement?u.requestFullscreen({navigationUI:"hide"}).catch(Vr):Promise.reject(u)));st(()=>{o.cancel?.(),o.clear?.()});const i=B(u=>{const c=a(r),{target:p,currentTarget:d}=u;if(!(!c||!ut(r,p,d))){if(u instanceof MouseEvent){const{button:f,altKey:m,ctrlKey:x,metaKey:j,shiftKey:g,relatedTarget:y,type:h}=u;if(h===Et&&f===0&&!m&&!x&&!j&&!g&&!y)return}return u.preventDefault(),o(c)}});Ht(["contextmenu","dblclick","auxclick",Et],i,{enable:!!r,target:r}),Jn(Wr,u=>{const c=a(r);return o(c)},{exactMatch:!0});const l=Yn();return rt(()=>{ze(()=>{r||l()})}),e.jsx(Fe,{...n,ref:s,children:e.jsx(S,{elevation:24,children:t})})}const{isSafeInteger:Dt}=Number,dt=([t,n])=>e.jsxs("div",{children:[e.jsx("span",{children:`${t}: `}),e.jsx("span",{className:ee,children:n?.toString()})]},t),hn=({k:t,kInd:n,v:s,neighbor:r,color:a},o)=>e.jsxs(e.Fragment,{children:[a&&o&&!Mn(o)?e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsxs("span",{className:ee,children:["fetch ",o," result"]})}),e.jsx("br",{})]}):null,[["Vertex Name",`${t+n}`],["Maximum Cohesion",`${s}`],["Neighbors",`${r?.map(({k:i,kInd:l})=>`${i+l}`).join(", ")}`],["Vertex Degree",`${r?.length}`]].map(dt)]}),mn=(...t)=>Ws(hn(...t)),pn={trigger:"item",axisPointer:{type:"cross"},label:{show:!0}},fn=at({label:{show:!0},roam:!0}),gn={toolbox:{show:!0,feature:{saveAsImage:{},restore:{},dataView:{},dataZoom:{},magicType:{},brush:{}}}},We=at({show:!0,snap:!0}),xn={lineStyle:{width:4,shadowColor:"rgba(0,0,0,.3)",shadowBlur:10},scale:!0,label:{show:!0,fontSize:24,fontWeight:"bolder"},labelLine:{show:!0},itemStyle:{shadowColor:"rgba(0,0,0,.3)",shadowBlur:10}},It=(t,n,s,r=void 0)=>{if(!t||!n)return{};const a=sa(t,n);return{...gn,tooltip:{},legend:{data:[H.U,H.V]},series:[{type:"graph",...fn,tooltip:{...pn,formatter(i,l){const{dataType:u,dataIndex:c,data:p}=i;if(u==="edge")return p.source+"<br/>"+p.target;const d=t[c];return d?mn(d,s):l}},categories:[{name:H.U,base:H.U},{name:H.V,base:H.V}],edgeLabel:{},data:t.map(i=>{const{k:l,kInd:u,graphX:c,graphY:p,v:d,color:f}=i;return{name:de(i),value:d,category:l,symbolSize:yr(d,f),x:c,y:p,...f?{itemStyle:{color:f}}:null}}),links:n?.map(({u:i,v:l},u)=>{const c=a[u];return{source:`u${i}`,target:`v${l}`,...c?{lineStyle:{color:a[u],width:4}}:null}}),lineStyle:{opacity:1},emphasis:{focus:"adjacency",...xn}}]}},qr=t=>t?{itemStyle:{color:t,shadowColor:"rgba(0,0,0,.3)",shadowBlur:16},symbolSize:16,symbol:"circle"}:{},bn=at({[P["Maximum Biclique"]]:{s:"Minimum vertex count in U",t:"Minimum vertex count in V"},[P["Maximal Biclique Enumeration"]]:{s:"Minimum vertex count in U",t:"Minimum vertex count in V"},[P["(p,q)-biclique Counting"]]:{s:"Minimum vertex count in U",t:"Minimum vertex count in V"}});_.debounce(()=>{_e.warn("result is empty")});const qe=t=>`${vn.name}${t}`;function vn(t){const{dataArrWithPos:n,graphData:s,size:r,resultGraph:a,selectMode:o,useSetInputST:i,setTab:l,resultTable:u,setSize:c,isEditX:p,commonValueFromTableData:d,clickEChartDotToAddMultiDots:f}=t,{dataArrWithPos:m,visualMapSection:x,sections:j}=T.useMemo(()=>{if(p){const{datas:C,visualMapSection:k,sections:z}=oa({...t});return{dataArrWithPos:C,visualMapSection:k,sections:z}}return{dataArrWithPos:n}},[n]),g=T.useMemo(()=>{if(m)return{...gn,dataZoom:[{type:"slider",xAxisIndex:0,filterMode:"none"},{type:"slider",yAxisIndex:0,filterMode:"none"},{type:"inside",xAxisIndex:0,filterMode:"none"},{type:"inside",yAxisIndex:0,filterMode:"none"}],tooltip:{...pn,formatter(C,k){if("dataIndex"in C){const z=m[C.dataIndex];if(z)return mn(z,o)}return k}},xAxis:{type:"category",data:m.map(de),axisPointer:We},yAxis:{type:"value",axisPointer:We},series:[{...fn,data:m.map(({v:C,color:k})=>({value:C,...qr(k)})),type:"line",emphasis:{focus:"self",...xn},symbolSize:8,...p&&!h&&x?{markLine:{symbol:["circle","circle"],data:[{yAxis:r}]},markArea:{animation:!0,data:x.map(({start:C,end:k,color:z},q)=>{const L=m[C],Z=m[k],ie=`${L?.k}${L?.kInd}~${Z?.k}${Z?.kInd}`,ye={color:z,opacity:.03},Ce={show:!0,formatter:ie,position:"insideBottom",color:"#000"},we={label:Ce,itemStyle:{opacity:.05}};return[{itemStyle:ye,label:Ce,xAxis:C,emphasis:we},{itemStyle:ye,label:Ce,xAxis:k,emphasis:we}]})}}:null}],axisPointer:We,...p&&x?{visualMap:{pieces:x.map(({start:C,end:k,color:z})=>{const q=m[C],L=m[k];return{min:C,max:k,color:z,label:`${q?.k}${q?.kInd}~${L?.k}${L?.kInd}`}}),dimension:0,show:!0,outOfRange:{color:"Gray",colorAlpha:.8},inverse:!0}}:null}},[m]),y=T.useMemo(()=>m?It(m,s,o):void 0,[m]),h=_.isUndefined(r),b=T.useMemo(()=>{if(!h&&!a?.length){const C=bn[o];return{title:{text:`${o} result is empty`,subtext:`${_.map(i[0],(k,z)=>`${C?.[z]}: ${k}`).join(`
`)}`,left:"center",top:"center",textStyle:{fontSize:30,lineHeight:60},subtextStyle:{fontSize:20,lineHeight:40}}}}return It(u,a)},[a]),w=B(Dn({isEditX:p,setSize:c,size:r})),D=["dblclick","series",C=>{const{dataIndex:k,name:z,value:q}=C;Dt(k)&&z&&Dt(q)&&typeof q=="number"&&w({v:q})()}],N=["click","series",f],I=e.jsx(Ue,{option:g,onParams:[D,N]}),U=e.jsx(Ue,{option:y,onParams:[D,N]}),G=e.jsx(Ue,{option:b}),[Y,Se]=J(["line","graph"]);return Zn(Y),B((C,k)=>Y.includes(k)?C:null),e.jsxs(e.Fragment,{children:[e.jsx(ge,{value:$.table,children:I},qe($.table)),e.jsx(ge,{value:$.graph,children:U},qe($.graph)),e.jsx(ge,{value:$.result,children:G},qe($.result))]})}const{values:Gr,freeze:ht,keys:Vo}=Object;var H=(t=>(t.U="u",t.V="v",t))(H||{});const Hr=ht({0:"u",1:"v"}),A=32,Kr=A/2,_n=(t,{svgWidth:n,svgHeight:s})=>{const r=t?.map(({v:m})=>m)??[],a=Math.min(...r),o=Math.max(...r),i=o-a,{length:l}=r,u=n-A*2,c=s-A*2,p=u/(l-1),d=c/i;return{valuesArr:r,min:a,max:o,diff:i,realHeight:c,xRadix:p,yRadix:d,length:l,getYPos:m=>A+(o-m)*d,svgWidth:n,svgHeight:s}},mt=ht({u:0,v:1}),Xr=Object.keys(mt).length,Jr=t=>t?{neighbor:t}:{},Mt=(t,n,s,r)=>(t[n]||(t[n]=[])).push({k:s,kInd:r}),jn=()=>({u:{},v:{}}),Yr=t=>{const n=jn(),s=n.u,r=n.v;for(const a of t){const{u:o,v:i}=a;s&&r&&!_.isUndefined(o)&&!_.isUndefined(i)&&(Mt(s,o,"v",i),Mt(r,i,"u",o))}return n},Tt=(t,n,{xRadix:s,getYPos:r,svgWidth:a},o)=>{if(!n||!t)return[];const i=Yr(n),l=a-A*2,u=_.groupBy(t,({k:m})=>m),c=_.mapValues(u,m=>l/(m.length-1)),p=(o-A*2)/(Xr-1),d=_.mapValues(u,m=>new Map(_.sortBy(m,({kInd:x})=>x).map(({kInd:x},j)=>[x,j])));return t?.map((m,x)=>{const{v:j,k:g,kInd:y}=m;return{...m,i:x,x:A+x*s,y:r(j),graphX:A+(d[g].get(y)??0)*c[g],graphY:A+mt[g]*p,...Jr(i?.[g][y])}})},je=ht(["more-highlight","highlight","no-highlight"]),tt=_.last(je)??"",Sn=je.map(t=>_.camelCase(`is-${t}`)),{length:yn}=je,Zr=t=>1<<Sn.findIndex(s=>t[s]===!0)+1,Qr=(1<<yn)-1,ea=t=>{for(let n=1;n<yn;n++)if(Zs(t,n)===1)return je[n-1]??tt;return tt},ta=t=>{const n=Sn.findIndex(s=>t?.[s]===!0);return je[n]??tt},na=t=>{if(t.includes(Ln)&&t.includes(nt))return nt;if(t.length!==1)return;const n=_.head(t);if(n)return n},Cn=t=>{const n=jn();return _.isUndefined(t)||t.length===0?n:{...n,..._.mapValues(_.groupBy({...t},({k:s})=>s),s=>_.keyBy(s,({kInd:r})=>r))}},sa=(t,n,s=Cn(t))=>!t||!n?[]:n?.map(r=>{const a=_.uniq(_.map(r,(o,i)=>s[i]?.[o]?.color));return na(a)}),ra=({drawDotData:t,graphData:n})=>{const s=_.mapValues(_.groupBy(t,({k:r})=>r),r=>_.keyBy(r,({kInd:a})=>a));return n?.map(r=>{const a=Gr(_.mapValues(r,(u,c)=>s[c]?.[u])),o=a.reduce((u,c,p,d)=>{const{pos:f,highlightLevelNum:m}=u;if(!c)return u;const{graphX:x,graphY:j,color:g}=c;return{pos:[...f,[x,j]],highlightLevelNum:m&Zr(c)}},{pos:[],highlightLevelNum:Qr,color:""}),{highlightLevelNum:i}=o,l=_.uniq(a.map(u=>u?.color?u.color:""));return{...o,highlightLevel:ea(i),...l.length===1?{color:_.head(l)}:null}})},oe=t=>t.v,wn=ot.length,aa=({isEditX:t,dataArrWithPos:n,commonValueFromTableData:{length:s},size:r})=>{if(!t)return n;const a=_.isNil(r);if(a)return n.map(c=>({...c,color:"",isHighlight:a?!1:c.v>=r}));const o=[];let i=0,l=_.head(n);if(!l)return n;let u=oe(l);for(let c=1;c<=s;c++){const p=[l];for(;c<s;c++){const d=n[c];if(!d)break;const f=oe(d);if(f>=r||f>=u)p.push(d),l=d,u=f;else{l=d,u=f;break}}o.push(...p.map(d=>({...d,color:ot[i%wn]??""}))),i++}return o.map(c=>({...c,isHighlight:c.v>=r}))},oa=t=>{const{isEditX:n,dataArrWithPos:s,commonValueFromTableData:{length:r},size:a,colors:o=ot}=t;if(!n)return{datas:s,sections:[]};if(_.isNil(a))return{datas:s,sections:[]};const l=[];let u=0;const c=[],p=[],d=[],f=[];for(let m=0;m<r;m++){const x=s[m];if(!x)break;const j=oe(x),g=s[m+1],y=()=>{d.push(x),f.push(m)},h=()=>{if(j>=a){y();const w=o[u%wn]??"";return c.push(d),p.push({start:_.head(f)??0,end:_.last(f)??0,color:w}),l.push(...d.map(D=>({...D,color:w}))),d.length=0,f.length=0,u++,1}else return l.push(x),0};if(!g){h();break}oe(g)>=a?y():h()}return{datas:l,sections:c,visualMapSection:p}},ia=({isEditX:t})=>n=>()=>{},Nn=t=>({title:hn(t),arrow:!0}),kt=({clientWidth:t,clientHeight:n})=>{const s=t-A,r=n-A;return{svgWidth:t,svgHeight:n,xEnd:s,yEnd:r}},la=t=>()=>{const{current:n}=t;return kt(n||{clientWidth:innerWidth,clientHeight:innerHeight})},En=t=>classNames(E.g,E[ta(t)]),Dn=({isEditX:t,setSize:n,size:s})=>({dotData:r,v:a=r?.v})=>()=>{t&&n?.(a===s?void 0:a)},In=t=>Ss(_.debounce(Gs(t,0))),Mn=t=>t===P["Hierarchical Subgraphs Search"],ca="_title_1tlbs_1",ua="_Paper_1tlbs_5",da="_Input_1tlbs_8",ha="_TextField_1tlbs_14",se={title:ca,Paper:ua,Input:da,"input-file":"_input-file_1tlbs_11",TextField:ha,"TextField-Paper":"_TextField-Paper_1tlbs_20","TextField-Paper-input":"_TextField-Paper-input_1tlbs_23","FileInfo-Button":"_FileInfo-Button_1tlbs_26"},ma="_Dialog_c2d28_1",pa="_title_c2d28_4",fa="_Paper_c2d28_7",ga="_FileUploadTeam_c2d28_11",re={Dialog:ma,title:pa,Paper:fa,FileUploadTeam:ga};function xa(t){const{fileInfo:n}=t,{name:s,size:r,lastModified:a,type:o,downloadUrl:i}=n;return s?e.jsxs(e.Fragment,{children:[e.jsx(ae,{}),e.jsx(S,{elevation:24,className:re.Paper??"",children:e.jsxs("fieldset",{children:[s?e.jsx("legend",{children:e.jsx(Me,{href:i,title:"preview",target:"_blank",underline:"hover",children:s})}):null,s&&r?e.jsxs("p",{children:[" Content Length: ",filesize(r)]}):null,a?e.jsxs("p",{children:[" Last Modified: ",new Date(a).toJSON()]}):null,o?e.jsxs("p",{children:[" Content Type: ",o]}):null,e.jsxs(S,{elevation:0,className:re["FileInfo-Button"]??"",children:[e.jsx(Me,{href:i,target:"_blank",underline:"hover",children:e.jsxs(K,{variant:"outlined",children:[e.jsx(ys,{}),"preview"]})}),e.jsxs(K,{variant:"outlined",onClick:()=>{const l=document.createElement("a");l.href=i??"",l.download=s,l.click()},children:[e.jsx(Cs,{}),"download"]})]})]})})]}):null}const ba="_examples_141yp_1",va={examples:ba};function _a(t){const{defaultTxt:n,chooseExample:s}=t,[r,a,o]=Kt(null);return e.jsxs(S,{elevation:24,className:va.examples??"",children:[e.jsx(V,{title:"No suitable data? Click here to try these.",arrow:!0,children:e.jsxs(K,{size:"large",fullWidth:!0,onClick:i=>{a(i.currentTarget)},children:["> ",e.jsx(Me,{component:"button",children:"Examples"})]})}),e.jsx(ws,{open:!!r,anchorEl:r,onClose:()=>{o()},children:e.jsx(Ns,{children:n.map((i,l)=>e.jsx(V,{arrow:!0,title:`Example ${l+1}`,placement:"right",children:e.jsx(Es,{disablePadding:!0,children:e.jsx(Ds,{onClick:()=>{s(i),o()},children:e.jsx(Me,{component:"button",underline:"hover",children:i})},i)})},i))})})]})}const{revokeObjectURL:ja,createObjectURL:Sa}=URL,{freeze:ya}=Object,{error:Te}=console,Ca={lastModified:0,name:"",size:0,type:"",downloadUrl:""},Tn=t=>{t&&ja(t)},wa=t=>n=>{if(n){const s=Tn.bind(null,t);n.addEventListener("beforeunload",s),n.addEventListener("unload",s)}},pt=t=>{const n=Sa(t);return ze(()=>{const s=wa(n);s(window??self??globalThis??void 0),s(document);const{documentElement:r,body:a,head:o,scrollingElement:i,firstElementChild:l,lastElementChild:u,activeElement:c,firstChild:p,lastChild:d,doctype:f,defaultView:m}=document;s(o),s(a),s(r),s(c),s(l),s(u),s(i),s(d),s(f),s(m),s(p)}),n},ft=ya({DBname:"HJX",storeName:"HXJ"}),Na=t=>({...t,fileInfo:{...t.fileInfo,downloadUrl:pt(new Blob([t.fileData]))}}),kn=t=>ln(t).then(Na).catch(()=>fetch(t).then(async n=>{const{headers:s}=n,r=await n.text(),a=pt(new Blob([r])),o={fileInfo:{lastModified:Date.parse(s.get("last-modified")??""),name:t,size:parseInt(s.get("content-length")??""),type:s.get("content-type")??"",downloadUrl:a},fileData:r};return it({...ft,IDBValidKey:t,data:o}),o},Te)).catch(Te);function Ea(t){const{parseData:n,setWillPatchData:s,defaultTxt:r,title:a}=t,[o,i]=J(""),[l,u]=Xt(Ca);st(()=>{Tn(l.downloadUrl)});const c=B((d,f)=>{s({fileName:f.match(/[^\/]+$/)?.[0]??f,data:d})}),p=B(d=>kn(d).then(f=>{if(f){const{fileInfo:m,fileData:x}=f,j=n(x);if(j.length===0){_e.error("The file format is incorrect!");return}u(m),c(j,d)}},Te).catch(Te));return e.jsx(e.Fragment,{children:e.jsxs(S,{elevation:24,children:[e.jsx("h4",{className:se.title,children:a}),e.jsxs(S,{elevation:24,className:classNames(se.Paper,se.Input),children:[e.jsxs(K,{component:"label",variant:"contained",startIcon:e.jsx(Is,{}),fullWidth:!0,title:"Upload File",children:["Upload File",e.jsx("input",{type:"file",className:se["input-file"],onChange:d=>$e.unstable_batchedUpdates(()=>{const f=d.target.files?.[0];if(!f){alert("some error occur");return}const m=new FileReader;m.readAsText(f),m.onload=x=>{const j=x.target?.result||m.result;if(typeof j=="string")try{const{name:g,lastModified:y,size:h,type:b}=f;c(n(j),g);const w=pt(f);u({...l,name:g,lastModified:y,size:h,type:b,downloadUrl:w});const D={fileInfo:{...l,name:g,lastModified:y,size:h,type:b,downloadUrl:w},fileData:j};it({...ft,IDBValidKey:g,data:D})}catch{alert("some error occur")}}}),accept:".txt"})]}),e.jsx(ae,{orientation:"vertical",variant:"fullWidth",flexItem:!0,children:e.jsx(Jt,{label:"OR"})}),e.jsxs(S,{elevation:24,className:se.TextField??"",children:[e.jsxs(S,{elevation:24,className:se["TextField-Paper"]??"",children:[e.jsx(Pe,{label:"Please input URL",onChange:d=>{i(d.target.value)},value:o,fullWidth:!0,placeholder:"Please input URL",title:"Please input URL",className:se["TextField-Paper-input"]??""}),e.jsx(K,{size:"large",variant:"contained",disabled:!o,onClick:()=>p(o),children:"Fetch"})]}),e.jsx(_a,{defaultTxt:r,chooseExample:d=>{i(()=>(p(d),d))}})]})]}),e.jsx(xa,{fileInfo:l})]})})}const{isSafeInteger:Ge}=Number;function Ft(t){const n=t.split(`
`),s=[];let r=0,a;const{length:o}=n;for(;r<o;)if(n[r]?.startsWith("No.")){r++;const i=n[r++],l=n[r++],u=n[r++];let c;r<o&&n[r]?.startsWith("count:")&&(c=n[r++]);const p=i?.match(/size=(\d+)/)?.[1];if(!p)throw new Error("Invalid size format");const d=parseInt(p,10);if(!Ge(d)||d<=0)throw new Error("Size must be a positive integer");const f=l?.match(/U: (\d+(?: \d+)*)/);if(!f)throw new Error("Invalid U format");const m=f[1]?.split(" ").map(Number)??[];if(m?.some(isNaN)||m?.some(h=>h<=0))throw new Error("U values must be positive integers");const x=u?.match(/V: (\d+(?: \d+)*)/);if(!x)throw new Error("Invalid V format");const j=x[1]?.split(" ").map(Number)??[];if(j?.some(isNaN)||j?.some(h=>h<=0))throw new Error("V values must be positive integers");let g;if(c){const h=c.match(/count: (\d+)/)?.[1];if(!h)throw new Error("Invalid count format");if(g=parseInt(h,10),!Ge(g)||g<=0)throw new Error("Count must be a positive integer")}const y={size:d,[H.U]:m,[H.V]:j,label:`Rank ${s.length+1}`,...g?{count:g}:null};s.push(y)}else if(n[r]?.startsWith("The number of ")){const i=n[r+1];if(!i)throw new Error("The number of (\\d,\\d)-bicliques not has next line");const l=parseInt(i,10);if(!Ge(l)||l<=0)throw new Error("The number of (\\d,\\d)-bicliques must be a positive integer");a=l;break}else r++;return{dataArr:s,..._.isUndefined(a)?{}:{count:a}}}const{error:Pt}=console,{isSafeInteger:Da}=Number,$t="http://47.99.129.94",zt=(t,n)=>{const r=n.exec(t)?.[1]?.trim();return r?r.split(/\s+/).map(a=>{const o=parseInt(a);return Da(o)?o:0}):[]},Ia=t=>{const r=/size=(\d+)/.exec(t)?.[1],a=r?parseInt(r,10):0,o=zt(t,/U:\s+([\d\s]+)/),i=zt(t,/V:\s+([\d\s]+)/);return{size:a,u:o,v:i,label:"Rank 1"}},Ma=t=>({[P["Maximum Biclique"]]:{dataArr:[Ia(t)]},[P["Maximal Biclique Enumeration"]]:Ft(t),[P["(p,q)-biclique Counting"]]:Ft(t)}),Ta=async(t,n,s)=>{const r="/api/BCviz/v3",a=`${r}?${new URLSearchParams({...s,problem:ct[t]})}`,o=await ln(a).catch(()=>axios.get(r,{responseType:"text",params:s}).then(i=>{const{data:l}=i,u={...Ma(l)[t],...s};return it({...ft,data:u,IDBValidKey:a}),u},i=>{throw Pt(i),new Error(i)})).catch(i=>{throw Pt(i),new Error(i)});return{...n,...o?{[t]:o}:null}},ka=Object.freeze({loadingDelay:300,throttleWait:300,debounceWait:300,debounceLeading:!0}),Fa="_Tool_17xe8_7",Pa="_IconButton_17xe8_10",$a="_triangle_17xe8_15",za="_rotate_17xe8_25",Ie={"Main-Side":"_Main-Side_17xe8_1",Tool:Fa,IconButton:Pa,triangle:$a,rotate:za},Lt=["225deg","45deg"];function At(t){const{buttonOrder:n=0,children:s,...r}=t,[a,{toggle:o}]=be(!0);return s?e.jsxs(S,{className:Ie["Main-Side"]??"",elevation:24,...r,children:[e.jsx(V,{title:`${a?"collapse":"expand"} toolbar`,arrow:!0,children:e.jsx(Yt,{size:"large",className:Ie.IconButton??"",onClick:()=>{o(),ze(()=>{Or(Rr)})},style:{"--order":n,"--initRotate":Lt[n],"--clickRotate":Lt[1-n]},children:e.jsx("div",{className:classNames(Ie.triangle,{[Ie.rotate??""]:a})})})}),e.jsx(Ms,{in:a,orientation:"horizontal",children:s})]}):null}const{error:Fn}=console,{from:Bt,isArray:Uo}=Array,{freeze:La}=Object,{isSafeInteger:ke}=Number,Aa=t=>{const n=t.trim().split(`
`),s=[];for(const r of n){const[a,o,i]=r.trim().split(/[ \t]/),l=parseInt(o),u=parseInt(i);if(!ke(l)||!ke(u))return[];s.push({k:Hr[a],kInd:l,v:u})}return s},Ba=t=>{const n=t.trim().split(`
`),s=[];for(const r of n){const[a,o]=r.trim().split(/[ \t]/),i=parseInt(a),l=parseInt(o);if(!ke(i)||!ke(l))return[];s.push({[H.U]:i,[H.V]:l})}return s},Ot=["dataset","BCviz_file"],Rt=La([{title:"Bipartite Subgraph",parseData:Ba,defaultTxt:["example.txt","writer.txt","marvel.txt"]},{title:"Maximum Cohesion",parseData:Aa,defaultTxt:["example_cohesion.txt","writer_cohesion.txt","marvel_cohesion.txt"]}]),He=(t="searchParams is not enough")=>{throw Fn(t),new Error(t)};function Oa(t){const{setDatas:n,setFileNames:s}=t,[r,{setTrue:a,setFalse:o}]=be(!1),{list:i,resetList:l,replace:u}=Qn(),c=B(h=>b=>u(h,b)),p=B(()=>l([])),[d,f]=Hs(),{arrEntries:m,arrKeys:x}=T.useMemo(()=>{const h=Bt(d.entries()),b=h.map(([w])=>w);return{arrEntries:h,arrKeys:b}},[d]),j=T.useMemo(()=>{const{length:h}=n;return!(d.size<h||_.uniq(x).filter(b=>Ot.includes(b)).length!==h)},[d]),g=B(()=>{a(),f()});rt(()=>{if(!j){g();return}const h=m.map(([,b])=>b);Promise.all(h.map(b=>kn(b))).then(b=>{Ot.map((w,D)=>{const N=x.indexOf(w),I=b[N]?.fileData,U=h[N];if(!I||!U)return He();const G=Rt[D]?.parseData(I);return G?.length?{parseData:G,fileName:U}:He("parse error")}).forEach(({parseData:w,fileName:D},N)=>{const I=n[N],U=s[N];if(!U||!I)return He();I(w),U(D)})}).catch(b=>{Fn(b),g()})}),pe(()=>{r||p()},[r]);const y=i.length===n.length&&Bt(i).every(Boolean);return e.jsxs(e.Fragment,{children:[e.jsx(K,{size:"large",variant:"contained",onClick:a,fullWidth:!0,children:"New Graph"}),e.jsxs(Zt,{onClose:h=>{j&&o()},className:re.Dialog??"",open:r,children:[e.jsx(S,{elevation:24,className:re.title??"",children:e.jsx("h3",{children:"New Graph"})},"title"),e.jsx(S,{elevation:24,className:classNames(re.Paper,re.FileUploadTeam),children:Rt.map((h,b)=>T.createElement(Ea,{setWillPatchData:c(b),...h,key:b}))},"upload"),e.jsx(ae,{}),e.jsx(S,{elevation:24,className:re.Paper??"",children:e.jsx(K,{size:"large",variant:"contained",fullWidth:!0,disabled:!y,onClick:()=>$e.unstable_batchedUpdates(()=>{if(y){const[h,b]=i.map(({fileName:w})=>w);if(!h||!b)return;i.forEach(({fileName:w,data:D},N)=>{n[N]?.(D),s[N]?.(w)}),f({dataset:h,BCviz_file:b},{replace:!0,preventScrollReset:!1,flushSync:!1,viewTransition:!0}),o()}}),children:"Comfirm"})},"confirm"),e.jsx(an,{})]})]})}const Ra="_Tool_tgrdm_1",Ke={Tool:Ra,"x-line-mode":"_x-line-mode_tgrdm_7","x-line-mode-label":"_x-line-mode-label_tgrdm_10"};function Va(t){const{toggleIsEditX:n=()=>{},isEditX:s,className:r,setDatas:a,setFileNames:o}=t,{pathname:i}=Xs();return e.jsxs(S,{elevation:24,className:classNames(Ke.Tool,r),children:[e.jsx(Oa,{setDatas:a,setFileNames:o}),i===An.old?e.jsx(K,{variant:"outlined",className:Ke["x-line-mode"]??"",fullWidth:!0,children:e.jsx(Ts,{className:Ke["x-line-mode-label"]??"",onChange:n,control:e.jsx(Qt,{checked:s}),label:"Edit Mode"})}):null]})}const{isSafeInteger:Ua}=Number;function Vt({useSetInputST:[t,n],k:s,label:r=""}){const a=B(o=>n({[s]:o}));return e.jsxs(ve,{fullWidth:!0,children:[e.jsx(Pe,{fullWidth:!0,placeholder:r,label:r,type:"number",title:s,value:t[s],required:!0,onChange:o=>{const{value:i}=o.target;if(!i){a(i);return}const l=parseInt(i),u=Number(i),c=+i;ut(l,u,c)&&Ua(l)&&l>=0&&a(l.toString())},inputProps:{min:0,inputMode:"numeric",pattern:"^(0|[1-9]d*)$"},spellCheck:!0,autoCapitalize:"on",enterKeyHint:"next",translate:"yes",unselectable:"on",inputMode:"numeric"}),e.jsx(ks,{})]})}const Wa="_Input_1qdq0_1",qa={Input:Wa};function Pn({children:t,autoFocus:n,tabIndex:s,className:r,style:a,...o}){return e.jsx(fe,{...o,..._.omitBy({autoFocus:n,tabIndex:s,className:r,style:a},_.isUndefined),children:t})}const $n=({InputLabelProps:t,...n})=>e.jsx(Pe,{...n,size:"medium",InputLabelProps:{...t,className:t?.className??"",style:t?.style??{}}});function Xe(t){const{useSetInputST:n,modeKey:s,useGetFromST:r,fileNames:a,setTabToResult:o,dataArrWithPos:i,useMultiDots:[l,u]}=t,{data:c,loading:p,runAsync:d}=r,[f,m]=n,{s:x="",t:j=""}=bn[s]??{};return e.jsx(Fe,{value:s,className:M.TabPanel??"",children:e.jsxs(S,{elevation:24,className:qa.Input??"",children:[e.jsx(Vt,{useSetInputST:n,k:"s",label:x}),e.jsx(Vt,{useSetInputST:n,k:"t",label:j}),e.jsx(en,{value:l??[],onChange:(g,y)=>{u(y)},multiple:!0,options:i,getOptionLabel:de,renderOption:(g,y,{selected:h})=>e.jsxs(Pn,{...g,children:[e.jsx(Qt,{icon:e.jsx(Fs,{fontSize:"large"}),checkedIcon:e.jsx(Ps,{fontSize:"large"}),checked:h}),de(y)]}),renderInput:g=>e.jsx($n,{...g,label:"Choose Vertices",placeholder:"Choose Vertices"}),disableCloseOnSelect:!0,autoComplete:!0,autoCapitalize:"words",autoFocus:!0,autoHighlight:!0,clearOnBlur:!0,clearOnEscape:!0,fullWidth:!0,handleHomeEndKeys:!0,includeInputInList:!0,openOnFocus:!0,selectOnFocus:!0,disableClearable:!1,disabledItemsFocusable:!1,disableListWrap:!1,disablePortal:!1,filterSelectedOptions:!1,freeSolo:!1}),e.jsxs($s,{disabled:_.some(f,g=>g===""),variant:"contained",size:"large",onClick:()=>$e.unstable_batchedUpdates(async()=>{await d(s,c,{...a,problem_type:ct[s],...f,vertices:JSON.stringify(l?.map(({k:g,kInd:y})=>[mt[g],y]))}).then(g=>(_e.success(`fetch ${s} success`),o(),g),()=>{_e.error(`fetch ${s} fail`)})}),children:["Fetch ",s]})]})})}function Ga(){return navigator.language}function Ha(){return navigator.languages[0]}function Ka(){return new Intl.DateTimeFormat().resolvedOptions().locale}function Xa(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}const Ja=()=>Ga()==="zh-CN"&&Ha()==="zh-CN"&&Ka()==="zh-CN"&&Xa()==="Asia/Shanghai"&&new Date().getTimezoneOffset()===-480&&new Intl.DateTimeFormat().resolvedOptions().timeZone==="Asia/Shanghai",Ya=T.forwardRef(t=>{const{viewBox:n,graphLine:s,drawDotData:r,clickCircle:a,doubleClickCircle:o}=t;return e.jsxs("svg",{viewBox:n,className:E["graph-svg"],children:[s?.map(({pos:i,highlightLevel:l,color:u},c)=>e.jsx("polyline",{points:i.map(([p,d])=>`${p},${d}`).join(" "),fill:"none",stroke:"black",className:classNames(E.line,E[l]),style:{"--color":u}},c)),r.map(i=>{const{k:l,kInd:u,v:c,graphX:p,graphY:d,color:f}=i,m=de(i);return e.jsx(e.Fragment,{children:e.jsx(V,{...Nn(i),children:e.jsxs("g",{onDoubleClick:o({dotData:i}),onClick:a(i),className:En(i),style:{"--color":f},children:[e.jsx("circle",{cx:p,cy:d,className:E.circle}),e.jsx("text",{x:p,y:d,className:E.text,children:m})]},p)})})})]})});function Ut(t){const{isEditX:n,xEnd:s,onClick:r=()=>{},dotData:{y:a,v:o},className:i=""}=t;return n?e.jsx(e.Fragment,{children:e.jsx("line",{x1:A,x2:s,y1:a,y2:a,className:classNames(E["hover-x"],i),onClick:r})}):null}const Za=T.forwardRef(t=>{const{viewBox:n,drawDotData:s,clickCircle:r,doubleClickCircle:a,svgRef:o,isEditX:i,commonValueFromTableData:{valuesArr:l,xRadix:u,length:c,getYPos:p,svgHeight:d},svgSize:f,size:m}=t,{xEnd:x=0,yEnd:j=0}=f,g=T.useMemo(()=>_.sortBy(_.uniq(l)).map(h=>({v:h,yPos:p(h)})),[s]),y=T.useMemo(()=>{let h=_.head(s);if(!h)return[];let b=oe(h);const w=[];for(let D=1;D<c;D++){let N=s[D];if(!N)break;let I=oe(N),U=I-b;const{x:G=0,y:Y=0}=h,Se=[G,Y];for(;D<c;D++){const C=s[D+1];if(C){const L=oe(C);if(L-I===U){N=C,I=L;continue}}const{x:k=0,y:z=0}=N,q=[k,z];w.push([Se,q]);break}h=N,b=I}return w},[s]);return e.jsxs("svg",{viewBox:n,ref:o,className:E.svg,style:{"--stroke-dasharray":u},children:[e.jsx("line",{x1:A,y1:j,x2:x,y2:j,className:E["coordinate-axis-x"]}),"  ",e.jsx("line",{x1:A,y1:A,x2:A,y2:j,className:E["coordinate-axis-y"]}),"  ",g.map(({v:h,yPos:b})=>e.jsxs("g",{className:E.g,onClick:a({v:h}),children:[e.jsx("text",{x:Kr,y:b,className:E["axis-text"],children:h}),e.jsx(Ut,{xEnd:x,isEditX:i,className:classNames({[E["hover-click-line"]??""]:h===m}),dotData:{v:h,y:b}})]})),y.map(([[h,b],[w,D]])=>e.jsx(e.Fragment,{children:e.jsx("line",{x1:h,y1:b,x2:w,y2:D,className:E.line})})),s.map(h=>{const{k:b,v:w,kInd:D,x:N,y:I,color:U}=h,G=Nn(h);return e.jsx(e.Fragment,{children:e.jsxs("g",{className:En(h),onClick:r(h),onDoubleClick:a({dotData:h}),style:{"--color":U},children:[e.jsx(V,{...G,children:e.jsx("text",{x:N,y:d,className:E.text,children:de(h)})}),i?e.jsx(e.Fragment,{children:e.jsx("line",{x1:N,x2:N,y1:I,y2:j,className:E["hover-y"]})}):null,e.jsx(V,{...G,children:e.jsx("circle",{cx:N,cy:I,className:E.circle})}),e.jsx(Ut,{xEnd:x,dotData:h,isEditX:i,onClick:a({dotData:h}),className:classNames({[E["hover-x--no-show"]??""]:w===m})})]})})})]})});function Qa(){const[t,n]=J(),[s,r]=J([]),a=T.useRef(null),o=T.useMemo(la(a),[a.current]),i=T.useMemo(()=>_n(t,o),[t,o]);return{tableData:t,setTableData:n,graphData:s,setGraphData:r,svgRef:a,svgSize:o,commonValueFromTableData:i}}const eo=t=>({clickCircle:B(ia(t))}),Je=t=>`${zn.name}${t}`;function zn(t){const{dataArrWithPos:n,graphData:s,svgSize:r,setSize:a=()=>{},isEditX:o,size:i}=t,l=T.useMemo(()=>aa({...t,size:i}),[i,n]),{svgWidth:u=0,svgHeight:c=0}=r,p=c,d=T.useMemo(()=>ra({drawDotData:l,graphData:s}),[l]),{clickCircle:f}=eo({...t,setSize:a,size:i}),m=B(Dn({isEditX:o,setSize:a,size:i,drawDotData:l})),x={...t,drawDotData:l,clickCircle:f,doubleClickCircle:m,graphLine:d,size:i};return e.jsxs(e.Fragment,{children:[e.jsx(ge,{value:$.table,children:e.jsx(Za,{...x,viewBox:[0,0,u,p].join(" ")})},Je($.table)),e.jsx(ge,{value:$.graph,children:e.jsx(Ya,{...x,viewBox:[0,0,u,c].join(" ")})},Je($.graph)),e.jsx(Fe,{value:$.result},Je($.result))]})}const to="_Dialog_1fpbd_1",no="_title_1fpbd_4",so="_Paper_1fpbd_7",ro="_Fab_1fpbd_11",ue={Dialog:to,title:no,Paper:so,Fab:ro},ao=({renderingEngine:t})=>{switch(t){case"SVG Engine":return e.jsx(e.Fragment,{children:"It is unstable! Suitable for small data volumes, few functions are available, and performance is low."});case"ECharts Engine":return e.jsx(e.Fragment,{children:"Suitable for large data volumes. With many available functions and high performance."})}};function oo(t){const{setSelectEngine:n,selectEngine:s}=t,[r,{setTrue:a,setFalse:o}]=be(!1);return e.jsxs(e.Fragment,{children:[e.jsx(zs,{size:"large",onClick:a,title:"settings",className:ue.Fab??"",children:e.jsx(V,{title:"settings",arrow:!0,children:e.jsx(Yt,{size:"large",children:e.jsx(Ls,{fontSize:"large"})})})}),e.jsxs(Zt,{onClose:o,className:ue.Dialog??"",open:r,children:[e.jsx(S,{elevation:24,className:ue.title??"",children:e.jsx("h3",{children:"Settings"})},"title"),e.jsx(ae,{}),e.jsx(S,{elevation:24,className:classNames(ue.Paper),children:e.jsxs(ve,{fullWidth:!0,children:[e.jsx(V,{arrow:!0,title:"Select Rendering Engine",placement:"top",children:e.jsx(Ye,{children:"Select Rendering Engine"})}),e.jsx(Ze,{fullWidth:!0,label:"Select Rendering Engine",defaultValue:"ECharts Engine",onChange:i=>{const l=i.target.value;l==="SVG Engine"&&!confirm("SVG is very unstable! Are you sure you want to switch to it?")||n(l)},value:s,children:["ECharts Engine","SVG Engine"].map(i=>e.jsx(fe,{value:i,children:e.jsx(V,{arrow:!0,placement:"right",title:e.jsx(ao,{renderingEngine:i}),children:e.jsx("div",{children:i})})},i))})]})},"content"),e.jsx(ae,{}),e.jsx(S,{elevation:24,className:classNames(ue.Paper),children:e.jsx(K,{size:"large",variant:"contained",fullWidth:!0,color:"warning",onClick:()=>{confirm("Are you sure you want to clear the cache?")&&mr().then(()=>{alert("Clear Success!")},()=>{alert("Clear Fail!")})},children:"Clear Cache"})},"content"),e.jsx(ae,{}),e.jsx(S,{elevation:24,className:ue.Paper??"",children:e.jsx(K,{size:"large",variant:"contained",fullWidth:!0,onClick:o,startIcon:e.jsx(As,{fontSize:"large"}),children:"Back"})},"back")]})]})}const io="_Form_3js51_1",lo={Form:io},{isSafeInteger:co}=Number;function uo(t){const{setSize:n,value:s,max:r}=t,[a,o]=J(s);pe(()=>{o(s)},[s]);const i=_.isUndefined(a),l=!i&&(a<0||a>r);return e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"Please double-click the dot on the Cohesion."}),e.jsx(ae,{variant:"fullWidth",flexItem:!0,children:e.jsx(Jt,{label:"OR"})}),e.jsxs(S,{elevation:24,className:lo.Form??"",children:[e.jsx(ve,{fullWidth:!0,children:e.jsx(Pe,{fullWidth:!0,placeholder:"Input Size",label:"Input Size",type:"search",title:"Input Size",value:a,inputProps:{min:0,max:r,inputMode:"numeric",pattern:"^(0|[1-9]d*)$"},spellCheck:!0,autoCapitalize:"on",enterKeyHint:"next",translate:"yes",unselectable:"on",inputMode:"numeric",onChange:u=>$e.unstable_batchedUpdates(()=>{const{value:c}=u.target;if(!c)o(void 0);else{const p=parseInt(c);co(p)&&o(p)}}),error:l,...l?{helperText:`Size is not in the right range(0 ~ ${r}).`}:null})}),e.jsx(V,{arrow:!0,title:i?"Set size to undefined":`${P["Hierarchical Subgraphs Search"]} with size is ${a}`,children:e.jsx(K,{fullWidth:!0,variant:"contained",size:"large",onClick:()=>{n(a)},disabled:l,children:"Search"})})]})]})}const nt="tan",Ln="red",{isSafeInteger:Wt}=Number,{entries:qt,freeze:Wo,values:qo,keys:Go,fromEntries:Ho}=Object;if(fr){const{from:t}=Array,n=console.error;console.error=function(s){typeof s=="string"&&(s.startsWith('Warning: Each child in a list should have a unique "key" prop.')||s.startsWith("Warning: validateDOMNesting(...): %s cannot appear as a descendant of <%s>.%s"))||n.apply(console,t(arguments))}}var An=(t=>(t.old="/old",t.new="/new",t))(An||{});const ho=(t,n)=>!_.isUndefined(t)&&t>=n,Gt=({title:t,detail:n})=>_.isUndefined(n)?null:e.jsxs(tn,{className:E.Accordion??"",defaultExpanded:!0,children:[e.jsx(nn,{expandIcon:e.jsx(sn,{}),className:E["Accordion-Summary"]??"",children:e.jsx("span",{className:classNames(ee,M["Main-Right--Show--Text"]),children:t})}),e.jsx(rn,{className:E["Accordion-Details"]??"",children:e.jsx("p",{className:M["Main-Right--Show--Text"],children:n})})]},t),xe=20;function mo(){rt(()=>{const{origin:v,protocol:F,hash:R}=location;if(!sessionStorage.hjx&&Qe&&v!==$t&&F==="https:"&&Ja()){const W=$t+R;confirm(`后端服务已上线，点击“确认”跳转.${W}`)?location.href=W:sessionStorage.setItem("hjx","hxj")}}),Ht("beforeunload",v=>{if(Qe&&(Q||r)){v.preventDefault();const F="You have unsaved changes. Are you sure you want to leave?";return v.returnValue=F,F}});const[t]=be(!1),{tableData:n,setTableData:s,graphData:r,setGraphData:a,svgSize:o,commonValueFromTableData:i,svgRef:l}=Qa(),u=n&&n?.length>xe;pe(()=>{u&&_e(`Dataset is too big! Only display top ${xe} vertices.`),we()},[n]);const{svgWidth:c=0,svgHeight:p=0}=o,[d="",f]=_t("dataset",{defaultValue:""}),[m="",x]=_t("BCviz_file",{defaultValue:""}),j={dataset:d,BCviz_file:m},g=es(Ta,{...ka,manual:!0,staleTime:-1,cacheTime:-1}),{data:y,loading:h,mutate:b}=g,w=Xt({s:"",t:""}),[D,N]=J($.table),[I,U,G]=Kt(P["Maximum Biclique"]),[Y,Se]=J("ECharts Engine"),C=T.useMemo(()=>Mn(I),[I]),[k,z]=J(0),q=J([]),[L,Z]=q,[ie,{set:ye,setTrue:Ce,setFalse:we}]=be(!1),Q=T.useMemo(()=>Ct(ie,n),[n,ie]),{size:le,resultGraph:Bn,resultTable:On,UV:he,dataThisMode:xo,dataArr:me,selectShowData:gt,count:Rn,numOfData:Ne,params:Ee}=T.useMemo(()=>{const v=y?.[I];if(!v)return{};const{count:F,dataArr:R,...W}=v,te=R?.[k];if(!te)return{};const{size:ce,count:X,label:xt,...ne}=te;if(C)return{size:ce};const De=r?.filter(Re=>_.every(Re,(Hn,Kn)=>ne[Kn]?.includes(Hn)??!1)),qn=Q?.filter(({k:Re,kInd:vt})=>ne[Re]?.includes(vt)),bt=Ct(ie,qn),Gn=Tt(bt,De,_n(bt,{svgWidth:c,svgHeight:p}),p);return{size:ce,resultGraph:De,resultTable:Gn,UV:ne,dataThisMode:v,dataArr:R,selectShowData:te,count:X,numOfData:F,params:W}},[y,I,k]),Vn=Y==="ECharts Engine",Le=_.isUndefined(le),Ae=B(v=>{b({...y,[P["Hierarchical Subgraphs Search"]]:{dataArr:[{size:v}]}})});pe(()=>{N($.table),G()},[Q,Y]),pe(()=>{Z([]),b(void 0)},[Q]);const Be=T.useMemo(()=>{const v=Tt(Q,r,i,p);if(C)return v;const F=he?v?.map(W=>{const{k:te,kInd:ce}=W,X=he[te]?.includes(ce)?nt:void 0;return{...W,...X?{color:X}:null}}):v;return _r(F,L)},[i,he,I,le,L]),Un=B(()=>{}),Oe={useSetInputST:w,useGetFromST:g,fileNames:j,setTabToResult:Un,dataArrWithPos:Q??[],useMultiDots:q},Wn=B(v=>{const{dataIndex:F,name:R,value:W}=v;if(Wt(F)&&R&&Wt(W)&&typeof W=="number"){const te=R[0],ce=parseInt(R.slice(1));if(!Q)return;const X=Q.find(({k:ne,kInd:De})=>ne===te&&De===ce);if(!X)return;if(!L||L.length===0){Z([X]);return}const xt=L.includes(X);Z(xt?L.filter(ne=>ne!==X):[...L,X])}});return e.jsxs(e.Fragment,{children:[e.jsxs(S,{className:M.Main??"",elevation:24,children:[e.jsx(oo,{setSelectEngine:Se,selectEngine:Y}),e.jsx(At,{children:e.jsxs(S,{elevation:24,className:M["Main-Left"]??"",children:[e.jsx(Va,{setDatas:[a,s],setFileNames:[f,x],className:M.Tool}),u?e.jsx(S,{elevation:24,className:M.Select??"",children:e.jsxs(ve,{fullWidth:!0,children:[e.jsx(Ye,{children:"Numebr Of Show Vertices"}),e.jsxs(Ze,{value:Number(ie),onChange:v=>{ye(!!v.target.value)},label:"Numebr Of Show Vertices",fullWidth:!0,children:[e.jsx(fe,{value:1,children:"Show All"},1),e.jsxs(fe,{value:0,children:["Only Show ",xe]},0)]})]})}):null,e.jsx(S,{elevation:24,className:M.Select??"",children:e.jsxs(ve,{fullWidth:!0,children:[e.jsx(Ye,{children:"Select Mode"}),e.jsx(Ze,{value:I,onChange:v=>{U(v.target.value)},label:"Select Mode",fullWidth:!0,children:[P["Maximum Biclique"],P["Maximal Biclique Enumeration"],P["(p,q)-biclique Counting"],P["Hierarchical Subgraphs Search"]].map(v=>e.jsx(fe,{value:v,title:ct[v],children:v},v))})]})}),e.jsx(S,{elevation:24,children:e.jsxs(St,{value:I,children:[e.jsx(Xe,{...Oe,modeKey:P["Maximum Biclique"]}),e.jsx(Xe,{...Oe,modeKey:P["Maximal Biclique Enumeration"]}),e.jsx(Xe,{...Oe,modeKey:P["(p,q)-biclique Counting"]}),e.jsx(Fe,{value:P["Hierarchical Subgraphs Search"],className:M.TabPanel??"",children:e.jsx(S,{elevation:24,className:M["Paper-text"]??"",children:e.jsx(uo,{value:le,setSize:Ae,max:i.max})})})]})}),me&&ho(me?.length,2)?e.jsx(S,{elevation:24,className:M.Select??"",children:e.jsx(V,{title:e.jsxs(e.Fragment,{children:["Count: ",e.jsx("span",{className:ee,children:me.length})]}),arrow:!0,placement:"right",children:e.jsx(en,{autoComplete:!0,autoCapitalize:"words",autoFocus:!0,autoHighlight:!0,blurOnSelect:!0,clearOnBlur:!0,clearOnEscape:!0,fullWidth:!0,handleHomeEndKeys:!0,includeInputInList:!0,openOnFocus:!0,selectOnFocus:!0,disableClearable:!0,disableCloseOnSelect:!1,disabledItemsFocusable:!1,disableListWrap:!1,disablePortal:!1,filterSelectedOptions:!1,freeSolo:!1,options:me,...gt?{value:gt}:null,onChange:(v,F,R,W)=>{z(F?me.indexOf(F):0)},renderInput:v=>e.jsx($n,{...v,label:"Choose Rank",placeholder:"Choose Rank"}),renderOption:(v,{label:F,...R},W)=>e.jsx(V,{title:vr(R),arrow:!0,placement:"right",children:e.jsx(Pn,{...v,children:F??`Rank ${W.index+1}`})})})})}):e.jsx(e.Fragment,{})]})}),e.jsx(S,{className:M["Main-Mid"]??"",elevation:24,children:e.jsxs(St,{value:D,children:[e.jsx(S,{elevation:24,children:e.jsxs(Bs,{onChange:(v,F)=>N(F),variant:"fullWidth",children:[e.jsx(Ve,{label:"Cohesion",value:$.table,className:M.Tab??""}),e.jsx(Ve,{label:"Bipartite Subgraph",value:$.graph,className:M.Tab??""}),e.jsx(V,{arrow:!0,title:Ee?e.jsx(e.Fragment,{children:e.jsxs("fieldset",{children:[e.jsx("legend",{className:ee,children:"Search Params"}),qt(Ee).map(dt)]})}):null,children:e.jsx(Ve,{label:"Search Result",value:$.result,disabled:Le||C,className:classNames({[M.Tab??""]:!Le})})})]})}),Be.length?Vn?e.jsx(vn,{dataArrWithPos:Be,graphData:r,size:le,resultGraph:Bn,selectMode:I,useSetInputST:w,setTab:N,resultTable:On,setSize:Ae,isEditX:C,commonValueFromTableData:i,clickEChartDotToAddMultiDots:Wn,dataFromST:y}):e.jsx(zn,{commonValueFromTableData:i,graphData:r,dataArrWithPos:Be,isEditX:C,svgRef:l,svgSize:o,setSize:Ae,size:le}):e.jsx(Os,{className:M.Chart??"",variant:"rounded",animation:"wave"})]})}),Le?null:e.jsx(At,{buttonOrder:1,children:e.jsx(S,{className:M["Main-Right"]??"",elevation:0,children:e.jsxs(S,{elevation:24,className:M["Main-Right--Show"]??"",children:[_.isUndefined(Ne)?null:e.jsx(V,{arrow:!0,placement:"left",title:_.isUndefined(Ne)?null:e.jsxs("h4",{children:["The number of (",Ee?.s,",",Ee?.t,")-bicliques is: ",e.jsx("span",{className:ee,children:Ne})]}),children:e.jsx("h4",{className:classNames(ee,M["Main-Right--Show--Num"]),children:e.jsx("span",{children:Ne})})}),e.jsx(Gt,{title:"size",detail:le}),he?qt(he).map(([v,F])=>F.length?e.jsxs(tn,{className:E.Accordion??"",defaultExpanded:F.length<=23,children:[e.jsx(nn,{expandIcon:e.jsx(sn,{}),className:E["Accordion-Summary"]??"",children:e.jsx("span",{className:classNames(ee,M["Main-Right--Show--Text"]),children:`${v} `})}),e.jsx(rn,{className:E["Accordion-Details"]??"",children:F.map(R=>e.jsx("p",{className:M["Main-Right--Show--Text"]??"",children:R}))})]},v):null):null,e.jsx(Gt,{title:"count",detail:Rn})]})})})]}),e.jsx(Rs,{open:t||h,className:M.Modal??"",children:e.jsx(Vs,{className:M.CircularProgress??""})}),e.jsx(an,{})]})}function po(){return e.jsx(Js,{children:e.jsx(Ys,{index:!0,element:e.jsx(mo,{})})})}const fo=()=>e.jsx(T.StrictMode,{children:e.jsx(Us,{injectFirst:!0,children:e.jsx(Ks,{children:e.jsx(po,{})})})}),go=document.body;qs(go).render(e.jsx(e.Fragment,{children:e.jsx(fo,{})}));
