import{r as T,j as t}from"./react-oik9md-E.js";import{a as Xs,r as Ye,c as Js}from"./react-dom-a-17rxNu.js";import{u as Ys,a as zt,b as U,c as Pt,d as Qs,e as Zs,f as Lt,g as De,h as He,i as ne,j as er,k as tr,l as ge,m as On,n as Rn,o as nr,p as rn}from"./ahooks-aQe87hPC.js";import{i as sr}from"./react-fast-compare-751UTDWK.js";import{u as rr,g as an,i as ar,a as or,b as ir,c as lr,d as cr,e as ur,f as dr,h as hr,j as mr,k as pr,l as fr,m as gr,n as xr,o as _r,p as br,q as vr,r as Sr,s as jr,t as yr,v as wr}from"./echarts-Vo_PYHjZ.js";import{P as C,T as Qe,F as Et,a as O,I as Ke,d as Cr,b as Er,c as Nr,D as Un,e as ue,f as Ze,g as Wn,S as Gn,M as Ft,h as Vn,i as $t,j as Ir,L as _e,k as Tr,B as J,l as qn,m as kr,C as Bt,n as Mr,o as Dr,p as zr,q as Pr,r as Lr,s as Fr,t as $r,u as Br,v as Hn,w as et,x as Ar,y as Or,A as At,z as Rr,E as Ur,G as Wr,H as Gr,J as Vr,K as qr,N as Kn,O as on,Q as Hr,R as Kr,U as Xn,V as Jn,W as Yn,X as Qn,Y as Xr,Z as Jr,_ as Yr,$ as Qr}from"./@mui-jwcbe7e8.js";import{Q as we,k as Zr}from"./react-toastify-5bXptfeX.js";import{d as ea}from"./@algolia-kof8UNv8.js";import{u as ta,L as na,H as sa}from"./react-router-dom-OWcGx1G4.js";import{b as ra,d as aa,e as ln}from"./react-router-m2kkV1nU.js";import"./@babel-_Kefij6Y.js";import"./scheduler-Xt5_ASe0.js";import"./tslib-xX1bOrSW.js";import"./lodash-C7I7b_wX.js";import"./zrender-6ibt0cUB.js";import"./react-transition-group-0QNSnBtb.js";import"./@emotion-ia0lOm4d.js";import"./hoist-non-react-statics-y4nWN7rF.js";import"./stylis-W9rcUKMO.js";import"./@popperjs-v-la0Vhf.js";import"./@remix-run-phvj9XUc.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function s(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=s(o);fetch(o.href,i)}})();const oa="modulepreload",ia=function(e,n){return new URL(e,n).href},cn={},la=function(n,s,r){let o=Promise.resolve();if(s&&s.length>0){const i=document.getElementsByTagName("link");o=Promise.all(s.map(a=>{if(a=ia(a,r),a in cn)return;cn[a]=!0;const l=a.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(!!r)for(let h=i.length-1;h>=0;h--){const f=i[h];if(f.href===a&&(!l||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${c}`))return;const m=document.createElement("link");if(m.rel=l?"stylesheet":oa,l||(m.as="script",m.crossOrigin=""),m.href=a,document.head.appendChild(m),l)return new Promise((h,f)=>{m.addEventListener("load",h),m.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})}))}return o.then(()=>n()).catch(i=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i})};function ca(e,n){return e>>n&1}const Ot=Object.freeze(["rgb(255, 0, 0)","rgb(255, 115, 0)","rgb(255, 251, 0)","rgb(72, 255, 0)","rgb(0, 255, 213)","rgb(0, 43, 255)","rgb(122, 0, 255)","rgb(255, 0, 200)"]),ua="_Main_1ppnf_15",da="_Table_1ppnf_22",ha="_table_1ppnf_26",ma="_SVG_1ppnf_31",pa="_Accordion_1ppnf_38",fa="_line_1ppnf_70",ga="_circle_1ppnf_71",xa="_text_1ppnf_94",_a="_svg_1ppnf_94",ba="_highlight_1ppnf_100",va="_g_1ppnf_52",Sa="_line_how_1ppnf_1",P={Main:ua,Table:da,table:ha,SVG:ma,Accordion:pa,"Accordion-Summary":"_Accordion-Summary_1ppnf_42","Accordion-Details":"_Accordion-Details_1ppnf_48","graph-svg":"_graph-svg_1ppnf_52",line:fa,circle:ga,"no-highlight":"_no-highlight_1ppnf_84",text:xa,svg:_a,"axis-text":"_axis-text_1ppnf_94",highlight:ba,"more-highlight":"_more-highlight_1ppnf_116",g:va,"hover-click-line":"_hover-click-line_1ppnf_273","hover-x":"_hover-x_1ppnf_273","hover-x--no-show":"_hover-x--no-show_1ppnf_273","hover-y":"_hover-y_1ppnf_274",line_how:Sa,"coordinate-axis-y":"_coordinate-axis-y_1ppnf_282","coordinate-axis-x":"_coordinate-axis-x_1ppnf_282","pulse-signup-button":"_pulse-signup-button_1ppnf_1"},{error:q}=console,un=e=>(e.addEventListener("abort",n=>{e.close(),q("abort",n)}),e.addEventListener("close",n=>{e.close(),q("close",n)}),e.addEventListener("error",n=>{e.close(),q("error",n)}),e.addEventListener("versionchange",n=>{e.close(),q("versionchange",n)}),e),ja=(e,n)=>(n.addEventListener("complete",()=>{e.close()}),n.addEventListener("abort",s=>{n.abort(),e.close(),q("abort",s)}),n.addEventListener("error",s=>{n.abort(),e.close(),q("error",s)}),n),Zn=e=>new Promise(async(n,s)=>{const{DBname:r,version:o,storeName:i,keyPath:a,mode:l}=e,c=indexedDB.open(r,o);c.addEventListener("success",()=>{const u=un(c.result);if(u.objectStoreNames.contains(i))return n(ja(u,u.transaction(i,l,{durability:"strict"})).objectStore(i))}),c.addEventListener("upgradeneeded",()=>{const u=un(c.result);if(!u.objectStoreNames.contains(i))return u.createObjectStore(i,{autoIncrement:!0,...a?{keyPath:a}:null})}),c.addEventListener("error",u=>{s(u),q("error",u,c)}),c.addEventListener("blocked",u=>{s(u),q("blocked",u,c)})}).catch(q),tt=e=>{const{IDBValidKey:n,data:s}=e;return Zn({...e,mode:"readwrite"}).then(r=>(r&&s&&r.add(s,...r.keyPath?[]:[n]).addEventListener("error",q),r),q).catch(q)},ya=async e=>new Promise((n,s)=>{const{query:r}=e;return Zn({...e,mode:"readonly"}).then(o=>{if(o){const i=r?o.get(r):o.getAll();i.addEventListener("success",()=>{n(i.result)}),i.addEventListener("error",a=>{q(a,i),s(i.error)})}return o},s).catch(s)}),wa=()=>indexedDB.databases().then(e=>e.filter(({name:n})=>n).map(({name:n})=>n?indexedDB.deleteDatabase(n):new IDBOpenDBRequest),q).catch(q);var Ca={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{DEV:Ea,PROD:Nt}=Ca,{freeze:Fe,entries:Na,values:Jl}=Object,Ia=e=>!!((Nt||!0)&&e&&_.isPlainObject(e));var R=(e=>(e["Maximum Edge Biclique"]="Maximum Edge Biclique",e["Maximal Biclique Enumeration"]="Maximal Biclique Enumeration",e["(p,q)-biclique Counting"]="(p,q)-biclique Counting",e["Hierarchical Subgraphs Search"]="Hierarchical Subgraphs Search",e))(R||{});const es=Fe({"Maximum Edge Biclique":"MEB","Maximal Biclique Enumeration":"MBE","(p,q)-biclique Counting":"PQB","Hierarchical Subgraphs Search":""}),Ta=Fe({DBname:"HJX",storeName:"HXJ"}),Rt=e=>ya({...Ta,query:e}).then(n=>{if(Ia(n))return n;throw new Error(n)});var k=(e=>(e[e.table=0]="table",e[e.graph=1]="graph",e[e.result=2]="result",e[e.all=3]="all",e))(k||{});Fe({0:"Cohesion"});const ka=e=>Na(e).map(Wt),ce="tanContent",be=e=>{if(typeof e=="string")return e;const{k:n,kInd:s}=e;return`${n}${s}`},Ma=(e,n)=>{if(!n||n.length===0)return e;const s=Kt(n);return e?.map(o=>{const{k:i,kInd:a}=o,l=s[i][a]?Bs:void 0;return l?{...o,color:l}:o})},dt=40,Da=80,za=e=>{const s=_.sortBy(e,({v:o})=>o).slice(at*-1);return _.sortBy(s,({i:o})=>o)},dn=(e,n)=>{if(!n)return[];if(e)return n;const s=n.map((r,o)=>({...r,i:o}));return n.length<=at?s:za(s)},Pa=(e,n,{svgWidth:s,svgHeight:r})=>Ht(e,n,st(e,{svgWidth:s,svgHeight:r}),r),ts=Fe({svgHeight:innerHeight,svgWidth:innerWidth}),Xe=Fe({0:"Maximum Cohesion",1:"Bipartite Graph",2:"Search Result",3:"All"}),La=(e,n)=>{if(!n)return e;const{start:s,end:r,color:o}=n;return e.map((i,a)=>a>=s&&a<=r?{...i,color:o}:i)},ns=(e,n)=>!_.isUndefined(e)&&e>=n,Fa="_Main_14krf_15",$a="_Select_14krf_38",Ba="_TabPanel_14krf_41",Aa="_Tab_14krf_41",Oa="_hidden_14krf_83",Ra="_Chart_14krf_87",Ua="_Modal_14krf_93",Wa="_CircularProgress_14krf_100",A={Main:Fa,"Main-Left":"_Main-Left_14krf_33",Select:$a,TabPanel:Ba,"Paper-text":"_Paper-text_14krf_44","Main-Mid":"_Main-Mid_14krf_51",Tab:Aa,"Main-Right":"_Main-Right_14krf_62","Main-Right--Show":"_Main-Right--Show_14krf_69","Main-Right--Show--Text":"_Main-Right--Show--Text_14krf_75","Main-Right--Show--Num":"_Main-Right--Show--Num_14krf_80",hidden:Oa,Chart:Ra,Modal:Ua,CircularProgress:Wa,"pulse-signup-button":"_pulse-signup-button_14krf_1"},Ce=(e=()=>{})=>Ja?.(()=>Ya?.(()=>Xa?.(()=>Ka?.(()=>ze?.resolve?.()?.then?.(()=>{const{port1:n,port2:s}=new Ha;n?.postMessage?.(null),s.onmessage=e}).catch?.($e))))),Ne=(e=()=>{})=>new ze(n=>Ce?.(n))?.then?.(()=>Ce?.(e)).catch?.($e),Ga=(e=()=>{})=>new ze(n=>new ze(s=>Ce?.(s))?.then?.(()=>Ce?.(()=>{e?.(),n?.()})).catch?.($e)),Va=(e=()=>{})=>qa("load",()=>new ze(n=>Ce?.(n))?.then?.(()=>Ce?.(e)).catch?.($e)),{Promise:ze,addEventListener:qa,console:{error:$e}={},MessageChannel:Ha,queueMicrotask:Ka,requestAnimationFrame:Xa,requestIdleCallback:Ja,setTimeout:Ya}=window??self??globalThis??void 0;rr([or,ir,lr,cr,ur,dr,hr,mr,pr,fr,gr,xr,_r,br,vr,Sr,jr,yr]);const ss=window??self??globalThis??global??void 0??new EventTarget,{addEventListener:Qa,removeEventListener:Za}=ss,{dispatchEvent:eo}=ss,It="resize",rs=new Event(It),ht=T.memo(e=>{const{option:n,onParams:s=[],isPermitShowLoading:r=!0,...o}=e,i=T.useRef(null);return Ys(()=>{const{current:a}=i;if(!a||!n)return;const l=an(a)??ar(a);r&&l.showLoading(),Ne(()=>{l.setOption(n,!0,!0),s.map(h=>l.on(...h)),r&&l.hideLoading()});const c=Qo(l.resize),u=()=>c(),m=new ResizeObserver(u);return m.observe(a),Qa(It,u),()=>{s.map(([h,,f])=>l.off(h,f)),m.disconnect(),c.cancel?.(),c.clear?.(),Za(It,u)}},[n]),zt(()=>{const{current:a}=i;if(!a)return;const l=an(a);l&&(l.clear(),l.dispose())}),t.jsx(t.Fragment,{children:t.jsx(C,{elevation:24,ref:i,className:A.Chart??"",...o})})},sr),{freeze:to}=Object;function Ut(...e){if(e.length===0)return!0;const n=_.head(e);return e.every(s=>_.isEqual(s,n))}const no=(e,n)=>n.every(s=>s===e),so=e=>{if(!(e instanceof HTMLDivElement))return!1;const{childElementCount:n,childNodes:s,children:r,firstChild:o,lastChild:i,firstElementChild:a,lastElementChild:l}=e;return!e.hasChildNodes()||!no(1,[n,s.length,r.length])?!1:Ut(o,i,a,l,s.item(0),r.item(0))},as="mouseup",os=["contextmenu","dblclick","auxclick",as],is=e=>to({enable:!!e,target:e}),ro=["ctrl","alt","shift","meta"].map(e=>`${e}.f11`),ls=e=>{if(e instanceof MouseEvent){const{button:n,altKey:s,ctrlKey:r,metaKey:o,shiftKey:i,relatedTarget:a,type:l}=e;if(l===as&&n===0&&!s&&!r&&!o&&!i&&!a)return!0}return!1},ao=()=>{const e=T.useRef(null),{current:n}=e,s=U(a=>{if(!so(a))return null;const l=a?.firstChild;return l instanceof HTMLDivElement?l:null}),r=U(_.debounce(a=>a instanceof HTMLDivElement&&!document.fullscreenElement?a.requestFullscreen({navigationUI:"hide"}).catch($e):Promise.reject(a)));zt(()=>{r.cancel?.()});const o=U(a=>{const l=s(n),{target:c,currentTarget:u}=a;if(!(!l||!Ut(n,c,u))&&!ls(a))return a.preventDefault(),r(l)});Pt(os,o,is(n)),Qs(ro,a=>{const l=s(n);return r(l)},{exactMatch:!0});const i=Zs();return Lt(()=>{Ne(()=>{n||i()})}),e};function je({children:e,...n}){const s=ao();return t.jsx(Qe,{...n,ref:s,children:e})}const oo="_AllPanel_1jwg6_2",io="_ToggleButtonGroupWrapper_1jwg6_20",Me={"AllPanel-ECharts":"_AllPanel-ECharts_1jwg6_2",AllPanel:oo,ToggleButtonGroupWrapper:io,"AllPanel-ToggleButtonGroup":"_AllPanel-ToggleButtonGroup_1jwg6_24","AllPanel-ToggleButtonGroup-ToggleButton":"_AllPanel-ToggleButtonGroup-ToggleButton_1jwg6_27"},lo="_relative_1wqdp_1",co="_Fab_1wqdp_1",uo="_opacity0_1wqdp_26",ho="_width0_1wqdp_29",Ue={relative:lo,Fab:co,opacity0:uo,width0:ho};function mo({children:e,isInFullScreen:n,isShow:s,...r}){const o=!s,i=T.useRef(null);return t.jsx(t.Fragment,{children:t.jsxs(C,{className:classNames(Ue.relative,{[Ue.width0??""]:o}),elevation:24,ref:i,children:[t.jsx(Et,{size:"large",className:classNames(Ue.Fab,{[Ue.opacity0??""]:o}),onContextMenu:async a=>{const{current:l}=i;if(l instanceof HTMLDivElement){const{lastChild:c,lastElementChild:u}=l;if(c===u&&c instanceof HTMLDivElement){const{fullscreenElement:m}=document;m instanceof HTMLElement&&m!==c&&await document.exitFullscreen(),c.requestFullscreen({navigationUI:"hide"})}}a.preventDefault()},hidden:o,...r,children:t.jsx(O,{title:`Left click to ${n?"leave":"enter"} maximize.
Right click to enter fullscreen.`,arrow:!0,placement:"top",children:t.jsx(Ke,{size:"large",children:n?t.jsx(Cr,{fontSize:"large"}):t.jsx(Er,{fontSize:"large"})})})}),e]})})}const po="_Dialog_1adzi_1",fo="_title_1adzi_4",go="_Paper_1adzi_7",xo="_Fab_1adzi_11",_o="_SG_1adzi_28",te={Dialog:po,title:fo,Paper:go,Fab:xo,SG:_o,"SG-ToggleButton":"_SG-ToggleButton_1adzi_32","SG-ToggleButton-FormControlLabel":"_SG-ToggleButton-FormControlLabel_1adzi_36"},bo=({renderingEngine:e})=>{switch(e){case"SVG Engine":return t.jsx(t.Fragment,{children:"It is unstable! Suitable for small data volumes, few functions are available, and performance is low."});case"ECharts Engine":return t.jsx(t.Fragment,{children:"Suitable for large data volumes. With many available functions and high performance."})}},vo=He,nt="Super Graph",mt="Select Rendering Engine",So=`What's ${nt}`,hn="https://encyclopediaofmath.org/wiki/Hypergraph";function jo(e){const{setSelectEngine:n,selectEngine:s,useIsEnableSuperGraph:[r=!1,o]}=e,[i,{setTrue:a,setFalse:l}]=De(!1);return t.jsxs(t.Fragment,{children:[t.jsx(Et,{size:"large",onClick:a,title:"settings",className:te.Fab??"",children:t.jsx(O,{title:"settings",arrow:!0,children:t.jsx(Ke,{size:"large",children:t.jsx(Nr,{fontSize:"large"})})})}),t.jsxs(Un,{onClose:l,className:te.Dialog??"",open:i,children:[t.jsx(C,{elevation:24,className:te.title??"",children:t.jsx("h3",{children:"Settings"})},"title"),t.jsx(ue,{}),t.jsx(C,{elevation:24,className:classNames(te.Paper),children:t.jsxs(Ze,{fullWidth:!0,children:[t.jsx(O,{arrow:!0,title:mt,placement:"top",children:t.jsx(Wn,{children:mt})}),t.jsx(Gn,{fullWidth:!0,label:mt,defaultValue:"ECharts Engine",onChange:c=>{const u=c.target.value;u==="SVG Engine"&&!confirm("SVG is very unstable! Are you sure you want to switch to it?")||n(u)},value:s,children:["ECharts Engine","SVG Engine"].map(c=>t.jsx(Ft,{value:c,children:t.jsx(O,{arrow:!0,placement:"right",title:t.jsx(bo,{renderingEngine:c}),children:t.jsx("div",{children:c})})},c))})]})},"engine"),t.jsx(ue,{}),t.jsxs(C,{elevation:24,className:classNames(te.Paper,te.SG),children:[t.jsx(O,{title:"Need Reload",arrow:!0,placement:"left",children:t.jsx(Vn,{selected:r,value:"",className:classNames(te["SG-ToggleButton"]),children:t.jsx($t,{control:t.jsx(Ir,{defaultChecked:!0,checked:r}),label:`Enable ${nt}`,autoFocus:!0,className:classNames(te["SG-ToggleButton-FormControlLabel"]),onChange:(c,u)=>{o(u),Ne(()=>{location.reload()})}})})}),t.jsx(_e,{href:hn,underline:"hover",target:"_blank",children:t.jsx(Et,{size:"large",title:hn,children:t.jsx(O,{title:So,arrow:!0,placement:"right",children:t.jsx(Ke,{size:"large",color:"info",children:t.jsx(Tr,{fontSize:"large",color:"primary"})})})})})]},"SG"),t.jsx(ue,{}),t.jsx(C,{elevation:24,className:classNames(te.Paper),children:t.jsx(J,{size:"large",variant:"contained",fullWidth:!0,color:"warning",onClick:()=>{confirm("Are you sure you want to clear the cache?")&&(localStorage.clear(),wa().then(()=>{alert("Clear Success!")},()=>{alert("Clear Fail!")}))},children:"Clear Cache"})},"clear"),t.jsx(ue,{}),t.jsx(C,{elevation:24,className:te.Paper??"",children:t.jsx(J,{size:"large",variant:"contained",fullWidth:!0,onClick:l,startIcon:t.jsx(qn,{fontSize:"large"}),children:"Back"})},"back")]})]})}const mn=wr.color,{isSafeInteger:pn,isNaN:yo,isFinite:wo}=Number,{min:cs,max:us}=Math,{isArray:Co,from:Yl}=Array,Wt=([e,n])=>t.jsxs("div",{children:[t.jsx("span",{children:`${e}: `}),t.jsx("span",{className:ce,children:n?.toString()})]},e),fn=4,Eo=(e,n)=>e.length>n?e.slice(0,n):e,Gt=({k:e,kInd:n,v:s,neighbor:r,color:o})=>[["Vertex Name",`${e+n}`],_.isUndefined(s)?void 0:["Maximum Cohesion",`${s}`],_.isUndefined(r)?void 0:["Neighbors",`${Eo(r,fn).map(({k:i,kInd:a})=>`${i+a}`).join(", ")}${r.length>fn?"...":""}`],_.isUndefined(r)?void 0:["Vertex Degree",`${r.length}`]],No=e=>{const{k:n,kInd:s,v:r,neighbor:o,color:i}=e;return[Gt(e)[0],["Contain Vertices",`${r}`]]},ds=(e,n,s=Gt)=>{const{k:r,kInd:o,v:i,neighbor:a,color:l}=e;return t.jsxs(t.Fragment,{children:[l&&n&&!Ts(n)?t.jsxs(t.Fragment,{children:[t.jsx("div",{children:t.jsxs("span",{className:ce,children:["fetch ",n," result"]})}),t.jsx("br",{})]}):null,s(e).filter(Boolean).map(Wt)]})},hs=(...e)=>Xs(ds(...e)),ms={trigger:"item",axisPointer:{type:"cross"}},ps=immer.freeze({label:{show:!0},roam:!0}),fs={toolbox:{show:!0,feature:{saveAsImage:{},restore:{},dataView:{},dataZoom:{},magicType:{},brush:{}}}},pt=immer.freeze({show:!0,snap:!0}),gs=e=>`rgba(0,0,0,${e})`,Io=gs(.5),Pe=gs(.3),xs={lineStyle:{shadowColor:Io,shadowBlur:10},scale:!0,label:{show:!0,fontSize:24,fontWeight:"bolder",textShadowBlur:5,textShadowColor:Pe},itemStyle:{shadowColor:Pe,shadowBlur:10}},To=({isBiggerThanShowAllCount:e,maxV:n,minV:s,dataArrWithPos:r})=>{if(e)return{symbolSizeMax:n,symbolSizeMin:s};const o=r.map(({neighbor:l})=>l?.length),i=cs(...o);return{symbolSizeMax:us(...o),symbolSizeMin:i}},ko=(e,n)=>{if(e){const s=n,r=cs(...s),o=us(...s),i=10,a=1,l=(i-a)/(o-r);return u=>(u-r)*l+a}else return s=>s},ft=({dataArrWithPos:e,graphData:n,mode:s,size:r=void 0,commonValueFromTableData:o=st(e,ts),isBiggerThanShowAllCount:i=!1,emphasisFocus:a="adjacency"})=>{if(!e||!n||!o)return{};const{max:l,min:c}=o,u=qo(e,n),{symbolSizeMax:m,symbolSizeMin:h}=To({isBiggerThanShowAllCount:i,maxV:l,minV:c,dataArrWithPos:e}),f=(Da-dt)/(m-h),g=m===h||yo(f)||!wo(f)?()=>dt:x=>(x-h)*f+dt,b=_.uniq(n.map(({superWidth:x})=>x)),N=ko(i,b);return{...i?{title:{text:nt}}:void 0,...fs,tooltip:{},legend:{data:[K.U,K.V]},series:[{type:"graph",...ps,tooltip:{...ms,formatter(x,d,p){const{dataType:j,dataIndex:v,data:E,name:I}=x;if(j==="edge"){const{source:F,target:se,superWidth:de}=E;return[I,de].filter(Boolean).join("<br/>")}const D=e[v];return D?hs(D,s,i?No:Gt):d}},categories:[{name:K.U,base:K.U},{name:K.V,base:K.V}],edgeLabel:{},data:e.map(x=>{const{k:d,kInd:p,graphX:j,graphY:v,v:E,color:I,neighbor:D}=x,F=g((i?E:D?.length)??E??0);return{name:be(x),value:E,category:d,symbolSize:F,x:j,y:v,...I?{itemStyle:{color:I},label:{fontWeight:"bolder",textShadowBlur:5}}:null}}),links:n?.map(({u:x,v:d,superWidth:p},j)=>{const v=u[j];return{source:`u${x}`,target:`v${d}`,lineStyle:{..._.isUndefined(p)?null:{width:N(p)},color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:mn[0]},{offset:1,color:mn[1]}],global:!1},...v?{color:u[j],width:4}:null},superWidth:p}}),lineStyle:{opacity:1,cap:"round",join:"round",shadowColor:Pe,shadowBlur:5},itemStyle:{shadowColor:Pe,shadowBlur:5},emphasis:{focus:a,...xs}}]}},Mo=e=>e?{itemStyle:{color:e,shadowColor:Pe,shadowBlur:16},symbolSize:16,symbol:"circle"}:{},_s=immer.freeze({[R["Maximum Edge Biclique"]]:{s:"Minimum vertex count in U",t:"Minimum vertex count in V"},[R["Maximal Biclique Enumeration"]]:{s:"Minimum vertex count in U",t:"Minimum vertex count in V"},[R["(p,q)-biclique Counting"]]:{s:"Vertex number in U",t:"Vertex number in V"}});_.debounce(()=>{we.warn("result is empty")});const We=e=>`${Ss.name}${e}`,bs=[k.table,k.graph],Do=[...bs,k.result],gn="leastOneChart",vs=e=>e.filter(_.negate(_.isUndefined)),zo=e=>vs(e).length;function Ss(e){const{dataArrWithPos:n,visualMapSection:s,graphData:r,size:o,resultGraph:i,selectMode:a,useSetInputST:l,setTab:c,resultTable:u,setSize:m,isEditX:h,commonValueFromTableData:f,clickEChartDotToAddMultiDots:g,superData:b}=e,N=_.isUndefined(o),y=T.useMemo(()=>{if(n)return{...fs,dataZoom:[{type:"slider",xAxisIndex:0,filterMode:"none"},{type:"slider",yAxisIndex:0,filterMode:"none"},{type:"inside",xAxisIndex:0,filterMode:"none"},{type:"inside",yAxisIndex:0,filterMode:"none"}],tooltip:{...ms,formatter(w,M){if("dataIndex"in w){const B=n[w.dataIndex];if(B)return hs(B,a)}return M}},xAxis:{type:"category",data:n.map(be),axisPointer:pt},yAxis:{type:"value",axisPointer:pt},series:[{...ps,data:n.map(({v:w,color:M})=>({value:w,...Mo(M)})),type:"line",emphasis:{focus:"self",...xs},symbolSize:8,...h&&!N&&s?{markLine:{symbol:["circle","circle"],data:[{yAxis:o}]},markArea:{animation:!0,data:s.map(({start:w,end:M,color:B},V)=>{const ee=n[w],ke=n[M],re=`${ee?.k}${ee?.kInd}~${ke?.k}${ke?.kInd}`,he={color:B,opacity:.03},me={show:!0,formatter:re,position:"insideBottom",color:"#000"},ot={label:me,itemStyle:{opacity:.05}};return[{itemStyle:he,label:me,xAxis:w,emphasis:ot},{itemStyle:he,label:me,xAxis:M,emphasis:ot}]})}}:null}],axisPointer:pt,...h&&s?{visualMap:{pieces:s.map(({start:w,end:M,color:B})=>{const V=n[w],ee=n[M];return{min:w,max:M,color:B,label:`${V?.k}${V?.kInd}~${ee?.k}${ee?.kInd}`}}),dimension:0,show:!0,outOfRange:{color:"Gray",colorAlpha:.8},inverse:!0}}:null}},[n]),x=T.useMemo(()=>{if(!n)return;if(b){const{tableData:M,graphData:B}=b;if(M&&B){const V=st(M,ts),ee=Ht(M,B,V,innerHeight);return ft({dataArrWithPos:ee,graphData:B,mode:a,size:void 0,commonValueFromTableData:V,isBiggerThanShowAllCount:!0})}}return ft({dataArrWithPos:n,graphData:r,mode:a,size:void 0,commonValueFromTableData:f})},[n,b]),d=T.useMemo(()=>{if(!N&&!i?.length){const w=_s[a];return{title:{text:`${a} result is empty`,subtext:`${_.map(l[0],(M,B)=>`${w?.[B]}: ${M}`).join(`
`)}`,left:"center",top:"center",textStyle:{fontSize:30,lineHeight:60},subtextStyle:{fontSize:20,lineHeight:40}}}}return ft({dataArrWithPos:u,graphData:i})},[i]),p=U(Is({isEditX:h,setSize:m,size:o})),j=T.useMemo(()=>["dblclick","series",w=>{const{dataIndex:M,name:B,value:V}=w;pn(M)&&B&&pn(V)&&typeof V=="number"&&p({v:V})()}],[p]),v=T.useMemo(()=>["click","series",g],[g]),E=t.jsx(ht,{option:y,onParams:[j,v]}),I=t.jsx(ht,{option:x,onParams:[j,v]}),D=t.jsx(ht,{option:d}),[F,se]=ne(bs),de=er(w=>(Co(w)&&(zo(w)===0?we.warn("Please leave at least one chart.",{toastId:gn}):(we.dismiss(gn),se(w))),Ga())),Z=tr(F),H=vs(F),Ie=H.length===1,Te=U(w=>()=>{se([w])}),le=U(()=>{Z&&se(Z)}),ve=U((w,M)=>{const B=Ie&&_.head(H)===M;return t.jsx(mo,{isInFullScreen:B,isShow:F.includes(M),onClick:B?le:Te(M),children:w})});return ge(()=>{Ne(()=>{dispatchEvent(rs)})},[F]),t.jsxs(t.Fragment,{children:[t.jsx(je,{value:k.all,children:t.jsxs("div",{className:Me.AllPanel??"",children:[t.jsxs("div",{className:Me["AllPanel-ECharts"]??"",style:{"--minHeight":"71vh"},children:[ve(E,k.table),ve(I,k.graph),N?null:ve(D,k.result)]}),t.jsx(C,{elevation:24,className:Me.ToggleButtonGroupWrapper??"",children:t.jsx(kr,{size:"large",value:F,onChange:(w,M)=>{de(M)},className:Me["AllPanel-ToggleButtonGroup"]??"",children:Do.map(w=>{const M=w===k.result&&N;return t.jsx(Vn,{value:w,disabled:M,className:Me["AllPanel-ToggleButtonGroup-ToggleButton"]??"",size:"large",children:t.jsx($t,{control:t.jsx(Bt,{checked:F.includes(w),disabled:M,size:"large"}),label:Xe[w]})})})})})]})},We(k.all)),t.jsx(je,{value:k.table,children:E},We(k.table)),t.jsx(je,{value:k.graph,children:I},We(k.graph)),t.jsx(je,{value:k.result,children:D},We(k.result))]})}const{values:Po,freeze:Vt,keys:Ql}=Object,{isNaN:Lo}=Number;var K=(e=>(e.U="u",e.V="v",e))(K||{});const Fo=Vt({0:"u",1:"v"}),G=32,$o=G/2,st=(e,{svgWidth:n,svgHeight:s})=>{if(!e)return;const r=e.map(({v:g})=>g).map(Number).filter(_.negate(Lo)),o=Math.min(...r),i=Math.max(...r),a=i===o?1:i-o,{length:l}=r,c=n-G*2,u=s-G*2,m=c/(l-1),h=u/a;return{valuesArr:r,min:o,max:i,diff:a,realHeight:u,xRadix:m,yRadix:h,length:l,getYPos:g=>G+(i-g)*h,svgWidth:n,svgHeight:s}},qt=Vt({u:0,v:1}),Bo=Object.keys(qt).length,Ao=e=>e?{neighbor:e}:{},xn=(e,n,s,r)=>(e[n]||(e[n]=[])).push({k:s,kInd:r}),js=()=>({u:{},v:{}}),Oo=e=>{const n=js(),s=n.u,r=n.v;for(const o of e){const{u:i,v:a}=o;s&&r&&!_.isUndefined(i)&&!_.isUndefined(a)&&(xn(s,i,"v",a),xn(r,a,"u",i))}return n},Ht=(e,n,s,r)=>{if(!n||!e||!s)return[];const{xRadix:o,getYPos:i,svgWidth:a,max:l,min:c}=s,u=Oo(n),m=a-G*2,h=_.groupBy(e,({k:y})=>y),f=_.mapValues(h,y=>{const{length:x}=y;return m/(x<=1?1:x-1)}),g=(r-G*2)/(Bo-1),b=_.mapValues(h,y=>new Map(_.sortBy(y,({kInd:x})=>x).map(({kInd:x},d)=>[x,d])));return e?.map((y,x)=>{const{v:d,k:p,kInd:j}=y;return{...y,i:x,x:G+x*o,..._.isUndefined(d)?void 0:{y:i(d)},graphX:G+(b[p].get(j)??0)*f[p],graphY:G+qt[p]*g,...Ao(u?.[p][j])}})},Be=Vt(["more-highlight","highlight","no-highlight"]),Tt=_.last(Be)??"",ys=Be.map(e=>_.camelCase(`is-${e}`)),{length:ws}=Be,Ro=e=>1<<ys.findIndex(s=>e[s]===!0)+1,Uo=(1<<ws)-1,Wo=e=>{for(let n=1;n<ws;n++)if(ca(e,n)===1)return Be[n-1]??Tt;return Tt},Go=e=>{const n=ys.findIndex(s=>e?.[s]===!0);return Be[n]??Tt},Vo=e=>{if(e.includes(Bs)&&e.includes(Dt))return Dt;if(e.length!==1)return;const n=_.head(e);if(n)return n},Kt=e=>{const n=js();return _.isUndefined(e)||e.length===0?n:{...n,..._.mapValues(_.groupBy({...e},({k:s})=>s),s=>_.keyBy(s,({kInd:r})=>r))}},qo=(e,n,s=Kt(e))=>!e||!n?[]:n?.map(r=>{const o=_.uniq(_.map(r,(i,a)=>s[a]?.[i]?.color));return Vo(o)}),Ho=({drawDotData:e,graphData:n})=>{const s=_.mapValues(_.groupBy(e,({k:r})=>r),r=>_.keyBy(r,({kInd:o})=>o));return n?.map(r=>{const o=Po(_.mapValues(r,(c,u)=>s[u]?.[c])),i=o.reduce((c,u,m,h)=>{const{pos:f,highlightLevelNum:g}=c;if(!u)return c;const{graphX:b,graphY:N,color:y}=u;return{pos:[...f,[b,N]],highlightLevelNum:g&Ro(u)}},{pos:[],highlightLevelNum:Uo,color:""}),{highlightLevelNum:a}=i,l=_.uniq(o.map(c=>c?.color?c.color:""));return{...i,highlightLevel:Wo(a),...l.length===1?{color:_.head(l)}:null}})},xe=e=>e.v,Cs=Ot.length,Ko=({isEditX:e,dataArrWithPos:n,commonValueFromTableData:s,size:r})=>{if(!e||!s)return n;const{length:o}=s;if(_.isNil(r))return n.map(m=>({...m,color:""}));const a=[];let l=0,c=_.head(n);if(!c)return n;let u=xe(c);for(let m=1;m<=o;m++){const h=[c];for(;m<o;m++){const g=n[m];if(!g)break;const b=xe(g);if(!_.isUndefined(b)&&!_.isUndefined(u)&&(b>=r||b>=u))h.push(g),c=g,u=b;else{c=g,u=b;break}}const f=Ot[l%Cs]??"";a.push(...h.map(g=>f?{...g,color:f}:g)),l++}return a.map(m=>{const{v:h}=m;return!_.isUndefined(h)&&h>=r?{...m,isHighlight:!0}:m})},Xo=e=>{const{isEditX:n,dataArrWithPos:s,commonValueFromTableData:{length:r}={},size:o,colors:i=Ot}=e;if(!n||!r)return{datas:s,sections:[]};if(_.isNil(o))return{datas:s,sections:[]};const l=[];let c=0;const u=[],m=[],h=[],f=[];for(let g=0;g<r;g++){const b=s[g];if(!b)break;const N=xe(b),y=s[g+1],x=()=>{h.push(b),f.push(g)},d=()=>{if(!_.isUndefined(N)&&N>=o){x();const j=i[c%Cs]??"";return u.push(h),m.push({start:_.head(f)??0,end:_.last(f)??0,color:j}),l.push(...h.map(v=>j?{...v,color:j}:v)),h.length=0,f.length=0,c++,1}else return l.push(b),0};if(!y){d();break}const p=xe(y);!_.isUndefined(p)&&p>=o?x():d()}return{datas:l,sections:u,visualMapSection:m}},Jo=({isEditX:e})=>n=>()=>{},Es=e=>({title:ds(e),arrow:!0}),_n=({clientWidth:e,clientHeight:n})=>{const s=e-G,r=n-G;return{svgWidth:e,svgHeight:n,xEnd:s,yEnd:r}},Yo=e=>()=>{const{current:n}=e;return _n(n||{clientWidth:innerWidth,clientHeight:innerHeight})},Ns=e=>classNames(P.g,P[Go(e)]),Is=({isEditX:e,setSize:n,size:s})=>({dotData:r,v:o=r?.v})=>()=>{e&&n?.(o===s?void 0:o)},Qo=e=>Mr(_.debounce(ea(e,0))),Ts=e=>e===R["Hierarchical Subgraphs Search"],{isSafeInteger:gt}=Number;function bn(e){const n=e.split(`
`),s=[];let r=0,o;const{length:i}=n;for(;r<i;)if(n[r]?.startsWith("No.")){r++;const a=n[r++],l=n[r++],c=n[r++];let u;r<i&&n[r]?.startsWith("count:")&&(u=n[r++]);const m=a?.match(/size=(\d+)/)?.[1];if(!m)throw new Error("Invalid size format");const h=parseInt(m,10);if(!gt(h)||h<=0)throw new Error("Size must be a positive integer");const f=l?.match(/U: (\d+(?: \d+)*)/);if(!f)throw new Error("Invalid U format");const g=f[1]?.split(" ").map(Number)??[];if(g?.some(isNaN)||g?.some(d=>d<=0))throw new Error("U values must be positive integers");const b=c?.match(/V: (\d+(?: \d+)*)/);if(!b)throw new Error("Invalid V format");const N=b[1]?.split(" ").map(Number)??[];if(N?.some(isNaN)||N?.some(d=>d<=0))throw new Error("V values must be positive integers");let y;if(u){const d=u.match(/count: (\d+)/)?.[1];if(!d)throw new Error("Invalid count format");if(y=parseInt(d,10),!gt(y)||y<=0)throw new Error("Count must be a positive integer")}const x={size:h,[K.U]:g,[K.V]:N,label:`Rank ${s.length+1}`,...y?{count:y}:null};s.push(x)}else if(n[r]?.startsWith("The number of ")){const a=n[r+1];if(!a)throw new Error("The number of (\\d,\\d)-bicliques not has next line");const l=parseInt(a,10);if(!gt(l)||l<=0)throw new Error("The number of (\\d,\\d)-bicliques must be a positive integer");o=l;break}else r++;return{dataArr:s,..._.isUndefined(o)?{}:{count:o}}}const Zo="_Dialog_14va2_1",ei="_title_14va2_4",ti="_Paper_14va2_7",ni="_FileUploadTeam_14va2_11",si="_LinkToEdit_14va2_15",ri="_backIcon_14va2_19",ie={Dialog:Zo,title:ei,Paper:ti,FileUploadTeam:ni,LinkToEdit:si,backIcon:ri},ai="_title_ju35s_1",oi="_Paper_ju35s_7",ii="_Input_ju35s_10",li="_TextField_ju35s_16",fe={title:ai,Paper:oi,Input:ii,"input-file":"_input-file_ju35s_13",TextField:li,"TextField-Paper":"_TextField-Paper_ju35s_22","TextField-Paper-input":"_TextField-Paper-input_ju35s_25","FileInfo-Button":"_FileInfo-Button_ju35s_28"};function ci(e){const{fileInfo:n}=e,{name:s,size:r,lastModified:o,type:i,downloadUrl:a}=n;return s?t.jsxs(t.Fragment,{children:[t.jsx(ue,{}),t.jsx(C,{elevation:24,className:ie.Paper??"",children:t.jsxs("fieldset",{children:[s?t.jsx("legend",{children:t.jsx(_e,{href:a,title:"preview",target:"_blank",underline:"hover",children:s})}):null,s&&r?t.jsxs("p",{children:[" Content Length: ",filesize(r)]}):null,o?t.jsxs("p",{children:[" Last Modified: ",new Date(o).toJSON()]}):null,i?t.jsxs("p",{children:[" Content Type: ",i]}):null,t.jsxs(C,{elevation:0,className:ie["FileInfo-Button"]??"",children:[t.jsx(_e,{href:a,target:"_blank",underline:"hover",children:t.jsxs(J,{variant:"outlined",children:[t.jsx(Dr,{}),"preview"]})}),t.jsxs(J,{variant:"outlined",onClick:()=>{const l=document.createElement("a");l.href=a??"",l.download=s,l.click()},children:[t.jsx(zr,{}),"download"]})]})]})})]}):null}const ui="_examples_141yp_1",di={examples:ui};function hi(e){const{defaultTxt:n,chooseExample:s}=e,[r,o,i]=On(null);return t.jsxs(C,{elevation:24,className:di.examples??"",children:[t.jsx(O,{title:"No suitable data? Click here to try these.",arrow:!0,children:t.jsxs(J,{size:"large",fullWidth:!0,onClick:a=>{o(a.currentTarget)},children:["> ",t.jsx(_e,{component:"button",children:"Examples"})]})}),t.jsx(Pr,{open:!!r,anchorEl:r,onClose:()=>{i()},children:t.jsx(Lr,{children:n.map((a,l)=>t.jsx(O,{arrow:!0,title:`Example ${l+1}`,placement:"right",children:t.jsx(Fr,{disablePadding:!0,children:t.jsx($r,{onClick:()=>{s(a),i()},children:t.jsx(_e,{component:"button",underline:"hover",children:a})},a)})},a))})})]})}const{revokeObjectURL:mi,createObjectURL:pi}=URL,{freeze:fi}=Object,{error:vn}=console,gi={lastModified:0,name:"",size:0,type:"",downloadUrl:""},ks=e=>{e&&mi(e)},xi=e=>n=>{if(n){const s=ks.bind(null,e);n.addEventListener("beforeunload",s),n.addEventListener("unload",s)}},Xt=e=>{const n=pi(e);return Ne(()=>{const s=xi(n);s(window??self??globalThis??void 0),s(document);const{documentElement:r,body:o,head:i,scrollingElement:a,firstElementChild:l,lastElementChild:c,activeElement:u,firstChild:m,lastChild:h,doctype:f,defaultView:g}=document;s(i),s(o),s(r),s(u),s(l),s(c),s(a),s(h),s(f),s(g),s(m)}),n},rt=fi({DBname:"HJX",storeName:"HXJ"}),_i=e=>({...e,fileInfo:{...e.fileInfo,downloadUrl:Xt(new Blob([e.fileData]))}}),Sn="Upload File",jn="some error occur",xt="Please input URL";function bi(e){const{parseData:n,setWillPatchData:s,defaultTxt:r,title:o}=e,[i,a]=ne(""),[l,c]=Rn(gi);zt(()=>{ks(l.downloadUrl)});const u=U((h,f)=>{s({fileName:f.match(/[^\/]+$/)?.[0]??f,data:h})}),m=U(h=>Ps(h).then(f=>{if(f){const{fileInfo:g,fileData:b}=f,N=n(b);if(N.length===0){we.error("The file format is incorrect!");return}c(g),u(N,h)}},vn).catch(vn));return t.jsx(t.Fragment,{children:t.jsxs(C,{elevation:24,children:[t.jsx("h4",{className:fe.title,children:o}),t.jsxs(C,{elevation:24,className:classNames(fe.Paper,fe.Input),children:[t.jsxs(J,{component:"label",variant:"contained",startIcon:t.jsx(Br,{}),fullWidth:!0,title:Sn,children:[Sn,t.jsx("input",{type:"file",className:fe["input-file"],onChange:h=>Ye.unstable_batchedUpdates(()=>{const f=h.target.files?.[0];if(!f){alert(jn);return}const g=new FileReader;g.readAsText(f),g.onload=b=>{const N=b.target?.result||g.result;if(typeof N=="string")try{const{name:y,lastModified:x,size:d,type:p}=f;u(n(N),y);const j=Xt(f);c({...l,name:y,lastModified:x,size:d,type:p,downloadUrl:j});const v={fileInfo:{...l,name:y,lastModified:x,size:d,type:p,downloadUrl:j},fileData:N};tt({...rt,IDBValidKey:y,data:v})}catch{alert(jn)}}}),accept:".txt"})]}),t.jsx(ue,{orientation:"vertical",variant:"fullWidth",flexItem:!0,children:t.jsx(Hn,{label:"OR"})}),t.jsxs(C,{elevation:24,className:fe.TextField??"",children:[t.jsxs(C,{elevation:24,className:fe["TextField-Paper"]??"",children:[t.jsx(et,{label:xt,onChange:h=>{a(h.target.value)},value:i,fullWidth:!0,placeholder:xt,title:xt,className:fe["TextField-Paper-input"]??""}),t.jsx(J,{size:"large",variant:"contained",disabled:!i,onClick:()=>m(i),children:"Fetch"})]}),t.jsx(hi,{defaultTxt:r,chooseExample:h=>{a(()=>(m(h),h))}})]})]}),t.jsx(ci,{fileInfo:l})]})})}const{freeze:vi}=Object,Si=vi({replace:!0,preventScrollReset:!1,flushSync:!1,viewTransition:!0}),{error:kt}=console,{from:yn}=Array,{freeze:ji}=Object,{isSafeInteger:Ee}=Number,Ms=e=>{const n=e.trim().split(`
`),s=[];for(const r of n){const[o,i,a]=r.trim().split(/[ \t]/),l=parseInt(i),c=parseInt(a);if(!Ee(l)||!Ee(c))return[];s.push({k:Fo[o],kInd:l,v:c})}return s},yi=(e,n)=>{const[s,r]=e.trim().split(/[ \t]/),o=parseInt(s),i=parseInt(r);!Ee(o)||!Ee(i)||n.push({[K.U]:o,[K.V]:i})},wi=(e,n)=>{const[s,r,o]=e.trim().split(/[ \t]/),i=parseInt(s),a=parseInt(r),l=parseInt(o);!Ee(i)||!Ee(a)||n.push({[K.U]:i,[K.V]:a,superWidth:l})},Ci=(e,n=yi)=>{const s=e.trim().split(`
`),r=[];for(const o of s)n(o,r);return r},Ei=(e,n=wi)=>{const s=e.trim().split(`
`),r=[];for(const o of s)n(o,r);return r},Je=["dataset","BCviz_file"],_t=ji([{title:Xe[k.graph],parseData:Ci,defaultTxt:["example.txt","writer.txt","marvel.txt","paper.txt"]},{title:Xe[k.table],parseData:Ms,defaultTxt:["example_cohesion.txt","writer_cohesion.txt","marvel_cohesion.txt","paper_cohesion.txt"]}]),bt=(e="searchParams is not enough")=>{throw kt(e),new Error(e)},wn="New Graph";function Ni(e){const{setDatas:n,setFileNames:s}=e,[r,{setTrue:o,setFalse:i}]=De(!1),{list:a,resetList:l,replace:c}=nr(),u=U(d=>p=>c(d,p)),m=U(()=>l([])),[h,f]=ta(),{arrEntries:g,arrKeys:b}=T.useMemo(()=>{const d=yn(h.entries()),p=d.map(_.first);return{arrEntries:d,arrKeys:p}},[h]),N=T.useMemo(()=>{const{length:d}=n;return!(h.size<d||_.uniq(b).filter(p=>Je.includes(p)).length!==d)},[h]),y=U(()=>{o(),f()});Lt(()=>{if(!N){y();return}const d=g.map(([,p])=>p);Promise.all(d.map(p=>Ps(p))).then(p=>{Je.map((j,v)=>{const E=b.indexOf(j),I=p[E]?.fileData,D=d[E];if(!I||!D)return bt();const F=_t[v]?.parseData(I);return F?.length?{parseData:F,fileName:D}:bt("parse error")}).forEach(({parseData:j,fileName:v},E)=>{const I=n[E],D=s[E];if(!D||!I)return bt();I(j),D(v)})}).catch(p=>{kt(p),y()})}),ge(()=>{r||m()},[r]);const x=a.length===n.length&&yn(a).every(Boolean);return t.jsxs(t.Fragment,{children:[t.jsx(J,{size:"large",variant:"contained",onClick:o,fullWidth:!0,children:wn}),t.jsxs(Un,{onClose:()=>{N&&i()},className:ie.Dialog??"",open:r,children:[t.jsx(C,{elevation:24,className:ie.title??"",children:t.jsx("h3",{children:wn})},"title"),t.jsx(C,{elevation:24,children:t.jsx(C,{elevation:24,className:classNames(ie.Paper,ie.FileUploadTeam),children:_t.map((d,p)=>T.createElement(bi,{setWillPatchData:u(p),...d,key:p}))},"upload")}),t.jsx(ue,{}),t.jsxs(C,{elevation:24,className:ie.Paper??"",children:[t.jsx(J,{size:"large",variant:"contained",fullWidth:!0,disabled:!x,onClick:()=>Ye.unstable_batchedUpdates(()=>{if(x){const d=a.map(({fileName:v})=>v),[p,j]=d;if(!p||!j)return;d.map(async v=>{if(_t.some(({defaultTxt:D})=>D.includes(v)))return;const E=await Rt(v).then(({fileData:D})=>D,kt);if(!E)return;await Fi(v)||Li(E,v)}),a.forEach(({fileName:v,data:E},I)=>{n[I]?.(E),s[I]?.(v)}),f({dataset:p,BCviz_file:j},Si),i()}}),children:"Comfirm"}),t.jsx("div",{className:ie.LinkToEdit??"",children:t.jsx(na,{to:{pathname:Os.edit},children:t.jsx(O,{title:"go to a new page",arrow:!0,children:t.jsx(J,{size:"large",variant:"text",endIcon:t.jsx(qn,{fontSize:"large",className:ie.backIcon??""}),children:t.jsx(_e,{underline:"hover",children:"Create custom Bipartite Graph"})})})})})]},"confirm")]})]})}const{error:Le}=console,{isSafeInteger:Ii}=Number,{freeze:Ti}=Object,ye=localStorage.getItem("baseURL")??"http://117.72.219.9",ki=()=>{const{origin:e,protocol:n,port:s,hostname:r}=location;return n==="http:"&&(r==="localhost"||r==="127.0.0.1")},Ds=ki()&&localStorage.getItem("hjx");if(Ds){const{defaults:e}=axios;e.baseURL=ye}const Cn=e=>e===204;Va(()=>{const{origin:e,protocol:n,port:s,hostname:r}=location;if(!(e===ye||Ds)&&n==="http:"){const o="/api/test";axios.get(o,{validateStatus:Cn}).catch(i=>{axios.get(new URL(o,ye).toString()).then(a=>{const{status:l,headers:c}=a;if(Cn(l)){const{defaults:u}=axios;u.baseURL=ye;return}}).catch(Le)});return}});const En=(e,n)=>{const r=n.exec(e)?.[1]?.trim();return r?r.split(/\s+/).map(o=>{const i=parseInt(o);return Ii(i)?i:0}):[]},Mi=e=>{const r=/size=(\d+)/.exec(e)?.[1],o=r?parseInt(r,10):0,i=En(e,/U:\s+([\d\s]+)/),a=En(e,/V:\s+([\d\s]+)/);return{size:o,u:i,v:a,label:"Rank 1"}},Di=e=>({[R["Maximum Edge Biclique"]]:{dataArr:[Mi(e)]},[R["Maximal Biclique Enumeration"]]:bn(e),[R["(p,q)-biclique Counting"]]:bn(e)}),Jt=e=>`/api/v1/${e}`,zs=async e=>{const n=Jt("MBS"),s=_.omitBy(e,_.isUndefined),r=`${n}?${new URLSearchParams(s)}`;return{data:await Rt(r).catch(()=>axios.get(n,{responseType:"text",params:e}).then(i=>{const{data:a}=i;return a},i=>{throw Le(i),new Error(i)})).catch(i=>{throw Le(i),new Error(i)}),key:r}},zi=async(e,n,s)=>{const r=await zs(s).then(({data:o,key:i})=>{if(typeof o=="string"){const a={...Di(o)[e],...s};return tt({...rt,data:a,IDBValidKey:i}),a}return o});return{...n,...r?{[e]:r}:null}},Pi=e=>zs(e).then(({data:s,key:r})=>{if(typeof s=="string"){const o=s.trim().split(`
`),i=o.indexOf("super vertex:"),a=o.indexOf("super edge:"),l=o.slice(i+1,a-1).join(`
`),c=o.slice(a+1).join(`
`),u={tableData:Ms(l),graphData:Ei(c)};return tt({...rt,data:u,IDBValidKey:r}),u}return s}),Li=(e,n)=>axios.post(Jt("upload"),e,{params:{dataset:n}}),Zl=e=>axios.get(Jt("construct"),{params:e}),Ps=e=>Rt(e).then(_i).catch(()=>axios.get(e,{responseType:"text"}).then(async n=>{const s=new Headers(n.headers),{data:r}=n,o=Xt(new Blob([r])),i=Ti({fileInfo:{lastModified:Date.parse(s.get("last-modified")??""),name:e,size:parseInt(s.get("content-length")??""),type:s.get("content-type")??"",downloadUrl:o},fileData:r});return tt({...rt,IDBValidKey:e,data:i}),i},Le)).catch(Le),Fi=e=>axios.head(e,{validateStatus(n){return n===200||n===304}}).then(()=>!0,()=>!1),Nn=Object.freeze({loadingDelay:300,throttleWait:300,debounceWait:300,debounceLeading:!0}),$i="_Tool_17xe8_7",Bi="_IconButton_17xe8_10",Ai="_triangle_17xe8_15",Oi="_rotate_17xe8_25",Ge={"Main-Side":"_Main-Side_17xe8_1",Tool:$i,IconButton:Bi,triangle:Ai,rotate:Oi},In=["225deg","45deg"];function Tn(e){const{buttonOrder:n=0,isOpen:s=!0,children:r,...o}=e,[i,{toggle:a}]=De(s);return r?t.jsxs(C,{className:Ge["Main-Side"]??"",elevation:24,...o,children:[t.jsx(O,{title:`${i?"collapse":"expand"} toolbar`,arrow:!0,children:t.jsx(Ke,{size:"large",className:Ge.IconButton??"",onClick:()=>{a(),Ne(()=>{eo(rs)})},style:{"--order":n,"--initRotate":In[n],"--clickRotate":In[1-n]},children:t.jsx("div",{className:classNames(Ge.triangle,{[Ge.rotate??""]:i})})})}),t.jsx(Ar,{in:i,orientation:"horizontal",children:r})]}):null}const Ri="_Tool_tgrdm_1",vt={Tool:Ri,"x-line-mode":"_x-line-mode_tgrdm_7","x-line-mode-label":"_x-line-mode-label_tgrdm_10"};function Ui(e){const{toggleIsEditX:n=()=>{},isEditX:s,className:r,setDatas:o,setFileNames:i}=e,{pathname:a}=ra();return t.jsxs(C,{elevation:24,className:classNames(vt.Tool,r),children:[t.jsx(Ni,{setDatas:o,setFileNames:i}),a===As.old?t.jsx(J,{variant:"outlined",className:vt["x-line-mode"]??"",fullWidth:!0,children:t.jsx($t,{className:vt["x-line-mode-label"]??"",onChange:n,control:t.jsx(Bt,{checked:s}),label:"Edit Mode"})}):null]})}const{freeze:Wi}=Object,Mt=Wi({inputProps:{min:0,max:99,inputMode:"numeric",pattern:"^(0|[1-9]d*)$"},inputMode:"numeric",type:"number"}),{isSafeInteger:Gi}=Number;function kn({useSetInputST:[e,n],k:s,label:r=""}){const o=U(i=>n({[s]:i}));return t.jsxs(Ze,{fullWidth:!0,children:[t.jsx(et,{fullWidth:!0,placeholder:r,label:r,type:"number",title:s,value:e[s],required:!0,onChange:i=>{const{value:a}=i.target;if(!a){o(a);return}const l=parseInt(a),c=Number(a),u=+a;Ut(l,c,u)&&Gi(l)&&l>=0&&o(l.toString())},...Mt,inputProps:_.omit(Mt.inputProps,"max"),spellCheck:!0,autoCapitalize:"on",enterKeyHint:"next",translate:"yes",unselectable:"on",inputMode:"numeric"}),t.jsx(Or,{})]})}const Vi="_Input_1qdq0_1",qi={Input:Vi},Yt=T.forwardRef(({children:e,autoFocus:n,tabIndex:s,className:r,style:o,...i},a)=>t.jsx(Ft,{...i,..._.omitBy({autoFocus:n,tabIndex:s,className:r,style:o},_.isUndefined),ref:a,children:e})),Qt=({InputLabelProps:e,...n})=>t.jsx(et,{...n,size:"medium",InputLabelProps:{...e,className:e?.className??"",style:e?.style??{}}}),{isSafeInteger:Hi}=Number,{stringify:Ki}=JSON;function St(e){const{useSetInputST:n,modeKey:s,useGetFromST:r,fileNames:o,setTabToResult:i,dataArrWithPos:a,useMultiDots:[l,c]}=e,{data:u,loading:m,runAsync:h}=r,[f,g]=n,{s:b="",t:N=""}=_s[s]??{},y=a.length>at;return t.jsx(Qe,{value:s,className:A.TabPanel??"",children:t.jsxs(C,{elevation:24,className:qi.Input??"",children:[t.jsx(kn,{useSetInputST:n,k:"s",label:b}),t.jsx(kn,{useSetInputST:n,k:"t",label:N}),t.jsx(At,{value:l??[],...y?{freeSolo:!0}:null,onChange:(x,d)=>{const p=[];for(const j of d)if(typeof j=="string"){const v=j[0],E=parseInt(j.slice(1));if(!Hi(E))continue;const I=a.find(({k:D,kInd:F})=>D===v&&F===E);I&&p.push(I)}else p.push(j);p.length!==l?.length&&c(p)},multiple:!0,options:y?[]:a,getOptionLabel:be,renderOption:(x,d,{selected:p})=>t.jsxs(Yt,{...x,children:[t.jsx(Bt,{icon:t.jsx(Rr,{fontSize:"large"}),checkedIcon:t.jsx(Ur,{fontSize:"large"}),checked:p}),be(d)]}),renderInput:x=>t.jsx(Qt,{...x,label:"Choose Vertices",placeholder:"Please input vertice name"}),disableCloseOnSelect:!0,autoComplete:!0,autoCapitalize:"words",autoFocus:!0,autoHighlight:!0,clearOnBlur:!0,clearOnEscape:!0,fullWidth:!0,handleHomeEndKeys:!0,includeInputInList:!0,openOnFocus:!0,selectOnFocus:!0,disabledItemsFocusable:!1,disableListWrap:!1,disablePortal:!1,filterSelectedOptions:!1}),t.jsxs(Wr,{disabled:_.some(f,x=>x===""),variant:"contained",size:"large",onClick:()=>Ye.unstable_batchedUpdates(async()=>{await h(s,u,{...o,problem_type:es[s],...f,vex_list:Ki(l?.map(({k:x,kInd:d})=>[qt[x],d]))}).then(x=>(we.success(`fetch ${s} success`),i(),x),()=>{we.error(`fetch ${s} fail`)})}),children:["Fetch ",s]})]})})}function Xi(){return navigator.language}function Ji(){return navigator.languages[0]}function Yi(){return new Intl.DateTimeFormat().resolvedOptions().locale}const Qi=()=>{const e=Yi();return Xi()==="zh-CN"&&Ji()==="zh-CN"&&(e==="zh-CN"||e==="zh-Hans-CN")&&new Date().getTimezoneOffset()===-480},Ls=Qi(),Zi=T.forwardRef(e=>{const{viewBox:n,graphLine:s,drawDotData:r,clickCircle:o,doubleClickCircle:i}=e;return t.jsxs("svg",{viewBox:n,className:P["graph-svg"],children:[s?.map(({pos:a,highlightLevel:l,color:c},u)=>t.jsx("polyline",{points:a.map(([m,h])=>`${m},${h}`).join(" "),fill:"none",stroke:"black",className:classNames(P.line,P[l]),style:{"--color":c}},u)),r.map(a=>{const{k:l,kInd:c,v:u,graphX:m,graphY:h,color:f}=a,g=be(a);return t.jsx(t.Fragment,{children:t.jsx(O,{...Es(a),children:t.jsxs("g",{onDoubleClick:i({dotData:a}),onClick:o(a),className:Ns(a),style:{"--color":f},children:[t.jsx("circle",{cx:m,cy:h,className:P.circle}),t.jsx("text",{x:m,y:h,className:P.text,children:g})]},m)})})})]})});function Mn(e){const{isEditX:n,xEnd:s,onClick:r=()=>{},dotData:{y:o,v:i},className:a=""}=e;return n?t.jsx(t.Fragment,{children:t.jsx("line",{x1:G,x2:s,y1:o,y2:o,className:classNames(P["hover-x"],a),onClick:r})}):null}const el=T.forwardRef(e=>{const{viewBox:n,drawDotData:s,clickCircle:r,doubleClickCircle:o,svgRef:i,isEditX:a,commonValueFromTableData:{valuesArr:l,xRadix:c,length:u,getYPos:m,svgHeight:h},svgSize:f,size:g}=e,{xEnd:b=0,yEnd:N=0}=f,y=T.useMemo(()=>_.sortBy(_.uniq(l)).map(d=>({v:d,yPos:m(d)})),[s]),x=T.useMemo(()=>{let d=_.head(s);if(!d)return[];let p=xe(d);const j=[];for(let v=1;v<u;v++){let E=s[v];if(!E)break;let I=xe(E),D=I-p;const{x:F=0,y:se=0}=d,de=[F,se];for(;v<u;v++){const Z=s[v+1];if(Z){const le=xe(Z);if(le-I===D){E=Z,I=le;continue}}const{x:H=0,y:Ie=0}=E,Te=[H,Ie];j.push([de,Te]);break}d=E,p=I}return j},[s]);return t.jsxs("svg",{viewBox:n,ref:i,className:P.svg,style:{"--stroke-dasharray":c},children:[t.jsx("line",{x1:G,y1:N,x2:b,y2:N,className:P["coordinate-axis-x"]}),"  ",t.jsx("line",{x1:G,y1:G,x2:G,y2:N,className:P["coordinate-axis-y"]}),"  ",y.map(({v:d,yPos:p})=>t.jsxs("g",{className:P.g,onClick:o({v:d}),children:[t.jsx("text",{x:$o,y:p,className:P["axis-text"],children:d}),t.jsx(Mn,{xEnd:b,isEditX:a,className:classNames({[P["hover-click-line"]??""]:d===g}),dotData:{v:d,y:p}})]})),x.map(([[d,p],[j,v]])=>t.jsx(t.Fragment,{children:t.jsx("line",{x1:d,y1:p,x2:j,y2:v,className:P.line})})),s.map(d=>{const{k:p,v:j,kInd:v,x:E,y:I,color:D}=d,F=Es(d);return t.jsx(t.Fragment,{children:t.jsxs("g",{className:Ns(d),onClick:r(d),onDoubleClick:o({dotData:d}),style:{"--color":D},children:[t.jsx(O,{...F,children:t.jsx("text",{x:E,y:h,className:P.text,children:be(d)})}),a?t.jsx(t.Fragment,{children:t.jsx("line",{x1:E,x2:E,y1:I,y2:N,className:P["hover-y"]})}):null,t.jsx(O,{...F,children:t.jsx("circle",{cx:E,cy:I,className:P.circle})}),t.jsx(Mn,{xEnd:b,dotData:d,isEditX:a,onClick:o({dotData:d}),className:classNames({[P["hover-x--no-show"]??""]:j===g})})]})})})]})});function tl(){const[e,n]=ne(),[s,r]=ne([]),o=T.useRef(null),i=T.useMemo(Yo(o),[o.current]),a=T.useMemo(()=>st(e,i),[e,i]);return{tableData:e,setTableData:n,graphData:s,setGraphData:r,svgRef:o,svgSize:i,commonValueFromTableData:a}}const nl=e=>({clickCircle:U(Jo(e))}),jt=e=>`${Fs.name}${e}`;function Fs(e){const{dataArrWithPos:n,graphData:s,svgSize:r,setSize:o=()=>{},isEditX:i,size:a}=e,l=T.useMemo(()=>Ko({...e,size:a}),[a,n]),{svgWidth:c=0,svgHeight:u=0}=r,m=u,h=T.useMemo(()=>Ho({drawDotData:l,graphData:s}),[l]),{clickCircle:f}=nl({...e,size:a}),g=U(Is({isEditX:i,setSize:o,size:a})),b={...e,drawDotData:l,clickCircle:f,doubleClickCircle:g,graphLine:h,size:a};return t.jsxs(t.Fragment,{children:[t.jsx(je,{value:k.table,children:t.jsx(el,{...b,viewBox:[0,0,c,m].join(" ")})},jt(k.table)),t.jsx(je,{value:k.graph,children:t.jsx(Zi,{...b,viewBox:[0,0,c,u].join(" ")})},jt(k.graph)),t.jsx(Qe,{value:k.result},jt(k.result))]})}const sl="_Form_3js51_1",rl={Form:sl},{isSafeInteger:al}=Number,yt="Input Size";function ol(e){const{setSize:n,value:s,max:r}=e,[o,i]=ne(s);ge(()=>{i(s)},[s]);const a=_.isUndefined(o),l=!a&&(o<0||o>r);return t.jsxs(t.Fragment,{children:[t.jsx("p",{children:"Please double-click the dot on the Cohesion."}),t.jsx(ue,{variant:"fullWidth",flexItem:!0,children:t.jsx(Hn,{label:"OR"})}),t.jsxs(C,{elevation:24,className:rl.Form??"",children:[t.jsx(Ze,{fullWidth:!0,children:t.jsx(et,{fullWidth:!0,placeholder:yt,label:yt,type:"search",title:yt,value:o,inputProps:{...Mt.inputProps,max:r},spellCheck:!0,autoCapitalize:"on",enterKeyHint:"next",translate:"yes",unselectable:"on",inputMode:"numeric",onChange:c=>Ye.unstable_batchedUpdates(()=>{const{value:u}=c.target;if(!u)i(void 0);else{const m=parseInt(u);al(m)&&i(m)}}),error:l,...l?{helperText:`Size is not in the right range(0 ~ ${r}).`}:null})}),t.jsx(O,{arrow:!0,title:a?"Set size to undefined":`${R["Hierarchical Subgraphs Search"]} with size is ${o}`,placement:"right",children:t.jsx(J,{fullWidth:!0,variant:"contained",size:"large",onClick:()=>{n(o)},disabled:l,children:"Search"})})]})]})}const Ve={"Tooltip-total":"_Tooltip-total_1n720_1","Tooltip-count-text":"_Tooltip-count-text_1n720_4","Tooltip-count":"_Tooltip-count_1n720_4"},{isArray:il}=Array,$s=e=>il(e),ll=({start:e,end:n},s)=>{const r=s[e],o=s[n];return!r||!o?"":`${[e,n].map(i=>cl(s,i)).join(" ~ ")}`},cl=(e,n)=>{const s=e[n];return s?be(s):""},Dn=(e,n)=>`${$s(e)?"Show All":ll(e,n)}`,ul=({start:e,end:n})=>n-e+1,dl=Gr(({className:e,...n})=>t.jsx(O,{...n,classes:{popper:e}}))(({theme:e})=>({[`& .${Vr.tooltip}`]:{padding:"unset",boxShadow:e.shadows[24]}}));function hl(e){const{visualMapSection:n,setSelectShowItem:s,dataArrWithPos:r,selectShowItem:o}=e;if(!n)return null;const i=[n,...n],a=i[o];return ns(n.length,2)?t.jsx(C,{elevation:24,className:A.Select??"",children:t.jsx(At,{autoComplete:!0,autoCapitalize:"words",autoFocus:!0,autoHighlight:!0,blurOnSelect:!0,clearOnBlur:!0,clearOnEscape:!0,fullWidth:!0,handleHomeEndKeys:!0,includeInputInList:!0,openOnFocus:!0,selectOnFocus:!0,disableClearable:!0,disableCloseOnSelect:!1,disabledItemsFocusable:!1,disableListWrap:!1,disablePortal:!1,filterSelectedOptions:!1,freeSolo:!1,options:i,getOptionLabel:l=>Dn(l,r),defaultValue:n,...a?{value:a}:null,onChange:(l,c,u,m)=>{s(c?i.indexOf(c):0)},renderInput:l=>t.jsx(Qt,{...l,label:"Select Subgraph",placeholder:"Please Input Subgraph"}),renderOption:(l,c,u)=>{const m=$s(c);return t.jsx(dl,{title:m?t.jsxs(C,{elevation:24,className:Ve["Tooltip-total"]??"",children:["total: ",c.length]}):t.jsx(C,{elevation:24,className:Ve["Tooltip-count"]??"",style:{backgroundColor:c.color},children:t.jsxs(C,{elevation:24,className:Ve["Tooltip-count-text"]??"",children:["count: ",ul(c)]})}),arrow:!0,placement:"right",className:Ve.Tooltip??"",children:t.jsx(Yt,{...l,children:Dn(c,r)})})}})}):null}const ml="_beian_1i1tw_1",wt={beian:ml,"beian-h1":"_beian-h1_1i1tw_8","beian-h1-Link":"_beian-h1-Link_1i1tw_11"},{MAX_SAFE_INTEGER:pl}=Number,{host:fl,hostname:gl}=location,zn="bcviz-demo.site";function xl(){const e=T.useRef(null),[n,s]=He("beian");return Pt(os,r=>{ls(r)||(s("1"),r.preventDefault())},is(e.current)),!n&&Ls&&fl===zn&&gl===zn?t.jsx("div",{className:wt.beian??"",style:{zIndex:pl},children:t.jsx("h1",{className:wt["beian-h1"],ref:e,children:t.jsx(_e,{href:"http://beian.miit.gov.cn",underline:"hover",target:"_blank",className:wt["beian-h1-Link"]??"",children:"桂ICP备2025060391号-1"})})}):null}const _l="_Modal_vlgoo_1",bl="_CircularProgress_vlgoo_8",Pn={Modal:_l,CircularProgress:bl};function vl(e){const{open:n}=e;return t.jsx(qr,{open:n,className:Pn.Modal??"",children:t.jsx(Kn,{className:Pn.CircularProgress??""})})}const Dt="tan",Bs="red",{isSafeInteger:Ln}=Number,{entries:Fn,freeze:ec,values:tc,keys:nc,fromEntries:sc}=Object;if(Ea){const{from:e}=Array,n=console.error;console.error=function(s){typeof s=="string"&&(s.startsWith('Warning: Each child in a list should have a unique "key" prop.')||s.startsWith("Warning: validateDOMNesting(...): %s cannot appear as a descendant of <%s>.%s"))||n.apply(console,e(arguments))}}var As=(e=>(e.old="/old",e.new="/new",e))(As||{});const $n=({title:e,detail:n})=>_.isUndefined(n)?null:t.jsxs(Xn,{className:P.Accordion??"",defaultExpanded:!0,children:[t.jsx(Jn,{expandIcon:t.jsx(Yn,{}),className:P["Accordion-Summary"]??"",children:t.jsx("span",{className:classNames(ce,A["Main-Right--Show--Text"]),children:e})}),t.jsx(Qn,{className:P["Accordion-Details"]??"",children:t.jsx("p",{className:A["Main-Right--Show--Text"],children:n})})]},e),at=36;T.createContext({});const qe=({tabKey:e,...n})=>t.jsx(Xr,{label:Xe[e],value:e,className:A.Tab??"",...n}),Bn="Select Mode",Ct="Choose Rank",An="SG";function Sl(){Lt(()=>{const{origin:S,protocol:z,hash:$,host:L,assign:W,reload:X,replace:oe}=location;if(!sessionStorage.getItem("hjx")&&Nt&&S!==ye&&z==="https:"&&Ls){const Q=new URL($,ye);confirm(`后端服务已上线，点击“确认”跳转.${Q}`)?location.assign(Q):sessionStorage.setItem("hjx","hxj")}}),Pt("beforeunload",S=>{if(Nt&&(Y||r)){S.preventDefault();const z="You have unsaved changes. Are you sure you want to leave?";return S.returnValue=z,z}});const[e]=De(!1),{tableData:n,setTableData:s,graphData:r,setGraphData:o,svgSize:i,commonValueFromTableData:a,svgRef:l}=tl(),{data:c,runAsync:u,mutate:m}=rn(Pi,{...Nn,manual:!0}),h=vo(An,{defaultValue:!0}),[f,g]=h,b=f&&(n?n.length>at:!1);ge(()=>{if(F(void 0),n)if(b){const S="1";u({...v,s:S,t:S,problem_type:An,vex_list:"10"})}else m(void 0)},[n]),ge(()=>{},[n]);const{svgWidth:N=0,svgHeight:y=0}=i,[x="",d]=He(Je[0],{defaultValue:""}),[p="",j]=He(Je[1],{defaultValue:""}),v={dataset:x,BCviz_file:p},E=rn(zi,{...Nn,manual:!0,staleTime:-1,cacheTime:-1}),{data:I,loading:D,mutate:F}=E,se=Rn({s:"",t:""}),[de,Z]=ne(k.table),[H,Ie,Te]=On(R["Maximum Edge Biclique"]),[le,ve]=ne("ECharts Engine"),w=T.useMemo(()=>Ts(H),[H]),[M,B]=ne(0),[V,ee]=ne(0),ke=ne([]),[re,he]=ke,[me,{set:ot,setTrue:El,setFalse:Nl}]=De(!0),Y=T.useMemo(()=>dn(me,n),[n,me]),{size:pe,UV:ae,dataThisMode:Il,dataArr:Ae,selectShowData:Zt,count:Rs,numOfData:Oe,params:Re}=T.useMemo(()=>{const S=I?.[H];if(!S)return{};const{count:z,dataArr:$,...L}=S,W=$?.[M];if(!W)return{};const{size:X,count:oe,label:Q,...ct}=W;return w?{size:X}:{size:X,UV:ct,dataThisMode:S,dataArr:$,selectShowData:W,count:oe,numOfData:z,params:L}},[I,H,M,Y]),en=Ae?.length,tn=le==="ECharts Engine",nn=_.isUndefined(pe),it=U(S=>{F({...I,[R["Hierarchical Subgraphs Search"]]:{dataArr:[{size:S}]}})});ge(()=>{Z(k.table),Te()},[Y,le]),ge(()=>{he([])},[Y]);const Us=T.useMemo(()=>Ht(Y,r,a,y),[Y,r,a,y]),{dataArrWithPos:Se,visualMapSection:sn}=T.useMemo(()=>{const S=Us;if(w){const{datas:L,visualMapSection:W}=Xo({isEditX:w,dataArrWithPos:S,size:pe,commonValueFromTableData:a});return{dataArrWithPos:V===0||!W?L:La(S,W[V-1]),visualMapSection:W}}const z=ae?S?.map(L=>{const{k:W,kInd:X}=L,oe=ae[W]?.includes(X)?Dt:void 0;return oe?{...L,color:oe}:L}):S;return{dataArrWithPos:Ma(z,re)}},[a,ae,H,pe,re,V]),Ws=U(()=>{if(w||!ae){const $=Se.filter(({color:X})=>X),L=Kt($);return{resultGraph:r.filter(X=>_.every(X,(oe,Q)=>!!L[Q][oe])),filterTableData:$}}const S=r.filter($=>_.every($,(L,W)=>ae[W]?.includes(L)??!1)),z=Y.filter(({k:$,kInd:L})=>ae[$]?.includes(L));return{resultGraph:S,filterTableData:z}}),{resultGraph:Gs,resultTable:Vs}=T.useMemo(()=>{const{resultGraph:S,filterTableData:z}=Ws(),$=dn(me,z),L=Pa($,S,{svgWidth:N,svgHeight:y});return{resultGraph:S,resultTable:L}},[ae,r,Y,w,Se]),qs=U(()=>{}),lt={useSetInputST:se,useGetFromST:E,fileNames:v,setTabToResult:qs,dataArrWithPos:Y??[],useMultiDots:ke},Hs=U(S=>{const{componentType:z,dataIndex:$,name:L,value:W}=S;if(w){z==="markArea"&&ee($+1);return}if(Ln($)&&L&&Ln(W)&&typeof W=="number"){const X=L[0],oe=parseInt(L.slice(1));if(!Y)return;const Q=Y.find(({k:ut,kInd:Ks})=>ut===X&&Ks===oe);if(!Q)return;if(!re||re.length===0){he([Q]);return}const ct=re.includes(Q);he(ct?re.filter(ut=>ut!==Q):[...re,Q])}});return t.jsxs(t.Fragment,{children:[t.jsxs(C,{className:A.Main??"",elevation:24,children:[t.jsx(jo,{setSelectEngine:ve,selectEngine:le,useIsEnableSuperGraph:h}),t.jsx(Tn,{children:t.jsxs(C,{elevation:24,className:A["Main-Left"]??"",children:[t.jsx(Ui,{setDatas:[o,s],setFileNames:[d,j],className:A.Tool}),t.jsx(C,{elevation:24,className:A.Select??"",children:t.jsxs(Ze,{fullWidth:!0,children:[t.jsx(Wn,{children:Bn}),t.jsx(Gn,{value:H,onChange:S=>{Ie(S.target.value)},label:Bn,fullWidth:!0,children:[R["Maximum Edge Biclique"],R["Maximal Biclique Enumeration"],R["(p,q)-biclique Counting"],R["Hierarchical Subgraphs Search"]].map(S=>t.jsx(Ft,{value:S,title:es[S],children:S},S))})]})}),t.jsx(C,{elevation:24,children:t.jsxs(on,{value:H,children:[t.jsx(St,{...lt,modeKey:R["Maximum Edge Biclique"]}),t.jsx(St,{...lt,modeKey:R["Maximal Biclique Enumeration"]}),t.jsx(St,{...lt,modeKey:R["(p,q)-biclique Counting"]}),t.jsx(Qe,{value:R["Hierarchical Subgraphs Search"],className:A.TabPanel??"",children:t.jsx(C,{elevation:24,className:A["Paper-text"]??"",children:a?t.jsx(ol,{value:pe,setSize:it,max:a.max}):null})})]})}),Ae&&ns(en,2)?t.jsx(C,{elevation:24,className:A.Select??"",children:t.jsx(O,{title:t.jsxs(t.Fragment,{children:["Count: ",t.jsx("span",{className:ce,children:en})]}),arrow:!0,placement:"right",children:t.jsx(At,{autoComplete:!0,autoCapitalize:"words",autoFocus:!0,autoHighlight:!0,blurOnSelect:!0,clearOnBlur:!0,clearOnEscape:!0,fullWidth:!0,handleHomeEndKeys:!0,includeInputInList:!0,openOnFocus:!0,selectOnFocus:!0,disableClearable:!0,disableCloseOnSelect:!1,disabledItemsFocusable:!1,disableListWrap:!1,disablePortal:!1,filterSelectedOptions:!1,freeSolo:!1,options:Ae,...Zt?{value:Zt}:null,onChange:(S,z,$,L)=>{B(z?Ae.indexOf(z):0)},renderInput:S=>t.jsx(Qt,{...S,label:Ct,placeholder:Ct,title:Ct}),renderOption:(S,{label:z,...$},L)=>t.jsx(O,{title:ka($),arrow:!0,placement:"right",children:t.jsx(Yt,{...S,children:z??`Rank ${L.index+1}`})})})})}):null,w?t.jsx(hl,{setSelectShowItem:ee,selectShowItem:V,visualMapSection:sn,dataArrWithPos:Se}):null]})}),t.jsx(C,{className:A["Main-Mid"]??"",elevation:24,children:t.jsxs(on,{value:de,children:[t.jsx(C,{elevation:24,children:t.jsxs(Hr,{onChange:(S,z)=>Z(z),variant:"fullWidth",children:[t.jsx(qe,{tabKey:k.table}),t.jsx(O,{arrow:!0,title:c?nt:null,children:t.jsx(qe,{tabKey:k.graph})}),t.jsx(O,{arrow:!0,title:Re?t.jsx(t.Fragment,{children:t.jsxs("fieldset",{children:[t.jsx("legend",{className:ce,children:"Search Params"}),Fn(Re).map(Wt)]})}):null,children:t.jsx(qe,{tabKey:k.result,disabled:nn})}),tn?t.jsx(qe,{tabKey:k.all}):null]})}),Se.length?tn?t.jsx(Ss,{dataArrWithPos:Se,graphData:r,size:pe,resultGraph:Gs,selectMode:H,useSetInputST:se,setTab:Z,resultTable:Vs,setSize:it,isEditX:w,commonValueFromTableData:a,clickEChartDotToAddMultiDots:Hs,dataFromST:I,superData:c,visualMapSection:sn}):t.jsx(Fs,{commonValueFromTableData:a,graphData:r,dataArrWithPos:Se,isEditX:w,svgRef:l,svgSize:i,setSize:it,size:pe}):t.jsx(Kr,{className:A.Chart??"",variant:"rounded",animation:"wave"})]})}),nn?null:t.jsx(Tn,{buttonOrder:1,children:t.jsx(C,{className:A["Main-Right"]??"",elevation:0,children:t.jsxs(C,{elevation:24,className:A["Main-Right--Show"]??"",children:[_.isUndefined(Oe)?null:t.jsx(O,{arrow:!0,placement:"left",title:_.isUndefined(Oe)?null:t.jsxs("h4",{children:["The number of (",Re?.s,",",Re?.t,")-bicliques is: ",t.jsx("span",{className:ce,children:Oe})]}),children:t.jsx("h4",{className:classNames(ce,A["Main-Right--Show--Num"]),children:t.jsx("span",{children:Oe})})}),t.jsx($n,{title:"size",detail:pe}),ae?Fn(ae).map(([S,z])=>z.length?t.jsxs(Xn,{className:P.Accordion??"",defaultExpanded:z.length<=23,children:[t.jsx(Jn,{expandIcon:t.jsx(Yn,{}),className:P["Accordion-Summary"]??"",children:t.jsx("span",{className:classNames(ce,A["Main-Right--Show--Text"]),children:`${S} `})}),t.jsx(Qn,{className:P["Accordion-Details"]??"",children:z.map($=>t.jsx("p",{className:A["Main-Right--Show--Text"]??"",children:$}))})]},S):null):null,t.jsx($n,{title:"count",detail:Rs})]})})})]}),t.jsx(vl,{open:e||D}),t.jsx(xl,{})]})}const jl=T.lazy(()=>la(()=>import("./index-1JPMeFeZ.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]),import.meta.url));var Os=(e=>(e.edit="/edit",e))(Os||{});function yl(){return t.jsxs(aa,{children:[t.jsx(ln,{index:!0,element:t.jsx(Sl,{})}),t.jsx(ln,{path:"/edit",element:t.jsx(T.Suspense,{fallback:t.jsx(Jr,{open:!0,children:t.jsx(Kn,{})}),children:t.jsx(jl,{})})})]})}const wl=()=>t.jsx(T.StrictMode,{children:t.jsx(Yr,{injectFirst:!0,children:t.jsxs(sa,{children:[t.jsx(yl,{}),t.jsx(Zr,{style:{zIndex:Qr.modal+1}})]})})}),Cl=document.body;Js(Cl).render(t.jsx(t.Fragment,{children:t.jsx(wl,{})}));export{A as B,ht as C,bi as F,vl as L,Tn as S,Mt as T,K as U,_t as a,tt as b,Si as c,rt as d,Zl as e,Je as f,Ps as g,Fi as h,Ea as i,Nn as j,st as k,Ht as l,Dt as m,ft as n,Ci as p,ts as s,Li as u,Ga as w};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./index-1JPMeFeZ.js","./react-oik9md-E.js","./@babel-_Kefij6Y.js","./ahooks-aQe87hPC.js","./tslib-xX1bOrSW.js","./lodash-C7I7b_wX.js","./react-fast-compare-751UTDWK.js","./react-dom-a-17rxNu.js","./scheduler-Xt5_ASe0.js","./react-toastify-5bXptfeX.js","../css/react-toastify-zACNttC4.css","./@mui-jwcbe7e8.js","./react-transition-group-0QNSnBtb.js","./@emotion-ia0lOm4d.js","./hoist-non-react-statics-y4nWN7rF.js","./stylis-W9rcUKMO.js","./@popperjs-v-la0Vhf.js","./react-router-m2kkV1nU.js","./@remix-run-phvj9XUc.js","./react-router-dom-OWcGx1G4.js","./echarts-Vo_PYHjZ.js","./zrender-6ibt0cUB.js","./@algolia-kof8UNv8.js","../css/index-nRSwRPIG.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
