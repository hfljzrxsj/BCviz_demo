import{r as N,j as e}from"./react-GysCNhY8.js";import{u as ns,a as rt,b as B,c as Yt,d as ss,e as rs,f as at,g as J,h as as,i as Zt,j as Qt,k as be,l as os,m as pe,n as St,o as is}from"./ahooks-3RxoNFTl.js";import{i as ls}from"./react-fast-compare-3jyQPa-J.js";import{g as yt,i as cs,u as us,a as ds,b as hs,c as ms,d as ps,e as fs,f as gs,h as xs,j as bs,k as vs,l as _s,m as js,n as Ss,o as ys,p as Cs,q as ws,r as Ns,s as Es,t as Ds}from"./echarts-1Iu8elsr.js";import{P as S,T as $e,d as Is,D as ae,L as Me,B as K,a as Ts,b as Ms,c as V,e as ks,f as Ps,g as Fs,h as $s,i as Ls,C as en,j as Le,I as tn,k as zs,l as nn,F as As,m as sn,n as ve,o as Bs,M as fe,A as rn,p as Os,q as Rs,r as Vs,s as Us,t as Ws,u as Qe,S as et,v as qs,w as Ct,x as Gs,y as We,z as Hs,E as an,G as on,H as ln,J as cn,K as Ks,N as ot,O as Xs,Q as Js}from"./@mui-h4CCOs6d.js";import{d as it}from"./immer-U6fk-Zvt.js";import{a as Ys,r as ze,c as Zs}from"./react-dom-vCwnROQY.js";import{Q as _e,k as un}from"./react-toastify-TLlLzmv5.js";import{d as Qs}from"./@algolia-6ISQ10fS.js";import{u as er,H as tr}from"./react-router-dom-C0YLa0lE.js";import{u as nr,b as sr,c as Ie}from"./react-router-lSZP5VRP.js";import{L as rr}from"./react-loadable-beiGpRpV.js";import"./@babel-VMupNkwv.js";import"./tslib-xX1bOrSW.js";import"./lodash-26GAK-GT.js";import"./zrender-8UwRb6PW.js";import"./react-transition-group-f1kv3CCE.js";import"./@emotion-c7wuD7i4.js";import"./hoist-non-react-statics-y4nWN7rF.js";import"./stylis-W9rcUKMO.js";import"./@popperjs-v-la0Vhf.js";import"./scheduler-Xt5_ASe0.js";import"./@remix-run-wEAHOncH.js";import"./prop-types-g0p8o0B7.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function s(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=s(o);fetch(o.href,i)}})();const ar="modulepreload",or=function(t,n){return new URL(t,n).href},wt={},dn=function(n,s,r){let o=Promise.resolve();if(s&&s.length>0){const i=document.getElementsByTagName("link");o=Promise.all(s.map(a=>{if(a=or(a,r),a in wt)return;wt[a]=!0;const l=a.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(!!r)for(let d=i.length-1;d>=0;d--){const f=i[d];if(f.href===a&&(!l||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${u}`))return;const m=document.createElement("link");if(m.rel=l?"stylesheet":ar,l||(m.as="script",m.crossOrigin=""),m.href=a,document.head.appendChild(m),l)return new Promise((d,f)=>{m.addEventListener("load",d),m.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})}))}return o.then(()=>n()).catch(i=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i})};function ir(t,n){return t>>n&1}const lt=Object.freeze(["rgb(255, 0, 0)","rgb(255, 115, 0)","rgb(255, 251, 0)","rgb(72, 255, 0)","rgb(0, 255, 213)","rgb(0, 43, 255)","rgb(122, 0, 255)","rgb(255, 0, 200)"]),lr="_Main_1ppnf_15",cr="_Table_1ppnf_22",ur="_table_1ppnf_26",dr="_SVG_1ppnf_31",hr="_Accordion_1ppnf_38",mr="_line_1ppnf_70",pr="_circle_1ppnf_71",fr="_text_1ppnf_94",gr="_svg_1ppnf_94",xr="_highlight_1ppnf_100",br="_g_1ppnf_52",vr="_line_how_1ppnf_1",D={Main:lr,Table:cr,table:ur,SVG:dr,Accordion:hr,"Accordion-Summary":"_Accordion-Summary_1ppnf_42","Accordion-Details":"_Accordion-Details_1ppnf_48","graph-svg":"_graph-svg_1ppnf_52",line:mr,circle:pr,"no-highlight":"_no-highlight_1ppnf_84",text:fr,svg:gr,"axis-text":"_axis-text_1ppnf_94",highlight:xr,"more-highlight":"_more-highlight_1ppnf_116",g:br,"hover-click-line":"_hover-click-line_1ppnf_273","hover-x":"_hover-x_1ppnf_273","hover-x--no-show":"_hover-x--no-show_1ppnf_273","hover-y":"_hover-y_1ppnf_274",line_how:vr,"coordinate-axis-y":"_coordinate-axis-y_1ppnf_282","coordinate-axis-x":"_coordinate-axis-x_1ppnf_282","pulse-signup-button":"_pulse-signup-button_1ppnf_1"},{error:O}=console,Nt=t=>(t.addEventListener("abort",n=>{t.close(),O("abort",n)}),t.addEventListener("close",n=>{t.close(),O("close",n)}),t.addEventListener("error",n=>{t.close(),O("error",n)}),t.addEventListener("versionchange",n=>{t.close(),O("versionchange",n)}),t),_r=(t,n)=>(n.addEventListener("complete",()=>{t.close()}),n.addEventListener("abort",s=>{n.abort(),t.close(),O("abort",s)}),n.addEventListener("error",s=>{n.abort(),t.close(),O("error",s)}),n),hn=t=>new Promise(async(n,s)=>{const{DBname:r,version:o,storeName:i,keyPath:a,mode:l}=t,u=indexedDB.open(r,o);u.addEventListener("success",()=>{const c=Nt(u.result);if(c.objectStoreNames.contains(i))return n(_r(c,c.transaction(i,l,{durability:"strict"})).objectStore(i))}),u.addEventListener("upgradeneeded",()=>{const c=Nt(u.result);if(!c.objectStoreNames.contains(i))return c.createObjectStore(i,{autoIncrement:!0,...a?{keyPath:a}:null})}),u.addEventListener("error",c=>{s(c),O("error",c,u)}),u.addEventListener("blocked",c=>{s(c),O("blocked",c,u)})}).catch(O),ct=t=>{const{IDBValidKey:n,data:s}=t;return hn({...t,mode:"readwrite"}).then(r=>(r&&s&&r.add(s,...r.keyPath?[]:[n]).addEventListener("error",O),r),O).catch(O)},jr=async t=>new Promise((n,s)=>{const{query:r}=t;return hn({...t,mode:"readonly"}).then(o=>{if(o){const i=r?o.get(r):o.getAll();i.addEventListener("success",()=>{n(i.result)}),i.addEventListener("error",a=>{O(a,i),s(i.error)})}return o},s).catch(s)}),Sr=()=>indexedDB.databases().then(t=>t.filter(({name:n})=>n).map(({name:n})=>n?indexedDB.deleteDatabase(n):new IDBOpenDBRequest),O).catch(O);var yr={VITE_resumeFolder:"resume",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{DEV:mn,PROD:tt}=yr,{freeze:ut,entries:Cr,values:Zo}=Object,wr=t=>!!(tt&&t&&_.isPlainObject(t));var F=(t=>(t["Maximum Biclique"]="Maximum Biclique",t["Maximal Biclique Enumeration"]="Maximal Biclique Enumeration",t["(p,q)-biclique Counting"]="(p,q)-biclique Counting",t["Hierarchical Subgraphs Search"]="Hierarchical Subgraphs Search",t))(F||{});const dt=ut({"Maximum Biclique":"MEB","Maximal Biclique Enumeration":"MBE","(p,q)-biclique Counting":"PQB","Hierarchical Subgraphs Search":""}),Nr=ut({DBname:"HJX",storeName:"HXJ"}),pn=t=>jr({...Nr,query:t}).then(n=>{if(wr(n))return n;throw new Error(n)});var $=(t=>(t[t.table=0]="table",t[t.graph=1]="graph",t[t.result=2]="result",t))($||{});ut({0:"Cohesion"});const Er=t=>Cr(t).map(mt),ee="tanContent",de=({k:t,kInd:n})=>`${t}${n}`,Dr=(t,n)=>{if(!n||n.length===0)return t;const s=Tn(n);return t?.map(o=>{const{k:i,kInd:a}=o,l=s[i][a]?Wn:void 0;return{...o,...l?{color:l}:null}})},Ir=20,Tr=100,Mr=(t,n)=>_.clamp(n?t*5:t,Ir,Tr),kr=t=>{const s=_.sortBy(t,({v:o})=>o).slice(xe*-1);return _.sortBy(s,({i:o})=>o)},Et=(t,n)=>{if(!n)return[];const s=n.map((r,o)=>({...r,i:o}));return t||n.length<=xe?s:kr(s)},Pr="_Main_b2vdh_15",Fr="_Select_b2vdh_38",$r="_TabPanel_b2vdh_41",Lr="_Tab_b2vdh_41",zr="_hidden_b2vdh_83",Ar="_Chart_b2vdh_87",Br="_Modal_b2vdh_91",Or="_CircularProgress_b2vdh_98",M={Main:Pr,"Main-Left":"_Main-Left_b2vdh_33",Select:Fr,TabPanel:$r,"Paper-text":"_Paper-text_b2vdh_44","Main-Mid":"_Main-Mid_b2vdh_51",Tab:Lr,"Main-Right":"_Main-Right_b2vdh_62","Main-Right--Show":"_Main-Right--Show_b2vdh_69","Main-Right--Show--Text":"_Main-Right--Show--Text_b2vdh_75","Main-Right--Show--Num":"_Main-Right--Show--Num_b2vdh_80",hidden:zr,Chart:Ar,Modal:Br,CircularProgress:Or,"pulse-signup-button":"_pulse-signup-button_b2vdh_1"},Dt=(t=()=>{})=>Wr?.(()=>qr?.(()=>Ur?.(()=>Vr?.(()=>fn?.resolve?.()?.then?.(()=>{const{port1:n,port2:s}=new Rr;n?.postMessage?.(null),s.onmessage=t}).catch?.(gn))))),Ae=(t=()=>{})=>new fn(n=>Dt?.(n))?.then?.(()=>Dt?.(t)).catch?.(gn),{Promise:fn,addEventListener:Qo,console:{error:gn}={},MessageChannel:Rr,queueMicrotask:Vr,requestAnimationFrame:Ur,requestIdleCallback:Wr,setTimeout:qr}=window??self??globalThis??void 0;us([ds,hs,ms,ps,fs,gs,xs,bs,vs,_s,js,Ss,ys,Cs,ws,Ns,Es,Ds]);const xn=window??self??globalThis??global??void 0??new EventTarget,{addEventListener:Gr,removeEventListener:Hr}=xn,{dispatchEvent:Kr}=xn,nt="resize",Xr=new Event(nt),qe=N.memo(t=>{const{option:n,onParams:s=[]}=t,r=N.useRef(null);return ns(()=>{const{current:o}=r;if(!o||!n)return;const i=yt(o)??cs(o);i.showLoading(),Ae(()=>{i.setOption(n,!0,!0),s.map(c=>i.on(...c)),i.hideLoading()});const a=$n(i.resize),l=()=>a(),u=new ResizeObserver(l);return u.observe(o),Gr(nt,l),()=>{s.map(([c,,m])=>i.off(c,m)),u.disconnect(),a.cancel?.(),a.clear?.(),Hr(nt,l)}},[n]),rt(()=>{const{current:o}=r;if(!o)return;const i=yt(o);i&&(i.clear(),i.dispose())}),e.jsx(e.Fragment,{children:e.jsx(S,{elevation:24,ref:r,className:M.Chart??""})})},ls),{error:Jr}=console;function ht(...t){if(t.length===0)return!0;const n=_.head(t);return t.every(s=>_.isEqual(s,n))}const Yr=(t,n)=>n.every(s=>s===t),It=t=>{if(!(t instanceof HTMLDivElement))return!1;const{childElementCount:n,childNodes:s,children:r,firstChild:o,lastChild:i,firstElementChild:a,lastElementChild:l}=t;return!t.hasChildNodes()||!Yr(1,[n,s.length,r.length])?!1:ht(o,i,a,l,s.item(0),r.item(0))},Tt="mouseup",Zr=["ctrl","alt","shift","meta"].map(t=>`${t}.f11`);function ge({children:t,...n}){const s=N.useRef(null),{current:r}=s,o=B(u=>{if(!It(u))return null;const c=u?.firstChild;return It(c)?c:null}),i=B($n(u=>u instanceof HTMLDivElement&&!document.fullscreenElement?u.requestFullscreen({navigationUI:"hide"}).catch(Jr):Promise.reject(u)));rt(()=>{i.cancel?.(),i.clear?.()});const a=B(u=>{const c=o(r),{target:m,currentTarget:d}=u;if(!(!c||!ht(r,m,d))){if(u instanceof MouseEvent){const{button:f,altKey:p,ctrlKey:x,metaKey:j,shiftKey:g,relatedTarget:y,type:h}=u;if(h===Tt&&f===0&&!p&&!x&&!j&&!g&&!y)return}return u.preventDefault(),i(c)}});Yt(["contextmenu","dblclick","auxclick",Tt],a,{enable:!!r,target:r}),ss(Zr,u=>{const c=o(r);return i(c)},{exactMatch:!0});const l=rs();return at(()=>{Ae(()=>{r||l()})}),e.jsx($e,{...n,ref:s,children:e.jsx(S,{elevation:24,children:t})})}const{isSafeInteger:Mt}=Number,mt=([t,n])=>e.jsxs("div",{children:[e.jsx("span",{children:`${t}: `}),e.jsx("span",{className:ee,children:n?.toString()})]},t),bn=({k:t,kInd:n,v:s,neighbor:r,color:o},i)=>e.jsxs(e.Fragment,{children:[o&&i&&!Ln(i)?e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsxs("span",{className:ee,children:["fetch ",i," result"]})}),e.jsx("br",{})]}):null,[["Vertex Name",`${t+n}`],["Maximum Cohesion",`${s}`],["Neighbors",`${r?.map(({k:a,kInd:l})=>`${a+l}`).join(", ")}`],["Vertex Degree",`${r?.length}`]].map(mt)]}),vn=(...t)=>Ys(bn(...t)),_n={trigger:"item",axisPointer:{type:"cross"},label:{show:!0}},jn=it({label:{show:!0},roam:!0}),Sn={toolbox:{show:!0,feature:{saveAsImage:{},restore:{},dataView:{},dataZoom:{},magicType:{},brush:{}}}},Ge=it({show:!0,snap:!0}),yn={lineStyle:{width:4,shadowColor:"rgba(0,0,0,.3)",shadowBlur:10},scale:!0,label:{show:!0,fontSize:24,fontWeight:"bolder"},labelLine:{show:!0},itemStyle:{shadowColor:"rgba(0,0,0,.3)",shadowBlur:10}},kt=(t,n,s,r=void 0)=>{if(!t||!n)return{};const o=da(t,n);return{...Sn,tooltip:{},legend:{data:[H.U,H.V]},series:[{type:"graph",...jn,tooltip:{..._n,formatter(a,l){const{dataType:u,dataIndex:c,data:m}=a;if(u==="edge")return m.source+"<br/>"+m.target;const d=t[c];return d?vn(d,s):l}},categories:[{name:H.U,base:H.U},{name:H.V,base:H.V}],edgeLabel:{},data:t.map(a=>{const{k:l,kInd:u,graphX:c,graphY:m,v:d,color:f}=a;return{name:de(a),value:d,category:l,symbolSize:Mr(d,f),x:c,y:m,...f?{itemStyle:{color:f}}:null}}),links:n?.map(({u:a,v:l},u)=>{const c=o[u];return{source:`u${a}`,target:`v${l}`,...c?{lineStyle:{color:o[u],width:4}}:null}}),lineStyle:{opacity:1},emphasis:{focus:"adjacency",...yn}}]}},Qr=t=>t?{itemStyle:{color:t,shadowColor:"rgba(0,0,0,.3)",shadowBlur:16},symbolSize:16,symbol:"circle"}:{},Cn=it({[F["Maximum Biclique"]]:{s:"Minimum vertex count in U",t:"Minimum vertex count in V"},[F["Maximal Biclique Enumeration"]]:{s:"Minimum vertex count in U",t:"Minimum vertex count in V"},[F["(p,q)-biclique Counting"]]:{s:"Minimum vertex count in U",t:"Minimum vertex count in V"}});_.debounce(()=>{_e.warn("result is empty")});const He=t=>`${wn.name}${t}`;function wn(t){const{dataArrWithPos:n,graphData:s,size:r,resultGraph:o,selectMode:i,useSetInputST:a,setTab:l,resultTable:u,setSize:c,isEditX:m,commonValueFromTableData:d,clickEChartDotToAddMultiDots:f}=t,{dataArrWithPos:p,visualMapSection:x,sections:j}=N.useMemo(()=>{if(m){const{datas:C,visualMapSection:k,sections:L}=pa({...t});return{dataArrWithPos:C,visualMapSection:k,sections:L}}return{dataArrWithPos:n}},[n]),g=N.useMemo(()=>{if(p)return{...Sn,dataZoom:[{type:"slider",xAxisIndex:0,filterMode:"none"},{type:"slider",yAxisIndex:0,filterMode:"none"},{type:"inside",xAxisIndex:0,filterMode:"none"},{type:"inside",yAxisIndex:0,filterMode:"none"}],tooltip:{..._n,formatter(C,k){if("dataIndex"in C){const L=p[C.dataIndex];if(L)return vn(L,i)}return k}},xAxis:{type:"category",data:p.map(de),axisPointer:Ge},yAxis:{type:"value",axisPointer:Ge},series:[{...jn,data:p.map(({v:C,color:k})=>({value:C,...Qr(k)})),type:"line",emphasis:{focus:"self",...yn},symbolSize:8,...m&&!h&&x?{markLine:{symbol:["circle","circle"],data:[{yAxis:r}]},markArea:{animation:!0,data:x.map(({start:C,end:k,color:L},q)=>{const z=p[C],Z=p[k],ie=`${z?.k}${z?.kInd}~${Z?.k}${Z?.kInd}`,ye={color:L,opacity:.03},Ce={show:!0,formatter:ie,position:"insideBottom",color:"#000"},we={label:Ce,itemStyle:{opacity:.05}};return[{itemStyle:ye,label:Ce,xAxis:C,emphasis:we},{itemStyle:ye,label:Ce,xAxis:k,emphasis:we}]})}}:null}],axisPointer:Ge,...m&&x?{visualMap:{pieces:x.map(({start:C,end:k,color:L})=>{const q=p[C],z=p[k];return{min:C,max:k,color:L,label:`${q?.k}${q?.kInd}~${z?.k}${z?.kInd}`}}),dimension:0,show:!0,outOfRange:{color:"Gray",colorAlpha:.8},inverse:!0}}:null}},[p]),y=N.useMemo(()=>p?kt(p,s,i):void 0,[p]),h=_.isUndefined(r),b=N.useMemo(()=>{if(!h&&!o?.length){const C=Cn[i];return{title:{text:`${i} result is empty`,subtext:`${_.map(a[0],(k,L)=>`${C?.[L]}: ${k}`).join(`
`)}`,left:"center",top:"center",textStyle:{fontSize:30,lineHeight:60},subtextStyle:{fontSize:20,lineHeight:40}}}}return kt(u,o)},[o]),w=B(Fn({isEditX:m,setSize:c,size:r})),I=["dblclick","series",C=>{const{dataIndex:k,name:L,value:q}=C;Mt(k)&&L&&Mt(q)&&typeof q=="number"&&w({v:q})()}],E=["click","series",f],T=e.jsx(qe,{option:g,onParams:[I,E]}),U=e.jsx(qe,{option:y,onParams:[I,E]}),G=e.jsx(qe,{option:b}),[Y,Se]=J(["line","graph"]);return as(Y),B((C,k)=>Y.includes(k)?C:null),e.jsxs(e.Fragment,{children:[e.jsx(ge,{value:$.table,children:T},He($.table)),e.jsx(ge,{value:$.graph,children:U},He($.graph)),e.jsx(ge,{value:$.result,children:G},He($.result))]})}const{values:ea,freeze:pt,keys:ei}=Object;var H=(t=>(t.U="u",t.V="v",t))(H||{});const ta=pt({0:"u",1:"v"}),A=32,na=A/2,Nn=(t,{svgWidth:n,svgHeight:s})=>{const r=t?.map(({v:p})=>p)??[],o=Math.min(...r),i=Math.max(...r),a=i-o,{length:l}=r,u=n-A*2,c=s-A*2,m=u/(l-1),d=c/a;return{valuesArr:r,min:o,max:i,diff:a,realHeight:c,xRadix:m,yRadix:d,length:l,getYPos:p=>A+(i-p)*d,svgWidth:n,svgHeight:s}},ft=pt({u:0,v:1}),sa=Object.keys(ft).length,ra=t=>t?{neighbor:t}:{},Pt=(t,n,s,r)=>(t[n]||(t[n]=[])).push({k:s,kInd:r}),En=()=>({u:{},v:{}}),aa=t=>{const n=En(),s=n.u,r=n.v;for(const o of t){const{u:i,v:a}=o;s&&r&&!_.isUndefined(i)&&!_.isUndefined(a)&&(Pt(s,i,"v",a),Pt(r,a,"u",i))}return n},Ft=(t,n,{xRadix:s,getYPos:r,svgWidth:o},i)=>{if(!n||!t)return[];const a=aa(n),l=o-A*2,u=_.groupBy(t,({k:p})=>p),c=_.mapValues(u,p=>l/(p.length-1)),m=(i-A*2)/(sa-1),d=_.mapValues(u,p=>new Map(_.sortBy(p,({kInd:x})=>x).map(({kInd:x},j)=>[x,j])));return t?.map((p,x)=>{const{v:j,k:g,kInd:y}=p;return{...p,i:x,x:A+x*s,y:r(j),graphX:A+(d[g].get(y)??0)*c[g],graphY:A+ft[g]*m,...ra(a?.[g][y])}})},je=pt(["more-highlight","highlight","no-highlight"]),st=_.last(je)??"",Dn=je.map(t=>_.camelCase(`is-${t}`)),{length:In}=je,oa=t=>1<<Dn.findIndex(s=>t[s]===!0)+1,ia=(1<<In)-1,la=t=>{for(let n=1;n<In;n++)if(ir(t,n)===1)return je[n-1]??st;return st},ca=t=>{const n=Dn.findIndex(s=>t?.[s]===!0);return je[n]??st},ua=t=>{if(t.includes(Wn))return Un;if(t.length!==1)return;const n=_.head(t);if(n)return n},Tn=t=>{const n=En();return _.isUndefined(t)||t.length===0?n:{...n,..._.mapValues(_.groupBy({...t},({k:s})=>s),s=>_.keyBy(s,({kInd:r})=>r))}},da=(t,n,s=Tn(t))=>!t||!n?[]:n?.map(r=>{const o=_.uniq(_.map(r,(i,a)=>s[a]?.[i]?.color));return ua(o)}),ha=({drawDotData:t,graphData:n})=>{const s=_.mapValues(_.groupBy(t,({k:r})=>r),r=>_.keyBy(r,({kInd:o})=>o));return n?.map(r=>{const o=ea(_.mapValues(r,(u,c)=>s[c]?.[u])),i=o.reduce((u,c,m,d)=>{const{pos:f,highlightLevelNum:p}=u;if(!c)return u;const{graphX:x,graphY:j,color:g}=c;return{pos:[...f,[x,j]],highlightLevelNum:p&oa(c)}},{pos:[],highlightLevelNum:ia,color:""}),{highlightLevelNum:a}=i,l=_.uniq(o.map(u=>u?.color?u.color:""));return{...i,highlightLevel:la(a),...l.length===1?{color:_.head(l)}:null}})},oe=t=>t.v,Mn=lt.length,ma=({isEditX:t,dataArrWithPos:n,commonValueFromTableData:{length:s},size:r})=>{if(!t)return n;const o=_.isNil(r);if(o)return n.map(c=>({...c,color:"",isHighlight:o?!1:c.v>=r}));const i=[];let a=0,l=_.head(n);if(!l)return n;let u=oe(l);for(let c=1;c<=s;c++){const m=[l];for(;c<s;c++){const d=n[c];if(!d)break;const f=oe(d);if(f>=r||f>=u)m.push(d),l=d,u=f;else{l=d,u=f;break}}i.push(...m.map(d=>({...d,color:lt[a%Mn]??""}))),a++}return i.map(c=>({...c,isHighlight:c.v>=r}))},pa=t=>{const{isEditX:n,dataArrWithPos:s,commonValueFromTableData:{length:r},size:o,colors:i=lt}=t;if(!n)return{datas:s,sections:[]};if(_.isNil(o))return{datas:s,sections:[]};const l=[];let u=0;const c=[],m=[],d=[],f=[];for(let p=0;p<r;p++){const x=s[p];if(!x)break;const j=oe(x),g=s[p+1],y=()=>{d.push(x),f.push(p)},h=()=>{if(j>=o){y();const w=i[u%Mn]??"";return c.push(d),m.push({start:_.head(f)??0,end:_.last(f)??0,color:w}),l.push(...d.map(I=>({...I,color:w}))),d.length=0,f.length=0,u++,1}else return l.push(x),0};if(!g){h();break}oe(g)>=o?y():h()}return{datas:l,sections:c,visualMapSection:m}},fa=({isEditX:t})=>n=>()=>{},kn=t=>({title:bn(t),arrow:!0}),$t=({clientWidth:t,clientHeight:n})=>{const s=t-A,r=n-A;return{svgWidth:t,svgHeight:n,xEnd:s,yEnd:r}},ga=t=>()=>{const{current:n}=t;return $t(n||{clientWidth:innerWidth,clientHeight:innerHeight})},Pn=t=>classNames(D.g,D[ca(t)]),Fn=({isEditX:t,setSize:n,size:s})=>({dotData:r,v:o=r?.v})=>()=>{t&&n?.(o===s?void 0:o)},$n=t=>Is(_.debounce(Qs(t,0))),Ln=t=>t===F["Hierarchical Subgraphs Search"],xa="_title_1tlbs_1",ba="_Paper_1tlbs_5",va="_Input_1tlbs_8",_a="_TextField_1tlbs_14",se={title:xa,Paper:ba,Input:va,"input-file":"_input-file_1tlbs_11",TextField:_a,"TextField-Paper":"_TextField-Paper_1tlbs_20","TextField-Paper-input":"_TextField-Paper-input_1tlbs_23","FileInfo-Button":"_FileInfo-Button_1tlbs_26"},ja="_Dialog_c2d28_1",Sa="_title_c2d28_4",ya="_Paper_c2d28_7",Ca="_FileUploadTeam_c2d28_11",re={Dialog:ja,title:Sa,Paper:ya,FileUploadTeam:Ca};function wa(t){const{fileInfo:n}=t,{name:s,size:r,lastModified:o,type:i,downloadUrl:a}=n;return s?e.jsxs(e.Fragment,{children:[e.jsx(ae,{}),e.jsx(S,{elevation:24,className:re.Paper??"",children:e.jsxs("fieldset",{children:[s?e.jsx("legend",{children:e.jsx(Me,{href:a,title:"preview",target:"_blank",underline:"hover",children:s})}):null,s&&r?e.jsxs("p",{children:[" Content Length: ",filesize(r)]}):null,o?e.jsxs("p",{children:[" Last Modified: ",new Date(o).toJSON()]}):null,i?e.jsxs("p",{children:[" Content Type: ",i]}):null,e.jsxs(S,{elevation:0,className:re["FileInfo-Button"]??"",children:[e.jsx(Me,{href:a,target:"_blank",underline:"hover",children:e.jsxs(K,{variant:"outlined",children:[e.jsx(Ts,{}),"preview"]})}),e.jsxs(K,{variant:"outlined",onClick:()=>{const l=document.createElement("a");l.href=a??"",l.download=s,l.click()},children:[e.jsx(Ms,{}),"download"]})]})]})})]}):null}const Na="_examples_141yp_1",Ea={examples:Na};function Da(t){const{defaultTxt:n,chooseExample:s}=t,[r,o,i]=Zt(null);return e.jsxs(S,{elevation:24,className:Ea.examples??"",children:[e.jsx(V,{title:"No suitable data? Click here to try these.",arrow:!0,children:e.jsxs(K,{size:"large",fullWidth:!0,onClick:a=>{o(a.currentTarget)},children:["> ",e.jsx(Me,{component:"button",children:"Examples"})]})}),e.jsx(ks,{open:!!r,anchorEl:r,onClose:()=>{i()},children:e.jsx(Ps,{children:n.map((a,l)=>e.jsx(V,{arrow:!0,title:`Example ${l+1}`,placement:"right",children:e.jsx(Fs,{disablePadding:!0,children:e.jsx($s,{onClick:()=>{s(a),i()},children:e.jsx(Me,{component:"button",underline:"hover",children:a})},a)})},a))})})]})}const{revokeObjectURL:Ia,createObjectURL:Ta}=URL,{freeze:Ma}=Object,{error:ke}=console,ka={lastModified:0,name:"",size:0,type:"",downloadUrl:""},zn=t=>{t&&Ia(t)},Pa=t=>n=>{if(n){const s=zn.bind(null,t);n.addEventListener("beforeunload",s),n.addEventListener("unload",s)}},gt=t=>{const n=Ta(t);return Ae(()=>{const s=Pa(n);s(window??self??globalThis??void 0),s(document);const{documentElement:r,body:o,head:i,scrollingElement:a,firstElementChild:l,lastElementChild:u,activeElement:c,firstChild:m,lastChild:d,doctype:f,defaultView:p}=document;s(i),s(o),s(r),s(c),s(l),s(u),s(a),s(d),s(f),s(p),s(m)}),n},xt=Ma({DBname:"HJX",storeName:"HXJ"}),Fa=t=>({...t,fileInfo:{...t.fileInfo,downloadUrl:gt(new Blob([t.fileData]))}}),An=t=>pn(t).then(Fa).catch(()=>fetch(t).then(async n=>{const{headers:s}=n,r=await n.text(),o=gt(new Blob([r])),i={fileInfo:{lastModified:Date.parse(s.get("last-modified")??""),name:t,size:parseInt(s.get("content-length")??""),type:s.get("content-type")??"",downloadUrl:o},fileData:r};return ct({...xt,IDBValidKey:t,data:i}),i},ke)).catch(ke);function $a(t){const{parseData:n,setWillPatchData:s,defaultTxt:r,title:o}=t,[i,a]=J(""),[l,u]=Qt(ka);rt(()=>{zn(l.downloadUrl)});const c=B((d,f)=>{s({fileName:f.match(/[^\/]+$/)?.[0]??f,data:d})}),m=B(d=>An(d).then(f=>{if(f){const{fileInfo:p,fileData:x}=f,j=n(x);if(j.length===0){_e.error("The file format is incorrect!");return}u(p),c(j,d)}},ke).catch(ke));return e.jsx(e.Fragment,{children:e.jsxs(S,{elevation:24,children:[e.jsx("h4",{className:se.title,children:o}),e.jsxs(S,{elevation:24,className:classNames(se.Paper,se.Input),children:[e.jsxs(K,{component:"label",variant:"contained",startIcon:e.jsx(Ls,{}),fullWidth:!0,title:"Upload File",children:["Upload File",e.jsx("input",{type:"file",className:se["input-file"],onChange:d=>ze.unstable_batchedUpdates(()=>{const f=d.target.files?.[0];if(!f){alert("some error occur");return}const p=new FileReader;p.readAsText(f),p.onload=x=>{const j=x.target?.result||p.result;if(typeof j=="string")try{const{name:g,lastModified:y,size:h,type:b}=f;c(n(j),g);const w=gt(f);u({...l,name:g,lastModified:y,size:h,type:b,downloadUrl:w});const I={fileInfo:{...l,name:g,lastModified:y,size:h,type:b,downloadUrl:w},fileData:j};ct({...xt,IDBValidKey:g,data:I})}catch{alert("some error occur")}}}),accept:".txt"})]}),e.jsx(ae,{orientation:"vertical",variant:"fullWidth",flexItem:!0,children:e.jsx(en,{label:"OR"})}),e.jsxs(S,{elevation:24,className:se.TextField??"",children:[e.jsxs(S,{elevation:24,className:se["TextField-Paper"]??"",children:[e.jsx(Le,{label:"Please input URL",onChange:d=>{a(d.target.value)},value:i,fullWidth:!0,placeholder:"Please input URL",title:"Please input URL",className:se["TextField-Paper-input"]??""}),e.jsx(K,{size:"large",variant:"contained",disabled:!i,onClick:()=>m(i),children:"Fetch"})]}),e.jsx(Da,{defaultTxt:r,chooseExample:d=>{a(()=>(m(d),d))}})]})]}),e.jsx(wa,{fileInfo:l})]})})}const{isSafeInteger:Ke}=Number;function Lt(t){const n=t.split(`
`),s=[];let r=0,o;const{length:i}=n;for(;r<i;)if(n[r]?.startsWith("No.")){r++;const a=n[r++],l=n[r++],u=n[r++];let c;r<i&&n[r]?.startsWith("count:")&&(c=n[r++]);const m=a?.match(/size=(\d+)/)?.[1];if(!m)throw new Error("Invalid size format");const d=parseInt(m,10);if(!Ke(d)||d<=0)throw new Error("Size must be a positive integer");const f=l?.match(/U: (\d+(?: \d+)*)/);if(!f)throw new Error("Invalid U format");const p=f[1]?.split(" ").map(Number)??[];if(p?.some(isNaN)||p?.some(h=>h<=0))throw new Error("U values must be positive integers");const x=u?.match(/V: (\d+(?: \d+)*)/);if(!x)throw new Error("Invalid V format");const j=x[1]?.split(" ").map(Number)??[];if(j?.some(isNaN)||j?.some(h=>h<=0))throw new Error("V values must be positive integers");let g;if(c){const h=c.match(/count: (\d+)/)?.[1];if(!h)throw new Error("Invalid count format");if(g=parseInt(h,10),!Ke(g)||g<=0)throw new Error("Count must be a positive integer")}const y={size:d,[H.U]:p,[H.V]:j,label:`Rank ${s.length+1}`,...g?{count:g}:null};s.push(y)}else if(n[r]?.startsWith("The number of ")){const a=n[r+1];if(!a)throw new Error("The number of (\\d,\\d)-bicliques not has next line");const l=parseInt(a,10);if(!Ke(l)||l<=0)throw new Error("The number of (\\d,\\d)-bicliques must be a positive integer");o=l;break}else r++;return{dataArr:s,..._.isUndefined(o)?{}:{count:o}}}const{error:zt}=console,{isSafeInteger:La}=Number,At="http://47.99.129.94",Bt=(t,n)=>{const r=n.exec(t)?.[1]?.trim();return r?r.split(/\s+/).map(o=>{const i=parseInt(o);return La(i)?i:0}):[]},za=t=>{const r=/size=(\d+)/.exec(t)?.[1],o=r?parseInt(r,10):0,i=Bt(t,/U:\s+([\d\s]+)/),a=Bt(t,/V:\s+([\d\s]+)/);return{size:o,u:i,v:a,label:"Rank 1"}},Aa=t=>({[F["Maximum Biclique"]]:{dataArr:[za(t)]},[F["Maximal Biclique Enumeration"]]:Lt(t),[F["(p,q)-biclique Counting"]]:Lt(t)}),Ba=async(t,n,s)=>{const r="/api/BCviz/v3",o=`${r}?${new URLSearchParams({...s,problem:dt[t]})}`,i=await pn(o).catch(()=>axios.get(r,{responseType:"text",params:s}).then(a=>{const{data:l}=a,u={...Aa(l)[t],...s};return ct({...xt,data:u,IDBValidKey:o}),u},a=>{throw zt(a),new Error(a)})).catch(a=>{throw zt(a),new Error(a)});return{...n,...i?{[t]:i}:null}},Oa=Object.freeze({loadingDelay:300,throttleWait:300,debounceWait:300,debounceLeading:!0}),Ra="_Tool_17xe8_7",Va="_IconButton_17xe8_10",Ua="_triangle_17xe8_15",Wa="_rotate_17xe8_25",Te={"Main-Side":"_Main-Side_17xe8_1",Tool:Ra,IconButton:Va,triangle:Ua,rotate:Wa},Ot=["225deg","45deg"];function Rt(t){const{buttonOrder:n=0,children:s,...r}=t,[o,{toggle:i}]=be(!0);return s?e.jsxs(S,{className:Te["Main-Side"]??"",elevation:24,...r,children:[e.jsx(V,{title:`${o?"collapse":"expand"} toolbar`,arrow:!0,children:e.jsx(tn,{size:"large",className:Te.IconButton??"",onClick:()=>{i(),Ae(()=>{Kr(Xr)})},style:{"--order":n,"--initRotate":Ot[n],"--clickRotate":Ot[1-n]},children:e.jsx("div",{className:classNames(Te.triangle,{[Te.rotate??""]:o})})})}),e.jsx(zs,{in:o,orientation:"horizontal",children:s})]}):null}const{error:Bn}=console,{from:Vt,isArray:ti}=Array,{freeze:qa}=Object,{isSafeInteger:Pe}=Number,Ga=t=>{const n=t.trim().split(`
`),s=[];for(const r of n){const[o,i,a]=r.trim().split(/[ \t]/),l=parseInt(i),u=parseInt(a);if(!Pe(l)||!Pe(u))return[];s.push({k:ta[o],kInd:l,v:u})}return s},Ha=t=>{const n=t.trim().split(`
`),s=[];for(const r of n){const[o,i]=r.trim().split(/[ \t]/),a=parseInt(o),l=parseInt(i);if(!Pe(a)||!Pe(l))return[];s.push({[H.U]:a,[H.V]:l})}return s},Ut=["dataset","BCviz_file"],Wt=qa([{title:"Bipartite Subgraph",parseData:Ha,defaultTxt:["example.txt","writer.txt","marvel.txt"]},{title:"Maximum Cohesion",parseData:Ga,defaultTxt:["example_cohesion.txt","writer_cohesion.txt","marvel_cohesion.txt"]}]),Xe=(t="searchParams is not enough")=>{throw Bn(t),new Error(t)};function Ka(t){const{setDatas:n,setFileNames:s}=t,[r,{setTrue:o,setFalse:i}]=be(!1),{list:a,resetList:l,replace:u}=os(),c=B(h=>b=>u(h,b)),m=B(()=>l([])),[d,f]=er(),{arrEntries:p,arrKeys:x}=N.useMemo(()=>{const h=Vt(d.entries()),b=h.map(([w])=>w);return{arrEntries:h,arrKeys:b}},[d]),j=N.useMemo(()=>{const{length:h}=n;return!(d.size<h||_.uniq(x).filter(b=>Ut.includes(b)).length!==h)},[d]),g=B(()=>{o(),f()});at(()=>{if(!j){g();return}const h=p.map(([,b])=>b);Promise.all(h.map(b=>An(b))).then(b=>{Ut.map((w,I)=>{const E=x.indexOf(w),T=b[E]?.fileData,U=h[E];if(!T||!U)return Xe();const G=Wt[I]?.parseData(T);return G?.length?{parseData:G,fileName:U}:Xe("parse error")}).forEach(({parseData:w,fileName:I},E)=>{const T=n[E],U=s[E];if(!U||!T)return Xe();T(w),U(I)})}).catch(b=>{Bn(b),g()})}),pe(()=>{r||m()},[r]);const y=a.length===n.length&&Vt(a).every(Boolean);return e.jsxs(e.Fragment,{children:[e.jsx(K,{size:"large",variant:"contained",onClick:o,fullWidth:!0,children:"New Graph"}),e.jsxs(nn,{onClose:h=>{j&&i()},className:re.Dialog??"",open:r,children:[e.jsx(S,{elevation:24,className:re.title??"",children:e.jsx("h3",{children:"New Graph"})},"title"),e.jsx(S,{elevation:24,className:classNames(re.Paper,re.FileUploadTeam),children:Wt.map((h,b)=>N.createElement($a,{setWillPatchData:c(b),...h,key:b}))},"upload"),e.jsx(ae,{}),e.jsx(S,{elevation:24,className:re.Paper??"",children:e.jsx(K,{size:"large",variant:"contained",fullWidth:!0,disabled:!y,onClick:()=>ze.unstable_batchedUpdates(()=>{if(y){const[h,b]=a.map(({fileName:w})=>w);if(!h||!b)return;a.forEach(({fileName:w,data:I},E)=>{n[E]?.(I),s[E]?.(w)}),f({BCviz_file:b,dataset:h},{replace:!0,preventScrollReset:!1,flushSync:!1,viewTransition:!0}),i()}}),children:"Comfirm"})},"confirm"),e.jsx(un,{})]})]})}const Xa="_Tool_tgrdm_1",Je={Tool:Xa,"x-line-mode":"_x-line-mode_tgrdm_7","x-line-mode-label":"_x-line-mode-label_tgrdm_10"};function Ja(t){const{toggleIsEditX:n=()=>{},isEditX:s,className:r,setDatas:o,setFileNames:i}=t,{pathname:a}=nr();return e.jsxs(S,{elevation:24,className:classNames(Je.Tool,r),children:[e.jsx(Ka,{setDatas:o,setFileNames:i}),a===Fe.old?e.jsx(K,{variant:"outlined",className:Je["x-line-mode"]??"",fullWidth:!0,children:e.jsx(As,{className:Je["x-line-mode-label"]??"",onChange:n,control:e.jsx(sn,{checked:s}),label:"Edit Mode"})}):null]})}const{isSafeInteger:Ya}=Number;function qt({useSetInputST:[t,n],k:s,label:r=""}){const o=B(i=>n({[s]:i}));return e.jsxs(ve,{fullWidth:!0,children:[e.jsx(Le,{fullWidth:!0,placeholder:r,label:r,type:"number",title:s,value:t[s],required:!0,onChange:i=>{const{value:a}=i.target;if(!a){o(a);return}const l=parseInt(a),u=Number(a),c=+a;ht(l,u,c)&&Ya(l)&&l>=0&&o(l.toString())},inputProps:{min:0,inputMode:"numeric",pattern:"^(0|[1-9]d*)$"},spellCheck:!0,autoCapitalize:"on",enterKeyHint:"next",translate:"yes",unselectable:"on",inputMode:"numeric"}),e.jsx(Bs,{})]})}const Za="_Input_1qdq0_1",Qa={Input:Za};function On({children:t,autoFocus:n,tabIndex:s,className:r,style:o,...i}){return e.jsx(fe,{...i,..._.omitBy({autoFocus:n,tabIndex:s,className:r,style:o},_.isUndefined),children:t})}const eo=({InputLabelProps:t,...n})=>e.jsx(Le,{...n,size:"medium",InputLabelProps:{...t,className:t?.className??"",style:t?.style??{}}}),Rn=eo;function Ye(t){const{useSetInputST:n,modeKey:s,useGetFromST:r,fileNames:o,setTabToResult:i,dataArrWithPos:a,useMultiDots:[l,u]}=t,{data:c,loading:m,runAsync:d}=r,[f,p]=n,{s:x="",t:j=""}=Cn[s]??{};return e.jsx($e,{value:s,className:M.TabPanel??"",children:e.jsxs(S,{elevation:24,className:Qa.Input??"",children:[e.jsx(qt,{useSetInputST:n,k:"s",label:x}),e.jsx(qt,{useSetInputST:n,k:"t",label:j}),e.jsx(rn,{value:l??[],onChange:(g,y)=>{u(y)},multiple:!0,options:a,getOptionLabel:de,renderOption:(g,y,{selected:h})=>e.jsxs(On,{...g,children:[e.jsx(sn,{icon:e.jsx(Os,{fontSize:"large"}),checkedIcon:e.jsx(Rs,{fontSize:"large"}),checked:h}),de(y)]}),renderInput:g=>e.jsx(Rn,{...g,label:"Choose Dots",placeholder:"Choose Dots"}),disableCloseOnSelect:!0,autoComplete:!0,autoCapitalize:"words",autoFocus:!0,autoHighlight:!0,clearOnBlur:!0,clearOnEscape:!0,fullWidth:!0,handleHomeEndKeys:!0,includeInputInList:!0,openOnFocus:!0,selectOnFocus:!0,disableClearable:!1,disabledItemsFocusable:!1,disableListWrap:!1,disablePortal:!1,filterSelectedOptions:!1,freeSolo:!1}),e.jsxs(Vs,{disabled:_.some(f,g=>g===""),variant:"contained",size:"large",onClick:()=>ze.unstable_batchedUpdates(async()=>{await d(s,c,{...o,problem_type:dt[s],...f,vertices:JSON.stringify(l?.map(({k:g,kInd:y})=>[ft[g],y]))}).then(g=>(_e.success(`fetch ${s} success`),i(),g),()=>{_e.error(`fetch ${s} fail`)})}),children:["Fetch ",s]})]})})}function to(){return navigator.language}function no(){return navigator.languages[0]}function so(){return new Intl.DateTimeFormat().resolvedOptions().locale}function ro(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}const ao=()=>to()==="zh-CN"&&no()==="zh-CN"&&so()==="zh-CN"&&ro()==="Asia/Shanghai"&&new Date().getTimezoneOffset()===-480&&new Intl.DateTimeFormat().resolvedOptions().timeZone==="Asia/Shanghai",oo=N.forwardRef(t=>{const{viewBox:n,graphLine:s,drawDotData:r,clickCircle:o,doubleClickCircle:i}=t;return e.jsxs("svg",{viewBox:n,className:D["graph-svg"],children:[s?.map(({pos:a,highlightLevel:l,color:u},c)=>e.jsx("polyline",{points:a.map(([m,d])=>`${m},${d}`).join(" "),fill:"none",stroke:"black",className:classNames(D.line,D[l]),style:{"--color":u}},c)),r.map(a=>{const{k:l,kInd:u,v:c,graphX:m,graphY:d,color:f}=a,p=de(a);return e.jsx(e.Fragment,{children:e.jsx(V,{...kn(a),children:e.jsxs("g",{onDoubleClick:i({dotData:a}),onClick:o(a),className:Pn(a),style:{"--color":f},children:[e.jsx("circle",{cx:m,cy:d,className:D.circle}),e.jsx("text",{x:m,y:d,className:D.text,children:p})]},m)})})})]})});function Gt(t){const{isEditX:n,xEnd:s,onClick:r=()=>{},dotData:{y:o,v:i},className:a=""}=t;return n?e.jsx(e.Fragment,{children:e.jsx("line",{x1:A,x2:s,y1:o,y2:o,className:classNames(D["hover-x"],a),onClick:r})}):null}const io=N.forwardRef(t=>{const{viewBox:n,drawDotData:s,clickCircle:r,doubleClickCircle:o,svgRef:i,isEditX:a,commonValueFromTableData:{valuesArr:l,xRadix:u,length:c,getYPos:m,svgHeight:d},svgSize:f,size:p}=t,{xEnd:x=0,yEnd:j=0}=f,g=N.useMemo(()=>_.sortBy(_.uniq(l)).map(h=>({v:h,yPos:m(h)})),[s]),y=N.useMemo(()=>{let h=_.head(s);if(!h)return[];let b=oe(h);const w=[];for(let I=1;I<c;I++){let E=s[I];if(!E)break;let T=oe(E),U=T-b;const{x:G=0,y:Y=0}=h,Se=[G,Y];for(;I<c;I++){const C=s[I+1];if(C){const z=oe(C);if(z-T===U){E=C,T=z;continue}}const{x:k=0,y:L=0}=E,q=[k,L];w.push([Se,q]);break}h=E,b=T}return w},[s]);return e.jsxs("svg",{viewBox:n,ref:i,className:D.svg,style:{"--stroke-dasharray":u},children:[e.jsx("line",{x1:A,y1:j,x2:x,y2:j,className:D["coordinate-axis-x"]}),"  ",e.jsx("line",{x1:A,y1:A,x2:A,y2:j,className:D["coordinate-axis-y"]}),"  ",g.map(({v:h,yPos:b})=>e.jsxs("g",{className:D.g,onClick:o({v:h}),children:[e.jsx("text",{x:na,y:b,className:D["axis-text"],children:h}),e.jsx(Gt,{xEnd:x,isEditX:a,className:classNames({[D["hover-click-line"]??""]:h===p}),dotData:{v:h,y:b}})]})),y.map(([[h,b],[w,I]])=>e.jsx(e.Fragment,{children:e.jsx("line",{x1:h,y1:b,x2:w,y2:I,className:D.line})})),s.map(h=>{const{k:b,v:w,kInd:I,x:E,y:T,color:U}=h,G=kn(h);return e.jsx(e.Fragment,{children:e.jsxs("g",{className:Pn(h),onClick:r(h),onDoubleClick:o({dotData:h}),style:{"--color":U},children:[e.jsx(V,{...G,children:e.jsx("text",{x:E,y:d,className:D.text,children:de(h)})}),a?e.jsx(e.Fragment,{children:e.jsx("line",{x1:E,x2:E,y1:T,y2:j,className:D["hover-y"]})}):null,e.jsx(V,{...G,children:e.jsx("circle",{cx:E,cy:T,className:D.circle})}),e.jsx(Gt,{xEnd:x,dotData:h,isEditX:a,onClick:o({dotData:h}),className:classNames({[D["hover-x--no-show"]??""]:w===p})})]})})})]})});function lo(){const[t,n]=J(),[s,r]=J([]),o=N.useRef(null),i=N.useMemo(ga(o),[o.current]),a=N.useMemo(()=>Nn(t,i),[t,i]);return{tableData:t,setTableData:n,graphData:s,setGraphData:r,svgRef:o,svgSize:i,commonValueFromTableData:a}}const co=t=>({clickCircle:B(fa(t))}),Ze=t=>`${Vn.name}${t}`;function Vn(t){const{dataArrWithPos:n,graphData:s,svgSize:r,setSize:o=()=>{},isEditX:i,size:a}=t,l=N.useMemo(()=>ma({...t,size:a}),[a,n]),{svgWidth:u=0,svgHeight:c=0}=r,m=c,d=N.useMemo(()=>ha({drawDotData:l,graphData:s}),[l]),{clickCircle:f}=co({...t,setSize:o,size:a}),p=B(Fn({isEditX:i,setSize:o,size:a,drawDotData:l})),x={...t,drawDotData:l,clickCircle:f,doubleClickCircle:p,graphLine:d,size:a};return e.jsxs(e.Fragment,{children:[e.jsx(ge,{value:$.table,children:e.jsx(io,{...x,viewBox:[0,0,u,m].join(" ")})},Ze($.table)),e.jsx(ge,{value:$.graph,children:e.jsx(oo,{...x,viewBox:[0,0,u,c].join(" ")})},Ze($.graph)),e.jsx($e,{value:$.result},Ze($.result))]})}const uo="_Dialog_1fpbd_1",ho="_title_1fpbd_4",mo="_Paper_1fpbd_7",po="_Fab_1fpbd_11",ue={Dialog:uo,title:ho,Paper:mo,Fab:po},fo=({renderingEngine:t})=>{switch(t){case"SVG Engine":return e.jsx(e.Fragment,{children:"It is unstable! Suitable for small data volumes, few functions are available, and performance is low."});case"ECharts Engine":return e.jsx(e.Fragment,{children:"Suitable for large data volumes. With many available functions and high performance."})}};function go(t){const{setSelectEngine:n,selectEngine:s}=t,[r,{setTrue:o,setFalse:i}]=be(!1);return e.jsxs(e.Fragment,{children:[e.jsx(Us,{size:"large",onClick:o,title:"settings",className:ue.Fab??"",children:e.jsx(V,{title:"settings",arrow:!0,children:e.jsx(tn,{size:"large",children:e.jsx(Ws,{fontSize:"large"})})})}),e.jsxs(nn,{onClose:i,className:ue.Dialog??"",open:r,children:[e.jsx(S,{elevation:24,className:ue.title??"",children:e.jsx("h3",{children:"Settings"})},"title"),e.jsx(ae,{}),e.jsx(S,{elevation:24,className:classNames(ue.Paper),children:e.jsxs(ve,{fullWidth:!0,children:[e.jsx(V,{arrow:!0,title:"Select Rendering Engine",placement:"top",children:e.jsx(Qe,{children:"Select Rendering Engine"})}),e.jsx(et,{fullWidth:!0,label:"Select Rendering Engine",defaultValue:"ECharts Engine",onChange:a=>{const l=a.target.value;l==="SVG Engine"&&!confirm("SVG is very unstable! Are you sure you want to switch to it?")||n(l)},value:s,children:["ECharts Engine","SVG Engine"].map(a=>e.jsx(fe,{value:a,children:e.jsx(V,{arrow:!0,placement:"right",title:e.jsx(fo,{renderingEngine:a}),children:e.jsx("div",{children:a})})},a))})]})},"content"),e.jsx(ae,{}),e.jsx(S,{elevation:24,className:classNames(ue.Paper),children:e.jsx(K,{size:"large",variant:"contained",fullWidth:!0,color:"warning",onClick:()=>{confirm("Are you sure you want to clear the cache?")&&Sr().then(()=>{alert("Clear Success!")},()=>{alert("Clear Fail!")})},children:"Clear Cache"})},"content"),e.jsx(ae,{}),e.jsx(S,{elevation:24,className:ue.Paper??"",children:e.jsx(K,{size:"large",variant:"contained",fullWidth:!0,onClick:i,startIcon:e.jsx(qs,{fontSize:"large"}),children:"Back"})},"back")]})]})}const xo="_Form_3js51_1",bo={Form:xo},{isSafeInteger:vo}=Number;function _o(t){const{setSize:n,value:s,max:r}=t,[o,i]=J(s);pe(()=>{i(s)},[s]);const a=_.isUndefined(o),l=!a&&(o<0||o>r);return e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"Please double-click the dot on the Cohesion."}),e.jsx(ae,{variant:"fullWidth",flexItem:!0,children:e.jsx(en,{label:"OR"})}),e.jsxs(S,{elevation:24,className:bo.Form??"",children:[e.jsx(ve,{fullWidth:!0,children:e.jsx(Le,{fullWidth:!0,placeholder:"Input Size",label:"Input Size",type:"search",title:"Input Size",value:o,inputProps:{min:0,max:r,inputMode:"numeric",pattern:"^(0|[1-9]d*)$"},spellCheck:!0,autoCapitalize:"on",enterKeyHint:"next",translate:"yes",unselectable:"on",inputMode:"numeric",onChange:u=>ze.unstable_batchedUpdates(()=>{const{value:c}=u.target;if(!c)i(void 0);else{const m=parseInt(c);vo(m)&&i(m)}}),error:l,...l?{helperText:`Size is not in the right range(0 ~ ${r}).`}:null})}),e.jsx(V,{arrow:!0,title:a?"Set size to undefined":`${F["Hierarchical Subgraphs Search"]} with size is ${o}`,children:e.jsx(K,{fullWidth:!0,variant:"contained",size:"large",onClick:()=>{n(o)},disabled:l,children:"Search"})})]})]})}const Un="tan",Wn="red",{isSafeInteger:Ht}=Number,{entries:Kt,freeze:ni,values:si,keys:ri,fromEntries:ai}=Object;if(mn){const{from:t}=Array,n=console.error;console.error=function(s){typeof s=="string"&&(s.startsWith('Warning: Each child in a list should have a unique "key" prop.')||s.startsWith("Warning: validateDOMNesting(...): %s cannot appear as a descendant of <%s>.%s"))||n.apply(console,t(arguments))}}var Fe=(t=>(t.old="/old",t.new="/new",t))(Fe||{});const jo=(t,n)=>!_.isUndefined(t)&&t>=n,Xt=({title:t,detail:n})=>_.isUndefined(n)?null:e.jsxs(an,{className:D.Accordion??"",defaultExpanded:!0,children:[e.jsx(on,{expandIcon:e.jsx(ln,{}),className:D["Accordion-Summary"]??"",children:e.jsx("span",{className:classNames(ee,M["Main-Right--Show--Text"]),children:t})}),e.jsx(cn,{className:D["Accordion-Details"]??"",children:e.jsx("p",{className:M["Main-Right--Show--Text"],children:n})})]},t),xe=20;function Jt(){at(()=>{const{origin:v,protocol:P,hash:R}=location;if(!sessionStorage.hjx&&tt&&v!==At&&P==="https:"&&ao()){const W=At+R;confirm(`后端服务已上线，点击“确认”跳转.${W}`)?location.href=W:sessionStorage.setItem("hjx","hxj")}}),Yt("beforeunload",v=>{if(tt&&(Q||r)){v.preventDefault();const P="You have unsaved changes. Are you sure you want to leave?";return v.returnValue=P,P}});const[t]=be(!1),{tableData:n,setTableData:s,graphData:r,setGraphData:o,svgSize:i,commonValueFromTableData:a,svgRef:l}=lo(),u=n&&n?.length>xe;pe(()=>{u&&_e(`Dataset is too big! Only display top ${xe} vertices.`),we()},[n]);const{svgWidth:c=0,svgHeight:m=0}=i,[d="",f]=St("dataset",{defaultValue:""}),[p="",x]=St("BCviz_file",{defaultValue:""}),j={dataset:d,BCviz_file:p},g=is(Ba,{...Oa,manual:!0,staleTime:-1,cacheTime:-1}),{data:y,loading:h,mutate:b}=g,w=Qt({s:"",t:""}),[I,E]=J($.table),[T,U,G]=Zt(F["Maximum Biclique"]),[Y,Se]=J("ECharts Engine"),C=N.useMemo(()=>Ln(T),[T]),[k,L]=J(0),q=J([]),[z,Z]=q,[ie,{set:ye,setTrue:Ce,setFalse:we}]=be(!1),Q=N.useMemo(()=>Et(ie,n),[n,ie]),{size:le,resultGraph:Gn,resultTable:Hn,UV:he,dataThisMode:Eo,dataArr:me,selectShowData:bt,count:Kn,numOfData:Ne,params:Ee}=N.useMemo(()=>{const v=y?.[T];if(!v)return{};const{count:P,dataArr:R,...W}=v,te=R?.[k];if(!te)return{};const{size:ce,count:X,label:vt,...ne}=te;if(C)return{size:ce};const De=r?.filter(Ue=>_.every(Ue,(es,ts)=>ne[ts]?.includes(es)??!1)),Zn=Q?.filter(({k:Ue,kInd:jt})=>ne[Ue]?.includes(jt)),_t=Et(ie,Zn),Qn=Ft(_t,De,Nn(_t,{svgWidth:c,svgHeight:m}),m);return{size:ce,resultGraph:De,resultTable:Qn,UV:ne,dataThisMode:v,dataArr:R,selectShowData:te,count:X,numOfData:P,params:W}},[y,T,k]),Xn=Y==="ECharts Engine",Be=_.isUndefined(le),Oe=B(v=>{b({...y,[F["Hierarchical Subgraphs Search"]]:{dataArr:[{size:v}]}})});pe(()=>{E($.table),G()},[Q,Y]),pe(()=>{Z([]),b(void 0)},[Q]);const Re=N.useMemo(()=>{const v=Ft(Q,r,a,m);if(C)return v;const P=he?v?.map(W=>{const{k:te,kInd:ce}=W,X=he[te]?.includes(ce)?Un:void 0;return{...W,...X?{color:X}:null}}):v;return Dr(P,z)},[a,he,T,le,z]),Jn=B(()=>{}),Ve={useSetInputST:w,useGetFromST:g,fileNames:j,setTabToResult:Jn,dataArrWithPos:Q??[],useMultiDots:q},Yn=B(v=>{const{dataIndex:P,name:R,value:W}=v;if(Ht(P)&&R&&Ht(W)&&typeof W=="number"){const te=R[0],ce=parseInt(R.slice(1));if(!Q)return;const X=Q.find(({k:ne,kInd:De})=>ne===te&&De===ce);if(!X)return;if(!z||z.length===0){Z([X]);return}const vt=z.includes(X);Z(vt?z.filter(ne=>ne!==X):[...z,X])}});return e.jsxs(e.Fragment,{children:[e.jsxs(S,{className:M.Main??"",elevation:24,children:[e.jsx(go,{setSelectEngine:Se,selectEngine:Y}),e.jsx(Rt,{children:e.jsxs(S,{elevation:24,className:M["Main-Left"]??"",children:[e.jsx(Ja,{setDatas:[o,s],setFileNames:[f,x],className:M.Tool}),u?e.jsx(S,{elevation:24,className:M.Select??"",children:e.jsxs(ve,{fullWidth:!0,children:[e.jsx(Qe,{children:"Numebr Of Show Vertices"}),e.jsxs(et,{value:Number(ie),onChange:v=>{ye(!!v.target.value)},label:"Numebr Of Show Vertices",fullWidth:!0,children:[e.jsx(fe,{value:1,children:"Show All"},1),e.jsxs(fe,{value:0,children:["Only Show ",xe]},0)]})]})}):null,e.jsx(S,{elevation:24,className:M.Select??"",children:e.jsxs(ve,{fullWidth:!0,children:[e.jsx(Qe,{children:"Select Mode"}),e.jsx(et,{value:T,onChange:v=>{U(v.target.value)},label:"Select Mode",fullWidth:!0,children:[F["Maximum Biclique"],F["Maximal Biclique Enumeration"],F["(p,q)-biclique Counting"],F["Hierarchical Subgraphs Search"]].map(v=>e.jsx(fe,{value:v,title:dt[v],children:v},v))})]})}),e.jsx(S,{elevation:24,children:e.jsxs(Ct,{value:T,children:[e.jsx(Ye,{...Ve,modeKey:F["Maximum Biclique"]}),e.jsx(Ye,{...Ve,modeKey:F["Maximal Biclique Enumeration"]}),e.jsx(Ye,{...Ve,modeKey:F["(p,q)-biclique Counting"]}),e.jsx($e,{value:F["Hierarchical Subgraphs Search"],className:M.TabPanel??"",children:e.jsx(S,{elevation:24,className:M["Paper-text"]??"",children:e.jsx(_o,{value:le,setSize:Oe,max:a.max})})})]})}),me&&jo(me?.length,2)?e.jsx(S,{elevation:24,className:M.Select??"",children:e.jsx(V,{title:e.jsxs(e.Fragment,{children:["Count: ",e.jsx("span",{className:ee,children:me.length})]}),arrow:!0,placement:"right",children:e.jsx(rn,{autoComplete:!0,autoCapitalize:"words",autoFocus:!0,autoHighlight:!0,blurOnSelect:!0,clearOnBlur:!0,clearOnEscape:!0,fullWidth:!0,handleHomeEndKeys:!0,includeInputInList:!0,openOnFocus:!0,selectOnFocus:!0,disableClearable:!0,disableCloseOnSelect:!1,disabledItemsFocusable:!1,disableListWrap:!1,disablePortal:!1,filterSelectedOptions:!1,freeSolo:!1,options:me,...bt?{value:bt}:null,onChange:(v,P,R,W)=>{L(P?me.indexOf(P):0)},renderInput:v=>e.jsx(Rn,{...v,label:"Choose Rank",placeholder:"Choose Rank"}),renderOption:(v,{label:P,...R},W)=>e.jsx(V,{title:Er(R),arrow:!0,placement:"right",children:e.jsx(On,{...v,children:P??`Rank ${W.index+1}`})})})})}):e.jsx(e.Fragment,{})]})}),e.jsx(S,{className:M["Main-Mid"]??"",elevation:24,children:e.jsxs(Ct,{value:I,children:[e.jsx(S,{elevation:24,children:e.jsxs(Gs,{onChange:(v,P)=>E(P),variant:"fullWidth",children:[e.jsx(We,{label:"Cohesion",value:$.table,className:M.Tab??""}),e.jsx(We,{label:"Bipartite Subgraph",value:$.graph,className:M.Tab??""}),e.jsx(V,{arrow:!0,title:Ee?e.jsx(e.Fragment,{children:e.jsxs("fieldset",{children:[e.jsx("legend",{className:ee,children:"Search Params"}),Kt(Ee).map(mt)]})}):null,children:e.jsx(We,{label:"Search Result",value:$.result,disabled:Be||C,className:classNames({[M.Tab??""]:!Be})})})]})}),Re.length?Xn?e.jsx(wn,{dataArrWithPos:Re,graphData:r,size:le,resultGraph:Gn,selectMode:T,useSetInputST:w,setTab:E,resultTable:Hn,setSize:Oe,isEditX:C,commonValueFromTableData:a,clickEChartDotToAddMultiDots:Yn}):e.jsx(Vn,{commonValueFromTableData:a,graphData:r,dataArrWithPos:Re,isEditX:C,svgRef:l,svgSize:i,setSize:Oe,size:le}):e.jsx(Hs,{className:M.Chart??"",variant:"rounded",animation:"wave"})]})}),Be?null:e.jsx(Rt,{buttonOrder:1,children:e.jsx(S,{className:M["Main-Right"]??"",elevation:0,children:e.jsxs(S,{elevation:24,className:M["Main-Right--Show"]??"",children:[_.isUndefined(Ne)?null:e.jsx(V,{arrow:!0,placement:"left",title:_.isUndefined(Ne)?null:e.jsxs("h4",{children:["The number of (",Ee?.s,",",Ee?.t,")-bicliques is: ",e.jsx("span",{className:ee,children:Ne})]}),children:e.jsx("h4",{className:classNames(ee,M["Main-Right--Show--Num"]),children:e.jsx("span",{children:Ne})})}),e.jsx(Xt,{title:"size",detail:le}),he?Kt(he).map(([v,P])=>P.length?e.jsxs(an,{className:D.Accordion??"",defaultExpanded:P.length<=23,children:[e.jsx(on,{expandIcon:e.jsx(ln,{}),className:D["Accordion-Summary"]??"",children:e.jsx("span",{className:classNames(ee,M["Main-Right--Show--Text"]),children:`${v} `})}),e.jsx(cn,{className:D["Accordion-Details"]??"",children:P.map(R=>e.jsx("p",{className:M["Main-Right--Show--Text"]??"",children:R}))})]},v):null):null,e.jsx(Xt,{title:"count",detail:Kn})]})})})]}),e.jsx(Ks,{open:t||h,className:M.Modal??"",children:e.jsx(ot,{className:M.CircularProgress??""})}),e.jsx(un,{})]})}const qn=t=>rr({loader:()=>Promise.resolve(N.lazy(t)),loading(){return e.jsx(ot,{})}}),So=qn(()=>dn(()=>import("./tempTest.test-233Xhz-Y.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37]),import.meta.url)),yo=qn(()=>dn(()=>import("./index-vD3uNdK-.js"),__vite__mapDeps([38,1,2,24,25,26,15,5,6,18,19,20,4,21,22,30,31,27,28,29,17,32,33,34,35,36,39]),import.meta.url));function Co(){return e.jsxs(sr,{children:[e.jsx(Ie,{index:!0,element:e.jsx(Jt,{})}),e.jsx(Ie,{path:Fe.new,element:e.jsx(Jt,{})}),e.jsx(Ie,{index:!0,path:Fe.old,element:e.jsx(N.Suspense,{fallback:e.jsx(Xs,{open:!0,children:e.jsx(ot,{})}),children:e.jsx(yo,{})})}),mn?e.jsx(Ie,{path:"/test",element:e.jsx(N.Suspense,{children:e.jsx(So,{})})}):null]})}const wo=()=>e.jsx(N.StrictMode,{children:e.jsx(Js,{injectFirst:!0,children:e.jsx(tr,{children:e.jsx(Co,{})})})}),No=document.body;Zs(No).render(e.jsx(e.Fragment,{children:e.jsx(wo,{})}));export{oo as G,io as L,Ja as T,Ft as a,ma as b,ha as c,$n as d,co as e,Fn as f,ca as g,mn as i,D as s,lo as u};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./tempTest.test-233Xhz-Y.js","./react-GysCNhY8.js","./@babel-VMupNkwv.js","./react-redux--uyEwo9-.js","./hoist-non-react-statics-y4nWN7rF.js","./react-dom-vCwnROQY.js","./scheduler-Xt5_ASe0.js","./redux-Le_GWoRy.js","./is-plain-object-xrCwLlgG.js","./is-plain-obj-72KcJ7RQ.js","./isobject-cufAu4Xx.js","./@reduxjs-N9xBYX3C.js","./dot-prop-bcwGIEUn.js","./fast-deep-equal-EQVWpV-L.js","./dequal-vEqHzq4I.js","./react-fast-compare-3jyQPa-J.js","./deepmerge-9x65nua1.js","./@algolia-6ISQ10fS.js","./@mui-h4CCOs6d.js","./react-transition-group-f1kv3CCE.js","./@emotion-c7wuD7i4.js","./stylis-W9rcUKMO.js","./@popperjs-v-la0Vhf.js","./react-window-4v3GKFIh.js","./ahooks-3RxoNFTl.js","./tslib-xX1bOrSW.js","./lodash-26GAK-GT.js","./echarts-1Iu8elsr.js","./zrender-8UwRb6PW.js","./immer-U6fk-Zvt.js","./react-toastify-TLlLzmv5.js","../css/react-toastify-zACNttC4.css","./react-router-dom-C0YLa0lE.js","./react-router-lSZP5VRP.js","./@remix-run-wEAHOncH.js","./react-loadable-beiGpRpV.js","./prop-types-g0p8o0B7.js","../css/tempTest-U4bjyJm2.css","./index-vD3uNdK-.js","../css/index-8aDiOS7h.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
