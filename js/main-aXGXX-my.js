import{r as N,j as t}from"./react-oik9md-E.js";import{u as Xn,a as et,b as O,c as qt,d as Jn,e as Yn,f as tt,g as te,h as Zn,i as Gt,j as Ht,k as _e,l as Qn,m as me,n as xt,o as bt}from"./ahooks-rsxkj2vD.js";import{i as es}from"./react-fast-compare-751UTDWK.js";import{u as ts,g as vt,i as ns,a as ss,b as rs,c as as,d as os,e as is,f as ls,h as cs,j as us,k as ds,l as hs,m as ms,n as ps,o as fs,p as gs,q as xs,r as bs,s as vs,t as _s}from"./echarts-GffPWO-z.js";import{P as C,T as Me,d as js,D as oe,L as De,B as X,a as Ss,b as ys,c as q,e as Cs,f as ws,g as Ns,h as Ds,i as Es,C as Kt,j as Te,I as Xt,k as Is,l as Jt,F as Ms,m as Yt,n as ke,o as Ts,M as nt,A as Zt,p as ks,q as Ps,r as Fs,s as $s,t as zs,u as Qt,S as en,v as Ls,w as _t,x as As,y as Oe,z as Bs,E as tn,G as nn,H as sn,J as rn,K as Os,N as Rs,O as Ws}from"./@mui-aSa7pBhJ.js";import{d as st}from"./immer-U6fk-Zvt.js";import{a as Vs,r as Pe,c as Us}from"./react-dom-tVoZXIl-.js";import{Q as Ee,k as an}from"./react-toastify-5bXptfeX.js";import{d as qs}from"./@algolia-kof8UNv8.js";import{u as Gs,H as Hs}from"./react-router-dom-GFem2kaG.js";import{u as Ks,b as Xs,c as Js}from"./react-router-I1NCjZ8i.js";import"./@babel-_Kefij6Y.js";import"./tslib-xX1bOrSW.js";import"./lodash-C7I7b_wX.js";import"./zrender-6ibt0cUB.js";import"./react-transition-group-QTzb2ErI.js";import"./@emotion-ia0lOm4d.js";import"./hoist-non-react-statics-y4nWN7rF.js";import"./stylis-W9rcUKMO.js";import"./@popperjs-v-la0Vhf.js";import"./scheduler-Xt5_ASe0.js";import"./@remix-run-wEAHOncH.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=s(a);fetch(a.href,o)}})();function Ys(e,n){return e>>n&1}const rt=Object.freeze(["rgb(255, 0, 0)","rgb(255, 115, 0)","rgb(255, 251, 0)","rgb(72, 255, 0)","rgb(0, 255, 213)","rgb(0, 43, 255)","rgb(122, 0, 255)","rgb(255, 0, 200)"]),Zs="_Main_1ppnf_15",Qs="_Table_1ppnf_22",er="_table_1ppnf_26",tr="_SVG_1ppnf_31",nr="_Accordion_1ppnf_38",sr="_line_1ppnf_70",rr="_circle_1ppnf_71",ar="_text_1ppnf_94",or="_svg_1ppnf_94",ir="_highlight_1ppnf_100",lr="_g_1ppnf_52",cr="_line_how_1ppnf_1",E={Main:Zs,Table:Qs,table:er,SVG:tr,Accordion:nr,"Accordion-Summary":"_Accordion-Summary_1ppnf_42","Accordion-Details":"_Accordion-Details_1ppnf_48","graph-svg":"_graph-svg_1ppnf_52",line:sr,circle:rr,"no-highlight":"_no-highlight_1ppnf_84",text:ar,svg:or,"axis-text":"_axis-text_1ppnf_94",highlight:ir,"more-highlight":"_more-highlight_1ppnf_116",g:lr,"hover-click-line":"_hover-click-line_1ppnf_273","hover-x":"_hover-x_1ppnf_273","hover-x--no-show":"_hover-x--no-show_1ppnf_273","hover-y":"_hover-y_1ppnf_274",line_how:cr,"coordinate-axis-y":"_coordinate-axis-y_1ppnf_282","coordinate-axis-x":"_coordinate-axis-x_1ppnf_282","pulse-signup-button":"_pulse-signup-button_1ppnf_1"},{error:U}=console,jt=e=>(e.addEventListener("abort",n=>{e.close(),U("abort",n)}),e.addEventListener("close",n=>{e.close(),U("close",n)}),e.addEventListener("error",n=>{e.close(),U("error",n)}),e.addEventListener("versionchange",n=>{e.close(),U("versionchange",n)}),e),ur=(e,n)=>(n.addEventListener("complete",()=>{e.close()}),n.addEventListener("abort",s=>{n.abort(),e.close(),U("abort",s)}),n.addEventListener("error",s=>{n.abort(),e.close(),U("error",s)}),n),on=e=>new Promise(async(n,s)=>{const{DBname:r,version:a,storeName:o,keyPath:i,mode:l}=e,u=indexedDB.open(r,a);u.addEventListener("success",()=>{const c=jt(u.result);if(c.objectStoreNames.contains(o))return n(ur(c,c.transaction(o,l,{durability:"strict"})).objectStore(o))}),u.addEventListener("upgradeneeded",()=>{const c=jt(u.result);if(!c.objectStoreNames.contains(o))return c.createObjectStore(o,{autoIncrement:!0,...i?{keyPath:i}:null})}),u.addEventListener("error",c=>{s(c),U("error",c,u)}),u.addEventListener("blocked",c=>{s(c),U("blocked",c,u)})}).catch(U),at=e=>{const{IDBValidKey:n,data:s}=e;return on({...e,mode:"readwrite"}).then(r=>(r&&s&&r.add(s,...r.keyPath?[]:[n]).addEventListener("error",U),r),U).catch(U)},dr=async e=>new Promise((n,s)=>{const{query:r}=e;return on({...e,mode:"readonly"}).then(a=>{if(a){const o=r?a.get(r):a.getAll();o.addEventListener("success",()=>{n(o.result)}),o.addEventListener("error",i=>{U(i,o),s(o.error)})}return a},s).catch(s)}),hr=()=>indexedDB.databases().then(e=>e.filter(({name:n})=>n).map(({name:n})=>n?indexedDB.deleteDatabase(n):new IDBOpenDBRequest),U).catch(U);var mr={VITE_resumeFolder:"resume",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{DEV:pr,PROD:Je}=mr,{freeze:Fe,entries:fr,values:Wo}=Object,gr=e=>!!(Je&&e&&_.isPlainObject(e));var F=(e=>(e["Maximum Biclique"]="Maximum Biclique",e["Maximal Biclique Enumeration"]="Maximal Biclique Enumeration",e["(p,q)-biclique Counting"]="(p,q)-biclique Counting",e["Hierarchical Subgraphs Search"]="Hierarchical Subgraphs Search",e))(F||{});const ot=Fe({"Maximum Biclique":"MEB","Maximal Biclique Enumeration":"MBE","(p,q)-biclique Counting":"PQB","Hierarchical Subgraphs Search":""}),xr=Fe({DBname:"HJX",storeName:"HXJ"}),ln=e=>dr({...xr,query:e}).then(n=>{if(gr(n))return n;throw new Error(n)});var L=(e=>(e[e.table=0]="table",e[e.graph=1]="graph",e[e.result=2]="result",e))(L||{});Fe({0:"Cohesion"});const br=e=>fr(e).map(lt),se="tanContent",pe=({k:e,kInd:n})=>`${e}${n}`,vr=(e,n)=>{if(!n||n.length===0)return e;const s=Nn(n);return e?.map(a=>{const{k:o,kInd:i}=a,l=s[o][i]?On:void 0;return{...a,...l?{color:l}:null}})},St=50,_r=100,jr=e=>{const s=_.sortBy(e,({v:a})=>a).slice(pt*-1);return _.sortBy(s,({i:a})=>a)},yt=(e,n)=>{if(!n)return[];const s=n.map((r,a)=>({...r,i:a}));return e||n.length<=pt?s:jr(s)},cn=(e,n,{svgWidth:s,svgHeight:r})=>yn(e,n,ut(e,{svgWidth:s,svgHeight:r}),r),un=Fe({svgHeight:innerHeight,svgWidth:innerWidth}),Sr="_Main_1idkx_15",yr="_Select_1idkx_38",Cr="_TabPanel_1idkx_41",wr="_Tab_1idkx_41",Nr="_hidden_1idkx_83",Dr="_Chart_1idkx_87",Er="_Modal_1idkx_92",Ir="_CircularProgress_1idkx_99",k={Main:Sr,"Main-Left":"_Main-Left_1idkx_33",Select:yr,TabPanel:Cr,"Paper-text":"_Paper-text_1idkx_44","Main-Mid":"_Main-Mid_1idkx_51",Tab:wr,"Main-Right":"_Main-Right_1idkx_62","Main-Right--Show":"_Main-Right--Show_1idkx_69","Main-Right--Show--Text":"_Main-Right--Show--Text_1idkx_75","Main-Right--Show--Num":"_Main-Right--Show--Num_1idkx_80",hidden:Nr,Chart:Dr,Modal:Er,CircularProgress:Ir,"pulse-signup-button":"_pulse-signup-button_1idkx_1"},Ct=(e=()=>{})=>Pr?.(()=>Fr?.(()=>kr?.(()=>Tr?.(()=>dn?.resolve?.()?.then?.(()=>{const{port1:n,port2:s}=new Mr;n?.postMessage?.(null),s.onmessage=e}).catch?.(hn))))),$e=(e=()=>{})=>new dn(n=>Ct?.(n))?.then?.(()=>Ct?.(e)).catch?.(hn),{Promise:dn,addEventListener:Vo,console:{error:hn}={},MessageChannel:Mr,queueMicrotask:Tr,requestAnimationFrame:kr,requestIdleCallback:Pr,setTimeout:Fr}=window??self??globalThis??void 0;ts([ss,rs,as,os,is,ls,cs,us,ds,hs,ms,ps,fs,gs,xs,bs,vs,_s]);const mn=window??self??globalThis??global??void 0??new EventTarget,{addEventListener:$r,removeEventListener:zr}=mn,{dispatchEvent:Lr}=mn,Ye="resize",Ar=new Event(Ye),Re=N.memo(e=>{const{option:n,onParams:s=[]}=e,r=N.useRef(null);return Xn(()=>{const{current:a}=r;if(!a||!n)return;const o=vt(a)??ns(a);o.showLoading(),$e(()=>{o.setOption(n,!0,!0),s.map(c=>o.on(...c)),o.hideLoading()});const i=Tn(o.resize),l=()=>i(),u=new ResizeObserver(l);return u.observe(a),$r(Ye,l),()=>{s.map(([c,,x])=>o.off(c,x)),u.disconnect(),i.cancel?.(),i.clear?.(),zr(Ye,l)}},[n]),et(()=>{const{current:a}=r;if(!a)return;const o=vt(a);o&&(o.clear(),o.dispose())}),t.jsx(t.Fragment,{children:t.jsx(C,{elevation:24,ref:r,className:k.Chart??""})})},es),{error:Br}=console;function it(...e){if(e.length===0)return!0;const n=_.head(e);return e.every(s=>_.isEqual(s,n))}const Or=(e,n)=>n.every(s=>s===e),wt=e=>{if(!(e instanceof HTMLDivElement))return!1;const{childElementCount:n,childNodes:s,children:r,firstChild:a,lastChild:o,firstElementChild:i,lastElementChild:l}=e;return!e.hasChildNodes()||!Or(1,[n,s.length,r.length])?!1:it(a,o,i,l,s.item(0),r.item(0))},Nt="mouseup",Rr=["ctrl","alt","shift","meta"].map(e=>`${e}.f11`);function ve({children:e,...n}){const s=N.useRef(null),{current:r}=s,a=O(u=>{if(!wt(u))return null;const c=u?.firstChild;return wt(c)?c:null}),o=O(Tn(u=>u instanceof HTMLDivElement&&!document.fullscreenElement?u.requestFullscreen({navigationUI:"hide"}).catch(Br):Promise.reject(u)));et(()=>{o.cancel?.(),o.clear?.()});const i=O(u=>{const c=a(r),{target:x,currentTarget:m}=u;if(!(!c||!it(r,x,m))){if(u instanceof MouseEvent){const{button:h,altKey:g,ctrlKey:v,metaKey:p,shiftKey:f,relatedTarget:j,type:d}=u;if(d===Nt&&h===0&&!g&&!v&&!p&&!f&&!j)return}return u.preventDefault(),o(c)}});qt(["contextmenu","dblclick","auxclick",Nt],i,{enable:!!r,target:r}),Jn(Rr,u=>{const c=a(r);return o(c)},{exactMatch:!0});const l=Yn();return tt(()=>{$e(()=>{r||l()})}),t.jsx(Me,{...n,ref:s,children:t.jsx(C,{elevation:24,children:e})})}const{isSafeInteger:Dt}=Number,{min:Wr,max:Vr}=Math,lt=([e,n])=>t.jsxs("div",{children:[t.jsx("span",{children:`${e}: `}),t.jsx("span",{className:se,children:n?.toString()})]},e),pn=({k:e,kInd:n,v:s,neighbor:r,color:a},o)=>t.jsxs(t.Fragment,{children:[a&&o&&!kn(o)?t.jsxs(t.Fragment,{children:[t.jsx("div",{children:t.jsxs("span",{className:se,children:["fetch ",o," result"]})}),t.jsx("br",{})]}):null,[["Vertex Name",`${e+n}`],["Maximum Cohesion",`${s}`],["Neighbors",`${r?.map(({k:i,kInd:l})=>`${i+l}`).join(", ")}`],["Vertex Degree",`${r?.length}`]].map(lt)]}),fn=(...e)=>Vs(pn(...e)),gn={trigger:"item",axisPointer:{type:"cross"},label:{show:!0}},xn=st({label:{show:!0},roam:!0}),bn={toolbox:{show:!0,feature:{saveAsImage:{},restore:{},dataView:{},dataZoom:{},magicType:{},brush:{}}}},We=st({show:!0,snap:!0}),vn={lineStyle:{shadowColor:"rgba(0,0,0,.5)",shadowBlur:10},scale:!0,label:{show:!0,fontSize:24,fontWeight:"bolder"},labelLine:{show:!0},itemStyle:{shadowColor:"rgba(0,0,0,.3)",shadowBlur:10}},Ve=(e,n,s,r=void 0,{max:a,min:o}=ut(e,un))=>{if(!e||!n)return{};const i=na(e,n),l=(_r-St)/(a-o),u=h=>(h-o)*l+St,c=_.uniq(n.map(({superWidth:h})=>h)),x=(()=>{if(_.isUndefined(_.head(c)))return h=>h;{const h=c,g=Wr(...h),v=Vr(...h),p=10,f=1,j=(p-f)/(v-g);return b=>(b-g)*j+f}})();return{...bn,tooltip:{},legend:{data:[H.U,H.V]},series:[{type:"graph",...xn,tooltip:{...gn,formatter(h,g,v){const{dataType:p,dataIndex:f,data:j}=h;if(p==="edge")return j.source+"<br/>"+j.target;const d=e[f];return d?fn(d,s):g}},categories:[{name:H.U,base:H.U},{name:H.V,base:H.V}],edgeLabel:{},data:e.map(h=>{const{k:g,kInd:v,graphX:p,graphY:f,v:j,color:d}=h,b=u(j);return{name:pe(h),value:j,category:g,symbolSize:b,x:p,y:f,...d?{itemStyle:{color:d}}:null}}),links:n?.map(({u:h,v:g,superWidth:v},p)=>{const f=i[p];return{source:`u${h}`,target:`v${g}`,lineStyle:{..._.isUndefined(v)?null:{width:x(v)},color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#5470c6"},{offset:1,color:"#91cc75"}],global:!1},...f?{color:i[p],width:4}:null},superWidth:v}}),lineStyle:{opacity:1,cap:"round",join:"round",shadowColor:"rgba(0,0,0,.3)",shadowBlur:5},itemStyle:{shadowColor:"rgba(0,0,0,.3)",shadowBlur:5},emphasis:{focus:"adjacency",...vn}}]}},Ur=e=>e?{itemStyle:{color:e,shadowColor:"rgba(0,0,0,.3)",shadowBlur:16},symbolSize:16,symbol:"circle"}:{},_n=st({[F["Maximum Biclique"]]:{s:"Minimum vertex count in U",t:"Minimum vertex count in V"},[F["Maximal Biclique Enumeration"]]:{s:"Minimum vertex count in U",t:"Minimum vertex count in V"},[F["(p,q)-biclique Counting"]]:{s:"Minimum vertex count in U",t:"Minimum vertex count in V"}});_.debounce(()=>{Ee.warn("result is empty")});const Ue=e=>`${jn.name}${e}`;function jn(e){const{dataArrWithPos:n,graphData:s,size:r,resultGraph:a,selectMode:o,useSetInputST:i,setTab:l,resultTable:u,setSize:c,isEditX:x,commonValueFromTableData:m,clickEChartDotToAddMultiDots:h,superData:g}=e,v=_.isUndefined(r),{dataArrWithPos:p,visualMapSection:f,sections:j}=N.useMemo(()=>{if(x){const{datas:M,visualMapSection:y,sections:P}=aa({...e});return{dataArrWithPos:M,visualMapSection:y,sections:P}}return{dataArrWithPos:n}},[n]),d=N.useMemo(()=>{if(p)return{...bn,dataZoom:[{type:"slider",xAxisIndex:0,filterMode:"none"},{type:"slider",yAxisIndex:0,filterMode:"none"},{type:"inside",xAxisIndex:0,filterMode:"none"},{type:"inside",yAxisIndex:0,filterMode:"none"}],tooltip:{...gn,formatter(M,y){if("dataIndex"in M){const P=p[M.dataIndex];if(P)return fn(P,o)}return y}},xAxis:{type:"category",data:p.map(pe),axisPointer:We},yAxis:{type:"value",axisPointer:We},series:[{...xn,data:p.map(({v:M,color:y})=>({value:M,...Ur(y)})),type:"line",emphasis:{focus:"self",...vn},symbolSize:8,...x&&!v&&f?{markLine:{symbol:["circle","circle"],data:[{yAxis:r}]},markArea:{animation:!0,data:f.map(({start:M,end:y,color:P},W)=>{const Q=p[M],J=p[y],ce=`${Q?.k}${Q?.kInd}~${J?.k}${J?.kInd}`,ue={color:P,opacity:.03},Se={show:!0,formatter:ce,position:"insideBottom",color:"#000"},ze={label:Se,itemStyle:{opacity:.05}};return[{itemStyle:ue,label:Se,xAxis:M,emphasis:ze},{itemStyle:ue,label:Se,xAxis:y,emphasis:ze}]})}}:null}],axisPointer:We,...x&&f?{visualMap:{pieces:f.map(({start:M,end:y,color:P})=>{const W=p[M],Q=p[y];return{min:M,max:y,color:P,label:`${W?.k}${W?.kInd}~${Q?.k}${Q?.kInd}`}}),dimension:0,show:!0,outOfRange:{color:"Gray",colorAlpha:.8},inverse:!0}}:null}},[p]),b=N.useMemo(()=>{if(!p)return;if(g){const{tableData:y,graphData:P}=g;if(y&&P){const W=cn(y,P,un);return Ve(W,P,o,void 0,m)}}return Ve(p,s,o,void 0,m)},[p,g]),w=N.useMemo(()=>{if(!v&&!a?.length){const M=_n[o];return{title:{text:`${o} result is empty`,subtext:`${_.map(i[0],(y,P)=>`${M?.[P]}: ${y}`).join(`
`)}`,left:"center",top:"center",textStyle:{fontSize:30,lineHeight:60},subtextStyle:{fontSize:20,lineHeight:40}}}}return Ve(u,a)},[a]),I=O(Mn({isEditX:x,setSize:c,size:r})),D=["dblclick","series",M=>{const{dataIndex:y,name:P,value:W}=M;Dt(y)&&P&&Dt(W)&&typeof W=="number"&&I({v:W})()}],$=["click","series",h],R=t.jsx(Re,{option:d,onParams:[D,$]}),z=t.jsx(Re,{option:b,onParams:[D,$]}),ge=t.jsx(Re,{option:w}),[le,ne]=te(["line","graph"]);return Zn(le),O((M,y)=>le.includes(y)?M:null),t.jsxs(t.Fragment,{children:[t.jsx(ve,{value:L.table,children:R},Ue(L.table)),t.jsx(ve,{value:L.graph,children:z},Ue(L.graph)),t.jsx(ve,{value:L.result,children:ge},Ue(L.result))]})}const{values:qr,freeze:ct,keys:Uo}=Object;var H=(e=>(e.U="u",e.V="v",e))(H||{});const Gr=ct({0:"u",1:"v"}),B=32,Hr=B/2,ut=(e,{svgWidth:n,svgHeight:s})=>{const r=e?.map(({v:g})=>g)??[],a=Math.min(...r),o=Math.max(...r),i=o-a,{length:l}=r,u=n-B*2,c=s-B*2,x=u/(l-1),m=c/i;return{valuesArr:r,min:a,max:o,diff:i,realHeight:c,xRadix:x,yRadix:m,length:l,getYPos:g=>B+(o-g)*m,svgWidth:n,svgHeight:s}},dt=ct({u:0,v:1}),Kr=Object.keys(dt).length,Xr=e=>e?{neighbor:e}:{},Et=(e,n,s,r)=>(e[n]||(e[n]=[])).push({k:s,kInd:r}),Sn=()=>({u:{},v:{}}),Jr=e=>{const n=Sn(),s=n.u,r=n.v;for(const a of e){const{u:o,v:i}=a;s&&r&&!_.isUndefined(o)&&!_.isUndefined(i)&&(Et(s,o,"v",i),Et(r,i,"u",o))}return n},yn=(e,n,{xRadix:s,getYPos:r,svgWidth:a,max:o,min:i},l)=>{if(!n||!e)return[];const u=Jr(n),c=a-B*2,x=_.groupBy(e,({k:p})=>p),m=_.mapValues(x,p=>c/(p.length-1)),h=(l-B*2)/(Kr-1),g=_.mapValues(x,p=>new Map(_.sortBy(p,({kInd:f})=>f).map(({kInd:f},j)=>[f,j])));return e?.map((p,f)=>{const{v:j,k:d,kInd:b}=p;return{...p,i:f,x:B+f*s,y:r(j),graphX:B+(g[d].get(b)??0)*m[d],graphY:B+dt[d]*h,...Xr(u?.[d][b])}})},je=ct(["more-highlight","highlight","no-highlight"]),Ze=_.last(je)??"",Cn=je.map(e=>_.camelCase(`is-${e}`)),{length:wn}=je,Yr=e=>1<<Cn.findIndex(s=>e[s]===!0)+1,Zr=(1<<wn)-1,Qr=e=>{for(let n=1;n<wn;n++)if(Ys(e,n)===1)return je[n-1]??Ze;return Ze},ea=e=>{const n=Cn.findIndex(s=>e?.[s]===!0);return je[n]??Ze},ta=e=>{if(e.includes(On)&&e.includes(Qe))return Qe;if(e.length!==1)return;const n=_.head(e);if(n)return n},Nn=e=>{const n=Sn();return _.isUndefined(e)||e.length===0?n:{...n,..._.mapValues(_.groupBy({...e},({k:s})=>s),s=>_.keyBy(s,({kInd:r})=>r))}},na=(e,n,s=Nn(e))=>!e||!n?[]:n?.map(r=>{const a=_.uniq(_.map(r,(o,i)=>s[i]?.[o]?.color));return ta(a)}),sa=({drawDotData:e,graphData:n})=>{const s=_.mapValues(_.groupBy(e,({k:r})=>r),r=>_.keyBy(r,({kInd:a})=>a));return n?.map(r=>{const a=qr(_.mapValues(r,(u,c)=>s[c]?.[u])),o=a.reduce((u,c,x,m)=>{const{pos:h,highlightLevelNum:g}=u;if(!c)return u;const{graphX:v,graphY:p,color:f}=c;return{pos:[...h,[v,p]],highlightLevelNum:g&Yr(c)}},{pos:[],highlightLevelNum:Zr,color:""}),{highlightLevelNum:i}=o,l=_.uniq(a.map(u=>u?.color?u.color:""));return{...o,highlightLevel:Qr(i),...l.length===1?{color:_.head(l)}:null}})},ie=e=>e.v,Dn=rt.length,ra=({isEditX:e,dataArrWithPos:n,commonValueFromTableData:{length:s},size:r})=>{if(!e)return n;const a=_.isNil(r);if(a)return n.map(c=>({...c,color:"",isHighlight:a?!1:c.v>=r}));const o=[];let i=0,l=_.head(n);if(!l)return n;let u=ie(l);for(let c=1;c<=s;c++){const x=[l];for(;c<s;c++){const m=n[c];if(!m)break;const h=ie(m);if(h>=r||h>=u)x.push(m),l=m,u=h;else{l=m,u=h;break}}o.push(...x.map(m=>({...m,color:rt[i%Dn]??""}))),i++}return o.map(c=>({...c,isHighlight:c.v>=r}))},aa=e=>{const{isEditX:n,dataArrWithPos:s,commonValueFromTableData:{length:r},size:a,colors:o=rt}=e;if(!n)return{datas:s,sections:[]};if(_.isNil(a))return{datas:s,sections:[]};const l=[];let u=0;const c=[],x=[],m=[],h=[];for(let g=0;g<r;g++){const v=s[g];if(!v)break;const p=ie(v),f=s[g+1],j=()=>{m.push(v),h.push(g)},d=()=>{if(p>=a){j();const w=o[u%Dn]??"";return c.push(m),x.push({start:_.head(h)??0,end:_.last(h)??0,color:w}),l.push(...m.map(I=>({...I,color:w}))),m.length=0,h.length=0,u++,1}else return l.push(v),0};if(!f){d();break}ie(f)>=a?j():d()}return{datas:l,sections:c,visualMapSection:x}},oa=({isEditX:e})=>n=>()=>{},En=e=>({title:pn(e),arrow:!0}),It=({clientWidth:e,clientHeight:n})=>{const s=e-B,r=n-B;return{svgWidth:e,svgHeight:n,xEnd:s,yEnd:r}},ia=e=>()=>{const{current:n}=e;return It(n||{clientWidth:innerWidth,clientHeight:innerHeight})},In=e=>classNames(E.g,E[ea(e)]),Mn=({isEditX:e,setSize:n,size:s})=>({dotData:r,v:a=r?.v})=>()=>{e&&n?.(a===s?void 0:a)},Tn=e=>js(_.debounce(qs(e,0))),kn=e=>e===F["Hierarchical Subgraphs Search"],la="_title_1tlbs_1",ca="_Paper_1tlbs_5",ua="_Input_1tlbs_8",da="_TextField_1tlbs_14",re={title:la,Paper:ca,Input:ua,"input-file":"_input-file_1tlbs_11",TextField:da,"TextField-Paper":"_TextField-Paper_1tlbs_20","TextField-Paper-input":"_TextField-Paper-input_1tlbs_23","FileInfo-Button":"_FileInfo-Button_1tlbs_26"},ha="_Dialog_c2d28_1",ma="_title_c2d28_4",pa="_Paper_c2d28_7",fa="_FileUploadTeam_c2d28_11",ae={Dialog:ha,title:ma,Paper:pa,FileUploadTeam:fa};function ga(e){const{fileInfo:n}=e,{name:s,size:r,lastModified:a,type:o,downloadUrl:i}=n;return s?t.jsxs(t.Fragment,{children:[t.jsx(oe,{}),t.jsx(C,{elevation:24,className:ae.Paper??"",children:t.jsxs("fieldset",{children:[s?t.jsx("legend",{children:t.jsx(De,{href:i,title:"preview",target:"_blank",underline:"hover",children:s})}):null,s&&r?t.jsxs("p",{children:[" Content Length: ",filesize(r)]}):null,a?t.jsxs("p",{children:[" Last Modified: ",new Date(a).toJSON()]}):null,o?t.jsxs("p",{children:[" Content Type: ",o]}):null,t.jsxs(C,{elevation:0,className:ae["FileInfo-Button"]??"",children:[t.jsx(De,{href:i,target:"_blank",underline:"hover",children:t.jsxs(X,{variant:"outlined",children:[t.jsx(Ss,{}),"preview"]})}),t.jsxs(X,{variant:"outlined",onClick:()=>{const l=document.createElement("a");l.href=i??"",l.download=s,l.click()},children:[t.jsx(ys,{}),"download"]})]})]})})]}):null}const xa="_examples_141yp_1",ba={examples:xa};function va(e){const{defaultTxt:n,chooseExample:s}=e,[r,a,o]=Gt(null);return t.jsxs(C,{elevation:24,className:ba.examples??"",children:[t.jsx(q,{title:"No suitable data? Click here to try these.",arrow:!0,children:t.jsxs(X,{size:"large",fullWidth:!0,onClick:i=>{a(i.currentTarget)},children:["> ",t.jsx(De,{component:"button",children:"Examples"})]})}),t.jsx(Cs,{open:!!r,anchorEl:r,onClose:()=>{o()},children:t.jsx(ws,{children:n.map((i,l)=>t.jsx(q,{arrow:!0,title:`Example ${l+1}`,placement:"right",children:t.jsx(Ns,{disablePadding:!0,children:t.jsx(Ds,{onClick:()=>{s(i),o()},children:t.jsx(De,{component:"button",underline:"hover",children:i})},i)})},i))})})]})}const{revokeObjectURL:_a,createObjectURL:ja}=URL,{freeze:Sa}=Object,{error:Ie}=console,ya={lastModified:0,name:"",size:0,type:"",downloadUrl:""},Pn=e=>{e&&_a(e)},Ca=e=>n=>{if(n){const s=Pn.bind(null,e);n.addEventListener("beforeunload",s),n.addEventListener("unload",s)}},ht=e=>{const n=ja(e);return $e(()=>{const s=Ca(n);s(window??self??globalThis??void 0),s(document);const{documentElement:r,body:a,head:o,scrollingElement:i,firstElementChild:l,lastElementChild:u,activeElement:c,firstChild:x,lastChild:m,doctype:h,defaultView:g}=document;s(o),s(a),s(r),s(c),s(l),s(u),s(i),s(m),s(h),s(g),s(x)}),n},mt=Sa({DBname:"HJX",storeName:"HXJ"}),wa=e=>({...e,fileInfo:{...e.fileInfo,downloadUrl:ht(new Blob([e.fileData]))}}),Fn=e=>ln(e).then(wa).catch(()=>fetch(e).then(async n=>{const{headers:s}=n,r=await n.text(),a=ht(new Blob([r])),o={fileInfo:{lastModified:Date.parse(s.get("last-modified")??""),name:e,size:parseInt(s.get("content-length")??""),type:s.get("content-type")??"",downloadUrl:a},fileData:r};return at({...mt,IDBValidKey:e,data:o}),o},Ie)).catch(Ie);function Na(e){const{parseData:n,setWillPatchData:s,defaultTxt:r,title:a}=e,[o,i]=te(""),[l,u]=Ht(ya);et(()=>{Pn(l.downloadUrl)});const c=O((m,h)=>{s({fileName:h.match(/[^\/]+$/)?.[0]??h,data:m})}),x=O(m=>Fn(m).then(h=>{if(h){const{fileInfo:g,fileData:v}=h,p=n(v);if(p.length===0){Ee.error("The file format is incorrect!");return}u(g),c(p,m)}},Ie).catch(Ie));return t.jsx(t.Fragment,{children:t.jsxs(C,{elevation:24,children:[t.jsx("h4",{className:re.title,children:a}),t.jsxs(C,{elevation:24,className:classNames(re.Paper,re.Input),children:[t.jsxs(X,{component:"label",variant:"contained",startIcon:t.jsx(Es,{}),fullWidth:!0,title:"Upload File",children:["Upload File",t.jsx("input",{type:"file",className:re["input-file"],onChange:m=>Pe.unstable_batchedUpdates(()=>{const h=m.target.files?.[0];if(!h){alert("some error occur");return}const g=new FileReader;g.readAsText(h),g.onload=v=>{const p=v.target?.result||g.result;if(typeof p=="string")try{const{name:f,lastModified:j,size:d,type:b}=h;c(n(p),f);const w=ht(h);u({...l,name:f,lastModified:j,size:d,type:b,downloadUrl:w});const I={fileInfo:{...l,name:f,lastModified:j,size:d,type:b,downloadUrl:w},fileData:p};at({...mt,IDBValidKey:f,data:I})}catch{alert("some error occur")}}}),accept:".txt"})]}),t.jsx(oe,{orientation:"vertical",variant:"fullWidth",flexItem:!0,children:t.jsx(Kt,{label:"OR"})}),t.jsxs(C,{elevation:24,className:re.TextField??"",children:[t.jsxs(C,{elevation:24,className:re["TextField-Paper"]??"",children:[t.jsx(Te,{label:"Please input URL",onChange:m=>{i(m.target.value)},value:o,fullWidth:!0,placeholder:"Please input URL",title:"Please input URL",className:re["TextField-Paper-input"]??""}),t.jsx(X,{size:"large",variant:"contained",disabled:!o,onClick:()=>x(o),children:"Fetch"})]}),t.jsx(va,{defaultTxt:r,chooseExample:m=>{i(()=>(x(m),m))}})]})]}),t.jsx(ga,{fileInfo:l})]})})}const{isSafeInteger:qe}=Number;function Mt(e){const n=e.split(`
`),s=[];let r=0,a;const{length:o}=n;for(;r<o;)if(n[r]?.startsWith("No.")){r++;const i=n[r++],l=n[r++],u=n[r++];let c;r<o&&n[r]?.startsWith("count:")&&(c=n[r++]);const x=i?.match(/size=(\d+)/)?.[1];if(!x)throw new Error("Invalid size format");const m=parseInt(x,10);if(!qe(m)||m<=0)throw new Error("Size must be a positive integer");const h=l?.match(/U: (\d+(?: \d+)*)/);if(!h)throw new Error("Invalid U format");const g=h[1]?.split(" ").map(Number)??[];if(g?.some(isNaN)||g?.some(d=>d<=0))throw new Error("U values must be positive integers");const v=u?.match(/V: (\d+(?: \d+)*)/);if(!v)throw new Error("Invalid V format");const p=v[1]?.split(" ").map(Number)??[];if(p?.some(isNaN)||p?.some(d=>d<=0))throw new Error("V values must be positive integers");let f;if(c){const d=c.match(/count: (\d+)/)?.[1];if(!d)throw new Error("Invalid count format");if(f=parseInt(d,10),!qe(f)||f<=0)throw new Error("Count must be a positive integer")}const j={size:m,[H.U]:g,[H.V]:p,label:`Rank ${s.length+1}`,...f?{count:f}:null};s.push(j)}else if(n[r]?.startsWith("The number of ")){const i=n[r+1];if(!i)throw new Error("The number of (\\d,\\d)-bicliques not has next line");const l=parseInt(i,10);if(!qe(l)||l<=0)throw new Error("The number of (\\d,\\d)-bicliques must be a positive integer");a=l;break}else r++;return{dataArr:s,..._.isUndefined(a)?{}:{count:a}}}const{error:Tt}=console,{isSafeInteger:Da}=Number,kt="http://47.99.129.94",Pt=(e,n)=>{const r=n.exec(e)?.[1]?.trim();return r?r.split(/\s+/).map(a=>{const o=parseInt(a);return Da(o)?o:0}):[]},Ea=e=>{const r=/size=(\d+)/.exec(e)?.[1],a=r?parseInt(r,10):0,o=Pt(e,/U:\s+([\d\s]+)/),i=Pt(e,/V:\s+([\d\s]+)/);return{size:a,u:o,v:i,label:"Rank 1"}},Ia=e=>({[F["Maximum Biclique"]]:{dataArr:[Ea(e)]},[F["Maximal Biclique Enumeration"]]:Mt(e),[F["(p,q)-biclique Counting"]]:Mt(e)}),Ma=async(e,n,s)=>{const r="/api/BCviz/v3",a=`${r}?${new URLSearchParams({...s,problem:ot[e]})}`,o=await ln(a).catch(()=>axios.get(r,{responseType:"text",params:s}).then(i=>{const{data:l}=i,u={...Ia(l)[e],...s};return at({...mt,data:u,IDBValidKey:a}),u},i=>{throw Tt(i),new Error(i)})).catch(i=>{throw Tt(i),new Error(i)});return{...n,...o?{[e]:o}:null}},Ft=Object.freeze({loadingDelay:300,throttleWait:300,debounceWait:300,debounceLeading:!0}),Ta="_Tool_17xe8_7",ka="_IconButton_17xe8_10",Pa="_triangle_17xe8_15",Fa="_rotate_17xe8_25",Ne={"Main-Side":"_Main-Side_17xe8_1",Tool:Ta,IconButton:ka,triangle:Pa,rotate:Fa},$t=["225deg","45deg"];function zt(e){const{buttonOrder:n=0,children:s,...r}=e,[a,{toggle:o}]=_e(!0);return s?t.jsxs(C,{className:Ne["Main-Side"]??"",elevation:24,...r,children:[t.jsx(q,{title:`${a?"collapse":"expand"} toolbar`,arrow:!0,children:t.jsx(Xt,{size:"large",className:Ne.IconButton??"",onClick:()=>{o(),$e(()=>{Lr(Ar)})},style:{"--order":n,"--initRotate":$t[n],"--clickRotate":$t[1-n]},children:t.jsx("div",{className:classNames(Ne.triangle,{[Ne.rotate??""]:a})})})}),t.jsx(Is,{in:a,orientation:"horizontal",children:s})]}):null}const{error:$n}=console,{from:Lt,isArray:qo}=Array,{freeze:$a}=Object,{isSafeInteger:fe}=Number,zn=e=>{const n=e.trim().split(`
`),s=[];for(const r of n){const[a,o,i]=r.trim().split(/[ \t]/),l=parseInt(o),u=parseInt(i);if(!fe(l)||!fe(u))return[];s.push({k:Gr[a],kInd:l,v:u})}return s},za=(e,n)=>{const[s,r]=e.trim().split(/[ \t]/),a=parseInt(s),o=parseInt(r);!fe(a)||!fe(o)||n.push({[H.U]:a,[H.V]:o})},La=(e,n)=>{const[s,r,a]=e.trim().split(/[ \t]/),o=parseInt(s),i=parseInt(r),l=parseInt(a);!fe(o)||!fe(i)||n.push({[H.U]:o,[H.V]:i,superWidth:l})},Aa=(e,n=za)=>{const s=e.trim().split(`
`),r=[];for(const a of s)n(a,r);return r},Ba=(e,n=La)=>{const s=e.trim().split(`
`),r=[];for(const a of s)n(a,r);return r},At=["dataset","BCviz_file"],Bt=$a([{title:"Bipartite Subgraph",parseData:Aa,defaultTxt:["example.txt","writer.txt","marvel.txt"]},{title:"Maximum Cohesion",parseData:zn,defaultTxt:["example_cohesion.txt","writer_cohesion.txt","marvel_cohesion.txt"]}]),Ge=(e="searchParams is not enough")=>{throw $n(e),new Error(e)};function Oa(e){const{setDatas:n,setFileNames:s}=e,[r,{setTrue:a,setFalse:o}]=_e(!1),{list:i,resetList:l,replace:u}=Qn(),c=O(d=>b=>u(d,b)),x=O(()=>l([])),[m,h]=Gs(),{arrEntries:g,arrKeys:v}=N.useMemo(()=>{const d=Lt(m.entries()),b=d.map(([w])=>w);return{arrEntries:d,arrKeys:b}},[m]),p=N.useMemo(()=>{const{length:d}=n;return!(m.size<d||_.uniq(v).filter(b=>At.includes(b)).length!==d)},[m]),f=O(()=>{a(),h()});tt(()=>{if(!p){f();return}const d=g.map(([,b])=>b);Promise.all(d.map(b=>Fn(b))).then(b=>{At.map((w,I)=>{const D=v.indexOf(w),$=b[D]?.fileData,R=d[D];if(!$||!R)return Ge();const z=Bt[I]?.parseData($);return z?.length?{parseData:z,fileName:R}:Ge("parse error")}).forEach(({parseData:w,fileName:I},D)=>{const $=n[D],R=s[D];if(!R||!$)return Ge();$(w),R(I)})}).catch(b=>{$n(b),f()})}),me(()=>{r||x()},[r]);const j=i.length===n.length&&Lt(i).every(Boolean);return t.jsxs(t.Fragment,{children:[t.jsx(X,{size:"large",variant:"contained",onClick:a,fullWidth:!0,children:"New Graph"}),t.jsxs(Jt,{onClose:d=>{p&&o()},className:ae.Dialog??"",open:r,children:[t.jsx(C,{elevation:24,className:ae.title??"",children:t.jsx("h3",{children:"New Graph"})},"title"),t.jsx(C,{elevation:24,className:classNames(ae.Paper,ae.FileUploadTeam),children:Bt.map((d,b)=>N.createElement(Na,{setWillPatchData:c(b),...d,key:b}))},"upload"),t.jsx(oe,{}),t.jsx(C,{elevation:24,className:ae.Paper??"",children:t.jsx(X,{size:"large",variant:"contained",fullWidth:!0,disabled:!j,onClick:()=>Pe.unstable_batchedUpdates(()=>{if(j){const[d,b]=i.map(({fileName:w})=>w);if(!d||!b)return;i.forEach(({fileName:w,data:I},D)=>{n[D]?.(I),s[D]?.(w)}),h({dataset:d,BCviz_file:b},{replace:!0,preventScrollReset:!1,flushSync:!1,viewTransition:!0}),o()}}),children:"Comfirm"})},"confirm"),t.jsx(an,{})]})]})}const Ra="_Tool_tgrdm_1",He={Tool:Ra,"x-line-mode":"_x-line-mode_tgrdm_7","x-line-mode-label":"_x-line-mode-label_tgrdm_10"};function Wa(e){const{toggleIsEditX:n=()=>{},isEditX:s,className:r,setDatas:a,setFileNames:o}=e,{pathname:i}=Ks();return t.jsxs(C,{elevation:24,className:classNames(He.Tool,r),children:[t.jsx(Oa,{setDatas:a,setFileNames:o}),i===Rn.old?t.jsx(X,{variant:"outlined",className:He["x-line-mode"]??"",fullWidth:!0,children:t.jsx(Ms,{className:He["x-line-mode-label"]??"",onChange:n,control:t.jsx(Yt,{checked:s}),label:"Edit Mode"})}):null]})}const{isSafeInteger:Va}=Number;function Ot({useSetInputST:[e,n],k:s,label:r=""}){const a=O(o=>n({[s]:o}));return t.jsxs(ke,{fullWidth:!0,children:[t.jsx(Te,{fullWidth:!0,placeholder:r,label:r,type:"number",title:s,value:e[s],required:!0,onChange:o=>{const{value:i}=o.target;if(!i){a(i);return}const l=parseInt(i),u=Number(i),c=+i;it(l,u,c)&&Va(l)&&l>=0&&a(l.toString())},inputProps:{min:0,inputMode:"numeric",pattern:"^(0|[1-9]d*)$"},spellCheck:!0,autoCapitalize:"on",enterKeyHint:"next",translate:"yes",unselectable:"on",inputMode:"numeric"}),t.jsx(Ts,{})]})}const Ua="_Input_1qdq0_1",qa={Input:Ua};function Ln({children:e,autoFocus:n,tabIndex:s,className:r,style:a,...o}){return t.jsx(nt,{...o,..._.omitBy({autoFocus:n,tabIndex:s,className:r,style:a},_.isUndefined),children:e})}const An=({InputLabelProps:e,...n})=>t.jsx(Te,{...n,size:"medium",InputLabelProps:{...e,className:e?.className??"",style:e?.style??{}}});function Ke(e){const{useSetInputST:n,modeKey:s,useGetFromST:r,fileNames:a,setTabToResult:o,dataArrWithPos:i,useMultiDots:[l,u]}=e,{data:c,loading:x,runAsync:m}=r,[h,g]=n,{s:v="",t:p=""}=_n[s]??{};return t.jsx(Me,{value:s,className:k.TabPanel??"",children:t.jsxs(C,{elevation:24,className:qa.Input??"",children:[t.jsx(Ot,{useSetInputST:n,k:"s",label:v}),t.jsx(Ot,{useSetInputST:n,k:"t",label:p}),t.jsx(Zt,{value:l??[],onChange:(f,j)=>{u(j)},multiple:!0,options:i,getOptionLabel:pe,renderOption:(f,j,{selected:d})=>t.jsxs(Ln,{...f,children:[t.jsx(Yt,{icon:t.jsx(ks,{fontSize:"large"}),checkedIcon:t.jsx(Ps,{fontSize:"large"}),checked:d}),pe(j)]}),renderInput:f=>t.jsx(An,{...f,label:"Choose Vertices",placeholder:"Choose Vertices"}),disableCloseOnSelect:!0,autoComplete:!0,autoCapitalize:"words",autoFocus:!0,autoHighlight:!0,clearOnBlur:!0,clearOnEscape:!0,fullWidth:!0,handleHomeEndKeys:!0,includeInputInList:!0,openOnFocus:!0,selectOnFocus:!0,disableClearable:!1,disabledItemsFocusable:!1,disableListWrap:!1,disablePortal:!1,filterSelectedOptions:!1,freeSolo:!1}),t.jsxs(Fs,{disabled:_.some(h,f=>f===""),variant:"contained",size:"large",onClick:()=>Pe.unstable_batchedUpdates(async()=>{await m(s,c,{...a,problem_type:ot[s],...h,vertices:JSON.stringify(l?.map(({k:f,kInd:j})=>[dt[f],j]))}).then(f=>(Ee.success(`fetch ${s} success`),o(),f),()=>{Ee.error(`fetch ${s} fail`)})}),children:["Fetch ",s]})]})})}function Ga(){return navigator.language}function Ha(){return navigator.languages[0]}function Ka(){return new Intl.DateTimeFormat().resolvedOptions().locale}function Xa(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}const Ja=()=>Ga()==="zh-CN"&&Ha()==="zh-CN"&&Ka()==="zh-CN"&&Xa()==="Asia/Shanghai"&&new Date().getTimezoneOffset()===-480&&new Intl.DateTimeFormat().resolvedOptions().timeZone==="Asia/Shanghai",Ya=N.forwardRef(e=>{const{viewBox:n,graphLine:s,drawDotData:r,clickCircle:a,doubleClickCircle:o}=e;return t.jsxs("svg",{viewBox:n,className:E["graph-svg"],children:[s?.map(({pos:i,highlightLevel:l,color:u},c)=>t.jsx("polyline",{points:i.map(([x,m])=>`${x},${m}`).join(" "),fill:"none",stroke:"black",className:classNames(E.line,E[l]),style:{"--color":u}},c)),r.map(i=>{const{k:l,kInd:u,v:c,graphX:x,graphY:m,color:h}=i,g=pe(i);return t.jsx(t.Fragment,{children:t.jsx(q,{...En(i),children:t.jsxs("g",{onDoubleClick:o({dotData:i}),onClick:a(i),className:In(i),style:{"--color":h},children:[t.jsx("circle",{cx:x,cy:m,className:E.circle}),t.jsx("text",{x,y:m,className:E.text,children:g})]},x)})})})]})});function Rt(e){const{isEditX:n,xEnd:s,onClick:r=()=>{},dotData:{y:a,v:o},className:i=""}=e;return n?t.jsx(t.Fragment,{children:t.jsx("line",{x1:B,x2:s,y1:a,y2:a,className:classNames(E["hover-x"],i),onClick:r})}):null}const Za=N.forwardRef(e=>{const{viewBox:n,drawDotData:s,clickCircle:r,doubleClickCircle:a,svgRef:o,isEditX:i,commonValueFromTableData:{valuesArr:l,xRadix:u,length:c,getYPos:x,svgHeight:m},svgSize:h,size:g}=e,{xEnd:v=0,yEnd:p=0}=h,f=N.useMemo(()=>_.sortBy(_.uniq(l)).map(d=>({v:d,yPos:x(d)})),[s]),j=N.useMemo(()=>{let d=_.head(s);if(!d)return[];let b=ie(d);const w=[];for(let I=1;I<c;I++){let D=s[I];if(!D)break;let $=ie(D),R=$-b;const{x:z=0,y:ge=0}=d,le=[z,ge];for(;I<c;I++){const ne=s[I+1];if(ne){const W=ie(ne);if(W-$===R){D=ne,$=W;continue}}const{x:M=0,y=0}=D,P=[M,y];w.push([le,P]);break}d=D,b=$}return w},[s]);return t.jsxs("svg",{viewBox:n,ref:o,className:E.svg,style:{"--stroke-dasharray":u},children:[t.jsx("line",{x1:B,y1:p,x2:v,y2:p,className:E["coordinate-axis-x"]}),"  ",t.jsx("line",{x1:B,y1:B,x2:B,y2:p,className:E["coordinate-axis-y"]}),"  ",f.map(({v:d,yPos:b})=>t.jsxs("g",{className:E.g,onClick:a({v:d}),children:[t.jsx("text",{x:Hr,y:b,className:E["axis-text"],children:d}),t.jsx(Rt,{xEnd:v,isEditX:i,className:classNames({[E["hover-click-line"]??""]:d===g}),dotData:{v:d,y:b}})]})),j.map(([[d,b],[w,I]])=>t.jsx(t.Fragment,{children:t.jsx("line",{x1:d,y1:b,x2:w,y2:I,className:E.line})})),s.map(d=>{const{k:b,v:w,kInd:I,x:D,y:$,color:R}=d,z=En(d);return t.jsx(t.Fragment,{children:t.jsxs("g",{className:In(d),onClick:r(d),onDoubleClick:a({dotData:d}),style:{"--color":R},children:[t.jsx(q,{...z,children:t.jsx("text",{x:D,y:m,className:E.text,children:pe(d)})}),i?t.jsx(t.Fragment,{children:t.jsx("line",{x1:D,x2:D,y1:$,y2:p,className:E["hover-y"]})}):null,t.jsx(q,{...z,children:t.jsx("circle",{cx:D,cy:$,className:E.circle})}),t.jsx(Rt,{xEnd:v,dotData:d,isEditX:i,onClick:a({dotData:d}),className:classNames({[E["hover-x--no-show"]??""]:w===g})})]})})})]})});function Qa(){const[e,n]=te(),[s,r]=te([]),a=N.useRef(null),o=N.useMemo(ia(a),[a.current]),i=N.useMemo(()=>ut(e,o),[e,o]);return{tableData:e,setTableData:n,graphData:s,setGraphData:r,svgRef:a,svgSize:o,commonValueFromTableData:i}}const eo=e=>({clickCircle:O(oa(e))}),Xe=e=>`${Bn.name}${e}`;function Bn(e){const{dataArrWithPos:n,graphData:s,svgSize:r,setSize:a=()=>{},isEditX:o,size:i}=e,l=N.useMemo(()=>ra({...e,size:i}),[i,n]),{svgWidth:u=0,svgHeight:c=0}=r,x=c,m=N.useMemo(()=>sa({drawDotData:l,graphData:s}),[l]),{clickCircle:h}=eo({...e,setSize:a,size:i}),g=O(Mn({isEditX:o,setSize:a,size:i,drawDotData:l})),v={...e,drawDotData:l,clickCircle:h,doubleClickCircle:g,graphLine:m,size:i};return t.jsxs(t.Fragment,{children:[t.jsx(ve,{value:L.table,children:t.jsx(Za,{...v,viewBox:[0,0,u,x].join(" ")})},Xe(L.table)),t.jsx(ve,{value:L.graph,children:t.jsx(Ya,{...v,viewBox:[0,0,u,c].join(" ")})},Xe(L.graph)),t.jsx(Me,{value:L.result},Xe(L.result))]})}const to="_Dialog_1fpbd_1",no="_title_1fpbd_4",so="_Paper_1fpbd_7",ro="_Fab_1fpbd_11",he={Dialog:to,title:no,Paper:so,Fab:ro},ao=({renderingEngine:e})=>{switch(e){case"SVG Engine":return t.jsx(t.Fragment,{children:"It is unstable! Suitable for small data volumes, few functions are available, and performance is low."});case"ECharts Engine":return t.jsx(t.Fragment,{children:"Suitable for large data volumes. With many available functions and high performance."})}};function oo(e){const{setSelectEngine:n,selectEngine:s}=e,[r,{setTrue:a,setFalse:o}]=_e(!1);return t.jsxs(t.Fragment,{children:[t.jsx($s,{size:"large",onClick:a,title:"settings",className:he.Fab??"",children:t.jsx(q,{title:"settings",arrow:!0,children:t.jsx(Xt,{size:"large",children:t.jsx(zs,{fontSize:"large"})})})}),t.jsxs(Jt,{onClose:o,className:he.Dialog??"",open:r,children:[t.jsx(C,{elevation:24,className:he.title??"",children:t.jsx("h3",{children:"Settings"})},"title"),t.jsx(oe,{}),t.jsx(C,{elevation:24,className:classNames(he.Paper),children:t.jsxs(ke,{fullWidth:!0,children:[t.jsx(q,{arrow:!0,title:"Select Rendering Engine",placement:"top",children:t.jsx(Qt,{children:"Select Rendering Engine"})}),t.jsx(en,{fullWidth:!0,label:"Select Rendering Engine",defaultValue:"ECharts Engine",onChange:i=>{const l=i.target.value;l==="SVG Engine"&&!confirm("SVG is very unstable! Are you sure you want to switch to it?")||n(l)},value:s,children:["ECharts Engine","SVG Engine"].map(i=>t.jsx(nt,{value:i,children:t.jsx(q,{arrow:!0,placement:"right",title:t.jsx(ao,{renderingEngine:i}),children:t.jsx("div",{children:i})})},i))})]})},"content"),t.jsx(oe,{}),t.jsx(C,{elevation:24,className:classNames(he.Paper),children:t.jsx(X,{size:"large",variant:"contained",fullWidth:!0,color:"warning",onClick:()=>{confirm("Are you sure you want to clear the cache?")&&hr().then(()=>{alert("Clear Success!")},()=>{alert("Clear Fail!")})},children:"Clear Cache"})},"content"),t.jsx(oe,{}),t.jsx(C,{elevation:24,className:he.Paper??"",children:t.jsx(X,{size:"large",variant:"contained",fullWidth:!0,onClick:o,startIcon:t.jsx(Ls,{fontSize:"large"}),children:"Back"})},"back")]})]})}const io="_Form_3js51_1",lo={Form:io},{isSafeInteger:co}=Number;function uo(e){const{setSize:n,value:s,max:r}=e,[a,o]=te(s);me(()=>{o(s)},[s]);const i=_.isUndefined(a),l=!i&&(a<0||a>r);return t.jsxs(t.Fragment,{children:[t.jsx("p",{children:"Please double-click the dot on the Cohesion."}),t.jsx(oe,{variant:"fullWidth",flexItem:!0,children:t.jsx(Kt,{label:"OR"})}),t.jsxs(C,{elevation:24,className:lo.Form??"",children:[t.jsx(ke,{fullWidth:!0,children:t.jsx(Te,{fullWidth:!0,placeholder:"Input Size",label:"Input Size",type:"search",title:"Input Size",value:a,inputProps:{min:0,max:r,inputMode:"numeric",pattern:"^(0|[1-9]d*)$"},spellCheck:!0,autoCapitalize:"on",enterKeyHint:"next",translate:"yes",unselectable:"on",inputMode:"numeric",onChange:u=>Pe.unstable_batchedUpdates(()=>{const{value:c}=u.target;if(!c)o(void 0);else{const x=parseInt(c);co(x)&&o(x)}}),error:l,...l?{helperText:`Size is not in the right range(0 ~ ${r}).`}:null})}),t.jsx(q,{arrow:!0,title:i?"Set size to undefined":`${F["Hierarchical Subgraphs Search"]} with size is ${a}`,children:t.jsx(X,{fullWidth:!0,variant:"contained",size:"large",onClick:()=>{n(a)},disabled:l,children:"Search"})})]})]})}const ho=()=>Promise.all([fetch("writer.supervertex"),fetch("writer.superedge")]).then(e=>e.map(n=>n.text())).then(e=>Promise.all(e)).then(([e,n])=>!e||!n?{}:{tableData:zn(e),graphData:Ba(n)}),Qe="tan",On="red",{isSafeInteger:Wt}=Number,{entries:Vt,freeze:Go,values:Ho,keys:Ko,fromEntries:Xo}=Object;if(pr){const{from:e}=Array,n=console.error;console.error=function(s){typeof s=="string"&&(s.startsWith('Warning: Each child in a list should have a unique "key" prop.')||s.startsWith("Warning: validateDOMNesting(...): %s cannot appear as a descendant of <%s>.%s"))||n.apply(console,e(arguments))}}var Rn=(e=>(e.old="/old",e.new="/new",e))(Rn||{});const mo=(e,n)=>!_.isUndefined(e)&&e>=n,Ut=({title:e,detail:n})=>_.isUndefined(n)?null:t.jsxs(tn,{className:E.Accordion??"",defaultExpanded:!0,children:[t.jsx(nn,{expandIcon:t.jsx(sn,{}),className:E["Accordion-Summary"]??"",children:t.jsx("span",{className:classNames(se,k["Main-Right--Show--Text"]),children:e})}),t.jsx(rn,{className:E["Accordion-Details"]??"",children:t.jsx("p",{className:k["Main-Right--Show--Text"],children:n})})]},e),pt=36;N.createContext({});function po(){tt(()=>{const{origin:S,protocol:T,hash:A}=location;if(!sessionStorage.hjx&&Je&&S!==kt&&T==="https:"&&Ja()){const V=kt+A;confirm(`后端服务已上线，点击“确认”跳转.${V}`)?location.href=V:sessionStorage.setItem("hjx","hxj")}}),qt("beforeunload",S=>{if(Je&&(Y||r)){S.preventDefault();const T="You have unsaved changes. Are you sure you want to leave?";return S.returnValue=T,T}});const[e]=_e(!1),{tableData:n,setTableData:s,graphData:r,setGraphData:a,svgSize:o,commonValueFromTableData:i,svgRef:l}=Qa(),{data:u,runAsync:c,mutate:x}=xt(ho,{...Ft,manual:!0});me(()=>{I(void 0),n&&(n.length>pt?c():x(void 0))},[n]),me(()=>{},[n]);const{svgWidth:m=0,svgHeight:h=0}=o,[g="",v]=bt("dataset",{defaultValue:""}),[p="",f]=bt("BCviz_file",{defaultValue:""}),j={dataset:g,BCviz_file:p},d=xt(Ma,{...Ft,manual:!0,staleTime:-1,cacheTime:-1}),{data:b,loading:w,mutate:I}=d,D=Ht({s:"",t:""}),[$,R]=te(L.table),[z,ge,le]=Gt(F["Maximum Biclique"]),[ne,M]=te("ECharts Engine"),y=N.useMemo(()=>kn(z),[z]),[P,W]=te(0),Q=te([]),[J,ce]=Q,[ue,{set:Se,setTrue:ze,setFalse:bo}]=_e(!0),Y=N.useMemo(()=>yt(ue,n),[n,ue]),{size:de,UV:ee,dataThisMode:vo,dataArr:xe,selectShowData:ft,count:Wn,numOfData:ye,params:Ce}=N.useMemo(()=>{const S=b?.[z];if(!S)return{};const{count:T,dataArr:A,...V}=S,G=A?.[P];if(!G)return{};const{size:Z,count:K,label:gt,...be}=G;return y?{size:Z}:{size:Z,UV:be,dataThisMode:S,dataArr:A,selectShowData:G,count:K,numOfData:T,params:V}},[b,z,P,Y]),Vn=ne==="ECharts Engine",Le=_.isUndefined(de),Ae=O(S=>{I({...b,[F["Hierarchical Subgraphs Search"]]:{dataArr:[{size:S}]}})});me(()=>{R(L.table),le()},[Y,ne]),me(()=>{ce([])},[Y]);const we=N.useMemo(()=>{const S=yn(Y,r,i,h);if(y)return S;const T=ee?S?.map(V=>{const{k:G,kInd:Z}=V,K=ee[G]?.includes(Z)?Qe:void 0;return{...V,...K?{color:K}:null}}):S;return vr(T,J)},[i,ee,z,de,J]),{resultGraph:Un,resultTable:qn}=N.useMemo(()=>{if(!ee)return{};const S=r.filter(G=>_.every(G,(Z,K)=>ee[K]?.includes(Z)??!1)),T=y?we.filter(({color:G})=>G):Y.filter(({k:G,kInd:Z})=>ee[G]?.includes(Z)),A=yt(ue,T),V=cn(A,S,{svgWidth:m,svgHeight:h});return{resultGraph:S,resultTable:V}},[ee,r,Y]),Gn=O(()=>{}),Be={useSetInputST:D,useGetFromST:d,fileNames:j,setTabToResult:Gn,dataArrWithPos:Y??[],useMultiDots:Q},Hn=O(S=>{const{dataIndex:T,name:A,value:V}=S;if(!y&&Wt(T)&&A&&Wt(V)&&typeof V=="number"){const G=A[0],Z=parseInt(A.slice(1));if(!Y)return;const K=Y.find(({k:be,kInd:Kn})=>be===G&&Kn===Z);if(!K)return;if(!J||J.length===0){ce([K]);return}const gt=J.includes(K);ce(gt?J.filter(be=>be!==K):[...J,K])}});return t.jsxs(t.Fragment,{children:[t.jsxs(C,{className:k.Main??"",elevation:24,children:[t.jsx(oo,{setSelectEngine:M,selectEngine:ne}),t.jsx(zt,{children:t.jsxs(C,{elevation:24,className:k["Main-Left"]??"",children:[t.jsx(Wa,{setDatas:[a,s],setFileNames:[v,f],className:k.Tool}),null,t.jsx(C,{elevation:24,className:k.Select??"",children:t.jsxs(ke,{fullWidth:!0,children:[t.jsx(Qt,{children:"Select Mode"}),t.jsx(en,{value:z,onChange:S=>{ge(S.target.value)},label:"Select Mode",fullWidth:!0,children:[F["Maximum Biclique"],F["Maximal Biclique Enumeration"],F["(p,q)-biclique Counting"],F["Hierarchical Subgraphs Search"]].map(S=>t.jsx(nt,{value:S,title:ot[S],children:S},S))})]})}),t.jsx(C,{elevation:24,children:t.jsxs(_t,{value:z,children:[t.jsx(Ke,{...Be,modeKey:F["Maximum Biclique"]}),t.jsx(Ke,{...Be,modeKey:F["Maximal Biclique Enumeration"]}),t.jsx(Ke,{...Be,modeKey:F["(p,q)-biclique Counting"]}),t.jsx(Me,{value:F["Hierarchical Subgraphs Search"],className:k.TabPanel??"",children:t.jsx(C,{elevation:24,className:k["Paper-text"]??"",children:t.jsx(uo,{value:de,setSize:Ae,max:i.max})})})]})}),xe&&mo(xe?.length,2)?t.jsx(C,{elevation:24,className:k.Select??"",children:t.jsx(q,{title:t.jsxs(t.Fragment,{children:["Count: ",t.jsx("span",{className:se,children:xe.length})]}),arrow:!0,placement:"right",children:t.jsx(Zt,{autoComplete:!0,autoCapitalize:"words",autoFocus:!0,autoHighlight:!0,blurOnSelect:!0,clearOnBlur:!0,clearOnEscape:!0,fullWidth:!0,handleHomeEndKeys:!0,includeInputInList:!0,openOnFocus:!0,selectOnFocus:!0,disableClearable:!0,disableCloseOnSelect:!1,disabledItemsFocusable:!1,disableListWrap:!1,disablePortal:!1,filterSelectedOptions:!1,freeSolo:!1,options:xe,...ft?{value:ft}:null,onChange:(S,T,A,V)=>{W(T?xe.indexOf(T):0)},renderInput:S=>t.jsx(An,{...S,label:"Choose Rank",placeholder:"Choose Rank"}),renderOption:(S,{label:T,...A},V)=>t.jsx(q,{title:br(A),arrow:!0,placement:"right",children:t.jsx(Ln,{...S,children:T??`Rank ${V.index+1}`})})})})}):t.jsx(t.Fragment,{})]})}),t.jsx(C,{className:k["Main-Mid"]??"",elevation:24,children:t.jsxs(_t,{value:$,children:[t.jsx(C,{elevation:24,children:t.jsxs(As,{onChange:(S,T)=>R(T),variant:"fullWidth",children:[t.jsx(Oe,{label:"Cohesion",value:L.table,className:k.Tab??""}),t.jsx(Oe,{label:"Bipartite Subgraph",value:L.graph,className:k.Tab??""}),t.jsx(q,{arrow:!0,title:Ce?t.jsx(t.Fragment,{children:t.jsxs("fieldset",{children:[t.jsx("legend",{className:se,children:"Search Params"}),Vt(Ce).map(lt)]})}):null,children:t.jsx(Oe,{label:"Search Result",value:L.result,disabled:Le||y,className:classNames({[k.Tab??""]:!Le})})})]})}),we.length?Vn?t.jsx(jn,{dataArrWithPos:we,graphData:r,size:de,resultGraph:Un,selectMode:z,useSetInputST:D,setTab:R,resultTable:qn,setSize:Ae,isEditX:y,commonValueFromTableData:i,clickEChartDotToAddMultiDots:Hn,dataFromST:b,superData:u}):t.jsx(Bn,{commonValueFromTableData:i,graphData:r,dataArrWithPos:we,isEditX:y,svgRef:l,svgSize:o,setSize:Ae,size:de}):t.jsx(Bs,{className:k.Chart??"",variant:"rounded",animation:"wave"})]})}),Le?null:t.jsx(zt,{buttonOrder:1,children:t.jsx(C,{className:k["Main-Right"]??"",elevation:0,children:t.jsxs(C,{elevation:24,className:k["Main-Right--Show"]??"",children:[_.isUndefined(ye)?null:t.jsx(q,{arrow:!0,placement:"left",title:_.isUndefined(ye)?null:t.jsxs("h4",{children:["The number of (",Ce?.s,",",Ce?.t,")-bicliques is: ",t.jsx("span",{className:se,children:ye})]}),children:t.jsx("h4",{className:classNames(se,k["Main-Right--Show--Num"]),children:t.jsx("span",{children:ye})})}),t.jsx(Ut,{title:"size",detail:de}),ee?Vt(ee).map(([S,T])=>T.length?t.jsxs(tn,{className:E.Accordion??"",defaultExpanded:T.length<=23,children:[t.jsx(nn,{expandIcon:t.jsx(sn,{}),className:E["Accordion-Summary"]??"",children:t.jsx("span",{className:classNames(se,k["Main-Right--Show--Text"]),children:`${S} `})}),t.jsx(rn,{className:E["Accordion-Details"]??"",children:T.map(A=>t.jsx("p",{className:k["Main-Right--Show--Text"]??"",children:A}))})]},S):null):null,t.jsx(Ut,{title:"count",detail:Wn})]})})})]}),t.jsx(Os,{open:e||w,className:k.Modal??"",children:t.jsx(Rs,{className:k.CircularProgress??""})}),t.jsx(an,{})]})}function fo(){return t.jsx(Xs,{children:t.jsx(Js,{index:!0,element:t.jsx(po,{})})})}const go=()=>t.jsx(N.StrictMode,{children:t.jsx(Ws,{injectFirst:!0,children:t.jsx(Hs,{children:t.jsx(fo,{})})})}),xo=document.body;Us(xo).render(t.jsx(t.Fragment,{children:t.jsx(go,{})}));
