import{r as D,j as t}from"./react-oik9md-E.js";import{u as Jn,a as tt,b as R,c as Kt,d as Yn,e as Zn,f as nt,g as te,h as Qn,i as Xt,j as Jt,k as _e,l as es,m as me,n as bt,o as vt}from"./ahooks-rsxkj2vD.js";import{i as ts}from"./react-fast-compare-751UTDWK.js";import{u as ns,g as _t,i as ss,a as rs,b as as,c as os,d as is,e as ls,f as cs,h as us,j as ds,k as hs,l as ms,m as ps,n as fs,o as gs,p as xs,q as bs,r as vs,s as _s,t as js,v as Ss}from"./echarts-Vo_PYHjZ.js";import{P as C,T as Me,d as ys,D as oe,L as De,B as J,a as Cs,b as ws,c as q,e as Ns,f as Ds,g as Es,h as Is,i as Ms,C as Yt,j as Te,I as Zt,k as Ts,l as Qt,F as ks,m as en,n as ke,o as Ps,M as st,A as tn,p as Fs,q as $s,r as zs,s as Ls,t as As,u as nn,S as sn,v as Bs,w as jt,x as Os,y as Re,z as Rs,E as rn,G as an,H as on,J as ln,K as Ws,N as Vs,O as Us}from"./@mui-aSa7pBhJ.js";import{d as rt}from"./immer-U6fk-Zvt.js";import{a as qs,r as Pe,c as Gs}from"./react-dom-tVoZXIl-.js";import{Q as Ee,k as cn}from"./react-toastify-5bXptfeX.js";import{d as Hs}from"./@algolia-kof8UNv8.js";import{u as Ks,H as Xs}from"./react-router-dom-GFem2kaG.js";import{u as Js,b as Ys,c as Zs}from"./react-router-I1NCjZ8i.js";import"./@babel-_Kefij6Y.js";import"./tslib-xX1bOrSW.js";import"./lodash-C7I7b_wX.js";import"./zrender-6ibt0cUB.js";import"./react-transition-group-QTzb2ErI.js";import"./@emotion-ia0lOm4d.js";import"./hoist-non-react-statics-y4nWN7rF.js";import"./stylis-W9rcUKMO.js";import"./@popperjs-v-la0Vhf.js";import"./scheduler-Xt5_ASe0.js";import"./@remix-run-wEAHOncH.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=s(a);fetch(a.href,o)}})();function Qs(e,n){return e>>n&1}const at=Object.freeze(["rgb(255, 0, 0)","rgb(255, 115, 0)","rgb(255, 251, 0)","rgb(72, 255, 0)","rgb(0, 255, 213)","rgb(0, 43, 255)","rgb(122, 0, 255)","rgb(255, 0, 200)"]),er="_Main_1ppnf_15",tr="_Table_1ppnf_22",nr="_table_1ppnf_26",sr="_SVG_1ppnf_31",rr="_Accordion_1ppnf_38",ar="_line_1ppnf_70",or="_circle_1ppnf_71",ir="_text_1ppnf_94",lr="_svg_1ppnf_94",cr="_highlight_1ppnf_100",ur="_g_1ppnf_52",dr="_line_how_1ppnf_1",I={Main:er,Table:tr,table:nr,SVG:sr,Accordion:rr,"Accordion-Summary":"_Accordion-Summary_1ppnf_42","Accordion-Details":"_Accordion-Details_1ppnf_48","graph-svg":"_graph-svg_1ppnf_52",line:ar,circle:or,"no-highlight":"_no-highlight_1ppnf_84",text:ir,svg:lr,"axis-text":"_axis-text_1ppnf_94",highlight:cr,"more-highlight":"_more-highlight_1ppnf_116",g:ur,"hover-click-line":"_hover-click-line_1ppnf_273","hover-x":"_hover-x_1ppnf_273","hover-x--no-show":"_hover-x--no-show_1ppnf_273","hover-y":"_hover-y_1ppnf_274",line_how:dr,"coordinate-axis-y":"_coordinate-axis-y_1ppnf_282","coordinate-axis-x":"_coordinate-axis-x_1ppnf_282","pulse-signup-button":"_pulse-signup-button_1ppnf_1"},{error:U}=console,St=e=>(e.addEventListener("abort",n=>{e.close(),U("abort",n)}),e.addEventListener("close",n=>{e.close(),U("close",n)}),e.addEventListener("error",n=>{e.close(),U("error",n)}),e.addEventListener("versionchange",n=>{e.close(),U("versionchange",n)}),e),hr=(e,n)=>(n.addEventListener("complete",()=>{e.close()}),n.addEventListener("abort",s=>{n.abort(),e.close(),U("abort",s)}),n.addEventListener("error",s=>{n.abort(),e.close(),U("error",s)}),n),un=e=>new Promise(async(n,s)=>{const{DBname:r,version:a,storeName:o,keyPath:i,mode:l}=e,u=indexedDB.open(r,a);u.addEventListener("success",()=>{const c=St(u.result);if(c.objectStoreNames.contains(o))return n(hr(c,c.transaction(o,l,{durability:"strict"})).objectStore(o))}),u.addEventListener("upgradeneeded",()=>{const c=St(u.result);if(!c.objectStoreNames.contains(o))return c.createObjectStore(o,{autoIncrement:!0,...i?{keyPath:i}:null})}),u.addEventListener("error",c=>{s(c),U("error",c,u)}),u.addEventListener("blocked",c=>{s(c),U("blocked",c,u)})}).catch(U),ot=e=>{const{IDBValidKey:n,data:s}=e;return un({...e,mode:"readwrite"}).then(r=>(r&&s&&r.add(s,...r.keyPath?[]:[n]).addEventListener("error",U),r),U).catch(U)},mr=async e=>new Promise((n,s)=>{const{query:r}=e;return un({...e,mode:"readonly"}).then(a=>{if(a){const o=r?a.get(r):a.getAll();o.addEventListener("success",()=>{n(o.result)}),o.addEventListener("error",i=>{U(i,o),s(o.error)})}return a},s).catch(s)}),pr=()=>indexedDB.databases().then(e=>e.filter(({name:n})=>n).map(({name:n})=>n?indexedDB.deleteDatabase(n):new IDBOpenDBRequest),U).catch(U);var fr={VITE_resumeFolder:"resume",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{DEV:gr,PROD:Ye}=fr,{freeze:Fe,entries:xr,values:Go}=Object,br=e=>!!(Ye&&e&&_.isPlainObject(e));var F=(e=>(e["Maximum Biclique"]="Maximum Biclique",e["Maximal Biclique Enumeration"]="Maximal Biclique Enumeration",e["(p,q)-biclique Counting"]="(p,q)-biclique Counting",e["Hierarchical Subgraphs Search"]="Hierarchical Subgraphs Search",e))(F||{});const it=Fe({"Maximum Biclique":"MEB","Maximal Biclique Enumeration":"MBE","(p,q)-biclique Counting":"PQB","Hierarchical Subgraphs Search":""}),vr=Fe({DBname:"HJX",storeName:"HXJ"}),dn=e=>mr({...vr,query:e}).then(n=>{if(br(n))return n;throw new Error(n)});var L=(e=>(e[e.table=0]="table",e[e.graph=1]="graph",e[e.result=2]="result",e))(L||{});Fe({0:"Cohesion"});const _r=e=>xr(e).map(ct),se="tanContent",pe=({k:e,kInd:n})=>`${e}${n}`,jr=(e,n)=>{if(!n||n.length===0)return e;const s=Dn(n);return e?.map(a=>{const{k:o,kInd:i}=a,l=s[o][i]?Rn:void 0;return{...a,...l?{color:l}:null}})},yt=40,Sr=80,yr=e=>{const s=_.sortBy(e,({v:a})=>a).slice(ft*-1);return _.sortBy(s,({i:a})=>a)},Ct=(e,n)=>{if(!n)return[];const s=n.map((r,a)=>({...r,i:a}));return e||n.length<=ft?s:yr(s)},Cr=(e,n,{svgWidth:s,svgHeight:r})=>ht(e,n,ze(e,{svgWidth:s,svgHeight:r}),r),hn=Fe({svgHeight:innerHeight,svgWidth:innerWidth}),wr="_Main_1idkx_15",Nr="_Select_1idkx_38",Dr="_TabPanel_1idkx_41",Er="_Tab_1idkx_41",Ir="_hidden_1idkx_83",Mr="_Chart_1idkx_87",Tr="_Modal_1idkx_92",kr="_CircularProgress_1idkx_99",k={Main:wr,"Main-Left":"_Main-Left_1idkx_33",Select:Nr,TabPanel:Dr,"Paper-text":"_Paper-text_1idkx_44","Main-Mid":"_Main-Mid_1idkx_51",Tab:Er,"Main-Right":"_Main-Right_1idkx_62","Main-Right--Show":"_Main-Right--Show_1idkx_69","Main-Right--Show--Text":"_Main-Right--Show--Text_1idkx_75","Main-Right--Show--Num":"_Main-Right--Show--Num_1idkx_80",hidden:Ir,Chart:Mr,Modal:Tr,CircularProgress:kr,"pulse-signup-button":"_pulse-signup-button_1idkx_1"},wt=(e=()=>{})=>zr?.(()=>Lr?.(()=>$r?.(()=>Fr?.(()=>mn?.resolve?.()?.then?.(()=>{const{port1:n,port2:s}=new Pr;n?.postMessage?.(null),s.onmessage=e}).catch?.(pn))))),$e=(e=()=>{})=>new mn(n=>wt?.(n))?.then?.(()=>wt?.(e)).catch?.(pn),{Promise:mn,addEventListener:Ho,console:{error:pn}={},MessageChannel:Pr,queueMicrotask:Fr,requestAnimationFrame:$r,requestIdleCallback:zr,setTimeout:Lr}=window??self??globalThis??void 0;ns([rs,as,os,is,ls,cs,us,ds,hs,ms,ps,fs,gs,xs,bs,vs,_s,js]);const fn=window??self??globalThis??global??void 0??new EventTarget,{addEventListener:Ar,removeEventListener:Br}=fn,{dispatchEvent:Or}=fn,Ze="resize",Rr=new Event(Ze),We=D.memo(e=>{const{option:n,onParams:s=[]}=e,r=D.useRef(null);return Jn(()=>{const{current:a}=r;if(!a||!n)return;const o=_t(a)??ss(a);o.showLoading(),$e(()=>{o.setOption(n,!0,!0),s.map(c=>o.on(...c)),o.hideLoading()});const i=kn(o.resize),l=()=>i(),u=new ResizeObserver(l);return u.observe(a),Ar(Ze,l),()=>{s.map(([c,,b])=>o.off(c,b)),u.disconnect(),i.cancel?.(),i.clear?.(),Br(Ze,l)}},[n]),tt(()=>{const{current:a}=r;if(!a)return;const o=_t(a);o&&(o.clear(),o.dispose())}),t.jsx(t.Fragment,{children:t.jsx(C,{elevation:24,ref:r,className:k.Chart??""})})},ts),{error:Wr}=console;function lt(...e){if(e.length===0)return!0;const n=_.head(e);return e.every(s=>_.isEqual(s,n))}const Vr=(e,n)=>n.every(s=>s===e),Nt=e=>{if(!(e instanceof HTMLDivElement))return!1;const{childElementCount:n,childNodes:s,children:r,firstChild:a,lastChild:o,firstElementChild:i,lastElementChild:l}=e;return!e.hasChildNodes()||!Vr(1,[n,s.length,r.length])?!1:lt(a,o,i,l,s.item(0),r.item(0))},Dt="mouseup",Ur=["ctrl","alt","shift","meta"].map(e=>`${e}.f11`);function ve({children:e,...n}){const s=D.useRef(null),{current:r}=s,a=R(u=>{if(!Nt(u))return null;const c=u?.firstChild;return Nt(c)?c:null}),o=R(kn(u=>u instanceof HTMLDivElement&&!document.fullscreenElement?u.requestFullscreen({navigationUI:"hide"}).catch(Wr):Promise.reject(u)));tt(()=>{o.cancel?.(),o.clear?.()});const i=R(u=>{const c=a(r),{target:b,currentTarget:m}=u;if(!(!c||!lt(r,b,m))){if(u instanceof MouseEvent){const{button:h,altKey:g,ctrlKey:v,metaKey:p,shiftKey:f,relatedTarget:S,type:d}=u;if(d===Dt&&h===0&&!g&&!v&&!p&&!f&&!S)return}return u.preventDefault(),o(c)}});Kt(["contextmenu","dblclick","auxclick",Dt],i,{enable:!!r,target:r}),Yn(Ur,u=>{const c=a(r);return o(c)},{exactMatch:!0});const l=Zn();return nt(()=>{$e(()=>{r||l()})}),t.jsx(Me,{...n,ref:s,children:t.jsx(C,{elevation:24,children:e})})}const Et=Ss.color,{isSafeInteger:It}=Number,{min:qr,max:Gr}=Math,ct=([e,n])=>t.jsxs("div",{children:[t.jsx("span",{children:`${e}: `}),t.jsx("span",{className:se,children:n?.toString()})]},e),Mt=4,Hr=(e,n)=>e.length>n?e.slice(0,n):e,gn=({k:e,kInd:n,v:s,neighbor:r,color:a},o)=>t.jsxs(t.Fragment,{children:[a&&o&&!Pn(o)?t.jsxs(t.Fragment,{children:[t.jsx("div",{children:t.jsxs("span",{className:se,children:["fetch ",o," result"]})}),t.jsx("br",{})]}):null,[["Vertex Name",`${e+n}`],["Maximum Cohesion",`${s}`],_.isUndefined(r)?void 0:["Neighbors",`${Hr(r,Mt).map(({k:i,kInd:l})=>`${i+l}`).join(", ")}${r.length>Mt?"...":""}`],["Vertex Degree",`${r?.length}`]].filter(Boolean).map(ct)]}),xn=(...e)=>qs(gn(...e)),bn={trigger:"item",axisPointer:{type:"cross"},label:{show:!0}},vn=rt({label:{show:!0},roam:!0}),_n={toolbox:{show:!0,feature:{saveAsImage:{},restore:{},dataView:{},dataZoom:{},magicType:{},brush:{}}}},Ve=rt({show:!0,snap:!0}),jn={lineStyle:{shadowColor:"rgba(0,0,0,.5)",shadowBlur:10},scale:!0,label:{show:!0,fontSize:24,fontWeight:"bolder"},labelLine:{show:!0},itemStyle:{shadowColor:"rgba(0,0,0,.3)",shadowBlur:10}},Ue=(e,n,s,r=void 0,{max:a,min:o}=ze(e,hn))=>{if(!e||!n)return{};const i=oa(e,n),l=(Sr-yt)/(a-o),u=h=>(h-o)*l+yt,c=_.uniq(n.map(({superWidth:h})=>h)),b=(()=>{if(_.isUndefined(_.head(c)))return h=>h;{const h=c,g=qr(...h),v=Gr(...h),p=10,f=1,S=(p-f)/(v-g);return x=>(x-g)*S+f}})();return{..._n,tooltip:{},legend:{data:[H.U,H.V]},series:[{type:"graph",...vn,tooltip:{...bn,formatter(h,g,v){const{dataType:p,dataIndex:f,data:S,name:d}=h;if(p==="edge"){const{source:w,target:E,superWidth:N}=S;return[d,N].filter(Boolean).join("<br/>")}const x=e[f];return x?xn(x,s):g}},categories:[{name:H.U,base:H.U},{name:H.V,base:H.V}],edgeLabel:{},data:e.map(h=>{const{k:g,kInd:v,graphX:p,graphY:f,v:S,color:d}=h,x=u(S);return{name:pe(h),value:S,category:g,symbolSize:x,x:p,y:f,...d?{itemStyle:{color:d}}:null}}),links:n?.map(({u:h,v:g,superWidth:v},p)=>{const f=i[p];return{source:`u${h}`,target:`v${g}`,lineStyle:{..._.isUndefined(v)?null:{width:b(v)},color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:Et[0]},{offset:1,color:Et[1]}],global:!1},...f?{color:i[p],width:4}:null},superWidth:v}}),lineStyle:{opacity:1,cap:"round",join:"round",shadowColor:"rgba(0,0,0,.3)",shadowBlur:5},itemStyle:{shadowColor:"rgba(0,0,0,.3)",shadowBlur:5},emphasis:{focus:"adjacency",...jn}}]}},Kr=e=>e?{itemStyle:{color:e,shadowColor:"rgba(0,0,0,.3)",shadowBlur:16},symbolSize:16,symbol:"circle"}:{},Sn=rt({[F["Maximum Biclique"]]:{s:"Minimum vertex count in U",t:"Minimum vertex count in V"},[F["Maximal Biclique Enumeration"]]:{s:"Minimum vertex count in U",t:"Minimum vertex count in V"},[F["(p,q)-biclique Counting"]]:{s:"Minimum vertex count in U",t:"Minimum vertex count in V"}});_.debounce(()=>{Ee.warn("result is empty")});const qe=e=>`${yn.name}${e}`;function yn(e){const{dataArrWithPos:n,graphData:s,size:r,resultGraph:a,selectMode:o,useSetInputST:i,setTab:l,resultTable:u,setSize:c,isEditX:b,commonValueFromTableData:m,clickEChartDotToAddMultiDots:h,superData:g}=e,v=_.isUndefined(r),{dataArrWithPos:p,visualMapSection:f,sections:S}=D.useMemo(()=>{if(b){const{datas:M,visualMapSection:y,sections:P}=ca({...e});return{dataArrWithPos:M,visualMapSection:y,sections:P}}return{dataArrWithPos:n}},[n]),d=D.useMemo(()=>{if(p)return{..._n,dataZoom:[{type:"slider",xAxisIndex:0,filterMode:"none"},{type:"slider",yAxisIndex:0,filterMode:"none"},{type:"inside",xAxisIndex:0,filterMode:"none"},{type:"inside",yAxisIndex:0,filterMode:"none"}],tooltip:{...bn,formatter(M,y){if("dataIndex"in M){const P=p[M.dataIndex];if(P)return xn(P,o)}return y}},xAxis:{type:"category",data:p.map(pe),axisPointer:Ve},yAxis:{type:"value",axisPointer:Ve},series:[{...vn,data:p.map(({v:M,color:y})=>({value:M,...Kr(y)})),type:"line",emphasis:{focus:"self",...jn},symbolSize:8,...b&&!v&&f?{markLine:{symbol:["circle","circle"],data:[{yAxis:r}]},markArea:{animation:!0,data:f.map(({start:M,end:y,color:P},A)=>{const X=p[M],Y=p[y],ce=`${X?.k}${X?.kInd}~${Y?.k}${Y?.kInd}`,ue={color:P,opacity:.03},Se={show:!0,formatter:ce,position:"insideBottom",color:"#000"},Le={label:Se,itemStyle:{opacity:.05}};return[{itemStyle:ue,label:Se,xAxis:M,emphasis:Le},{itemStyle:ue,label:Se,xAxis:y,emphasis:Le}]})}}:null}],axisPointer:Ve,...b&&f?{visualMap:{pieces:f.map(({start:M,end:y,color:P})=>{const A=p[M],X=p[y];return{min:M,max:y,color:P,label:`${A?.k}${A?.kInd}~${X?.k}${X?.kInd}`}}),dimension:0,show:!0,outOfRange:{color:"Gray",colorAlpha:.8},inverse:!0}}:null}},[p]),x=D.useMemo(()=>{if(!p)return;if(g){const{tableData:y,graphData:P}=g;if(y&&P){const A=ze(y,hn),X=ht(y,P,A,innerHeight);return Ue(X,P,o,void 0,A)}}return Ue(p,s,o,void 0,m)},[p,g]),w=D.useMemo(()=>{if(!v&&!a?.length){const M=Sn[o];return{title:{text:`${o} result is empty`,subtext:`${_.map(i[0],(y,P)=>`${M?.[P]}: ${y}`).join(`
`)}`,left:"center",top:"center",textStyle:{fontSize:30,lineHeight:60},subtextStyle:{fontSize:20,lineHeight:40}}}}return Ue(u,a)},[a]),E=R(Tn({isEditX:b,setSize:c,size:r})),N=["dblclick","series",M=>{const{dataIndex:y,name:P,value:A}=M;It(y)&&P&&It(A)&&typeof A=="number"&&E({v:A})()}],$=["click","series",h],W=t.jsx(We,{option:d,onParams:[N,$]}),z=t.jsx(We,{option:x,onParams:[N,$]}),ge=t.jsx(We,{option:w}),[le,ne]=te(["line","graph"]);return Qn(le),R((M,y)=>le.includes(y)?M:null),t.jsxs(t.Fragment,{children:[t.jsx(ve,{value:L.table,children:W},qe(L.table)),t.jsx(ve,{value:L.graph,children:z},qe(L.graph)),t.jsx(ve,{value:L.result,children:ge},qe(L.result))]})}const{values:Xr,freeze:ut,keys:Ko}=Object;var H=(e=>(e.U="u",e.V="v",e))(H||{});const Jr=ut({0:"u",1:"v"}),O=32,Yr=O/2,ze=(e,{svgWidth:n,svgHeight:s})=>{const r=e?.map(({v:g})=>g)??[],a=Math.min(...r),o=Math.max(...r),i=o-a,{length:l}=r,u=n-O*2,c=s-O*2,b=u/(l-1),m=c/i;return{valuesArr:r,min:a,max:o,diff:i,realHeight:c,xRadix:b,yRadix:m,length:l,getYPos:g=>O+(o-g)*m,svgWidth:n,svgHeight:s}},dt=ut({u:0,v:1}),Zr=Object.keys(dt).length,Qr=e=>e?{neighbor:e}:{},Tt=(e,n,s,r)=>(e[n]||(e[n]=[])).push({k:s,kInd:r}),Cn=()=>({u:{},v:{}}),ea=e=>{const n=Cn(),s=n.u,r=n.v;for(const a of e){const{u:o,v:i}=a;s&&r&&!_.isUndefined(o)&&!_.isUndefined(i)&&(Tt(s,o,"v",i),Tt(r,i,"u",o))}return n},ht=(e,n,{xRadix:s,getYPos:r,svgWidth:a,max:o,min:i},l)=>{if(!n||!e)return[];const u=ea(n),c=a-O*2,b=_.groupBy(e,({k:p})=>p),m=_.mapValues(b,p=>c/(p.length-1)),h=(l-O*2)/(Zr-1),g=_.mapValues(b,p=>new Map(_.sortBy(p,({kInd:f})=>f).map(({kInd:f},S)=>[f,S])));return e?.map((p,f)=>{const{v:S,k:d,kInd:x}=p;return{...p,i:f,x:O+f*s,y:r(S),graphX:O+(g[d].get(x)??0)*m[d],graphY:O+dt[d]*h,...Qr(u?.[d][x])}})},je=ut(["more-highlight","highlight","no-highlight"]),Qe=_.last(je)??"",wn=je.map(e=>_.camelCase(`is-${e}`)),{length:Nn}=je,ta=e=>1<<wn.findIndex(s=>e[s]===!0)+1,na=(1<<Nn)-1,sa=e=>{for(let n=1;n<Nn;n++)if(Qs(e,n)===1)return je[n-1]??Qe;return Qe},ra=e=>{const n=wn.findIndex(s=>e?.[s]===!0);return je[n]??Qe},aa=e=>{if(e.includes(Rn)&&e.includes(et))return et;if(e.length!==1)return;const n=_.head(e);if(n)return n},Dn=e=>{const n=Cn();return _.isUndefined(e)||e.length===0?n:{...n,..._.mapValues(_.groupBy({...e},({k:s})=>s),s=>_.keyBy(s,({kInd:r})=>r))}},oa=(e,n,s=Dn(e))=>!e||!n?[]:n?.map(r=>{const a=_.uniq(_.map(r,(o,i)=>s[i]?.[o]?.color));return aa(a)}),ia=({drawDotData:e,graphData:n})=>{const s=_.mapValues(_.groupBy(e,({k:r})=>r),r=>_.keyBy(r,({kInd:a})=>a));return n?.map(r=>{const a=Xr(_.mapValues(r,(u,c)=>s[c]?.[u])),o=a.reduce((u,c,b,m)=>{const{pos:h,highlightLevelNum:g}=u;if(!c)return u;const{graphX:v,graphY:p,color:f}=c;return{pos:[...h,[v,p]],highlightLevelNum:g&ta(c)}},{pos:[],highlightLevelNum:na,color:""}),{highlightLevelNum:i}=o,l=_.uniq(a.map(u=>u?.color?u.color:""));return{...o,highlightLevel:sa(i),...l.length===1?{color:_.head(l)}:null}})},ie=e=>e.v,En=at.length,la=({isEditX:e,dataArrWithPos:n,commonValueFromTableData:{length:s},size:r})=>{if(!e)return n;const a=_.isNil(r);if(a)return n.map(c=>({...c,color:"",isHighlight:a?!1:c.v>=r}));const o=[];let i=0,l=_.head(n);if(!l)return n;let u=ie(l);for(let c=1;c<=s;c++){const b=[l];for(;c<s;c++){const m=n[c];if(!m)break;const h=ie(m);if(h>=r||h>=u)b.push(m),l=m,u=h;else{l=m,u=h;break}}o.push(...b.map(m=>({...m,color:at[i%En]??""}))),i++}return o.map(c=>({...c,isHighlight:c.v>=r}))},ca=e=>{const{isEditX:n,dataArrWithPos:s,commonValueFromTableData:{length:r},size:a,colors:o=at}=e;if(!n)return{datas:s,sections:[]};if(_.isNil(a))return{datas:s,sections:[]};const l=[];let u=0;const c=[],b=[],m=[],h=[];for(let g=0;g<r;g++){const v=s[g];if(!v)break;const p=ie(v),f=s[g+1],S=()=>{m.push(v),h.push(g)},d=()=>{if(p>=a){S();const w=o[u%En]??"";return c.push(m),b.push({start:_.head(h)??0,end:_.last(h)??0,color:w}),l.push(...m.map(E=>({...E,color:w}))),m.length=0,h.length=0,u++,1}else return l.push(v),0};if(!f){d();break}ie(f)>=a?S():d()}return{datas:l,sections:c,visualMapSection:b}},ua=({isEditX:e})=>n=>()=>{},In=e=>({title:gn(e),arrow:!0}),kt=({clientWidth:e,clientHeight:n})=>{const s=e-O,r=n-O;return{svgWidth:e,svgHeight:n,xEnd:s,yEnd:r}},da=e=>()=>{const{current:n}=e;return kt(n||{clientWidth:innerWidth,clientHeight:innerHeight})},Mn=e=>classNames(I.g,I[ra(e)]),Tn=({isEditX:e,setSize:n,size:s})=>({dotData:r,v:a=r?.v})=>()=>{e&&n?.(a===s?void 0:a)},kn=e=>ys(_.debounce(Hs(e,0))),Pn=e=>e===F["Hierarchical Subgraphs Search"],ha="_title_1tlbs_1",ma="_Paper_1tlbs_5",pa="_Input_1tlbs_8",fa="_TextField_1tlbs_14",re={title:ha,Paper:ma,Input:pa,"input-file":"_input-file_1tlbs_11",TextField:fa,"TextField-Paper":"_TextField-Paper_1tlbs_20","TextField-Paper-input":"_TextField-Paper-input_1tlbs_23","FileInfo-Button":"_FileInfo-Button_1tlbs_26"},ga="_Dialog_c2d28_1",xa="_title_c2d28_4",ba="_Paper_c2d28_7",va="_FileUploadTeam_c2d28_11",ae={Dialog:ga,title:xa,Paper:ba,FileUploadTeam:va};function _a(e){const{fileInfo:n}=e,{name:s,size:r,lastModified:a,type:o,downloadUrl:i}=n;return s?t.jsxs(t.Fragment,{children:[t.jsx(oe,{}),t.jsx(C,{elevation:24,className:ae.Paper??"",children:t.jsxs("fieldset",{children:[s?t.jsx("legend",{children:t.jsx(De,{href:i,title:"preview",target:"_blank",underline:"hover",children:s})}):null,s&&r?t.jsxs("p",{children:[" Content Length: ",filesize(r)]}):null,a?t.jsxs("p",{children:[" Last Modified: ",new Date(a).toJSON()]}):null,o?t.jsxs("p",{children:[" Content Type: ",o]}):null,t.jsxs(C,{elevation:0,className:ae["FileInfo-Button"]??"",children:[t.jsx(De,{href:i,target:"_blank",underline:"hover",children:t.jsxs(J,{variant:"outlined",children:[t.jsx(Cs,{}),"preview"]})}),t.jsxs(J,{variant:"outlined",onClick:()=>{const l=document.createElement("a");l.href=i??"",l.download=s,l.click()},children:[t.jsx(ws,{}),"download"]})]})]})})]}):null}const ja="_examples_141yp_1",Sa={examples:ja};function ya(e){const{defaultTxt:n,chooseExample:s}=e,[r,a,o]=Xt(null);return t.jsxs(C,{elevation:24,className:Sa.examples??"",children:[t.jsx(q,{title:"No suitable data? Click here to try these.",arrow:!0,children:t.jsxs(J,{size:"large",fullWidth:!0,onClick:i=>{a(i.currentTarget)},children:["> ",t.jsx(De,{component:"button",children:"Examples"})]})}),t.jsx(Ns,{open:!!r,anchorEl:r,onClose:()=>{o()},children:t.jsx(Ds,{children:n.map((i,l)=>t.jsx(q,{arrow:!0,title:`Example ${l+1}`,placement:"right",children:t.jsx(Es,{disablePadding:!0,children:t.jsx(Is,{onClick:()=>{s(i),o()},children:t.jsx(De,{component:"button",underline:"hover",children:i})},i)})},i))})})]})}const{revokeObjectURL:Ca,createObjectURL:wa}=URL,{freeze:Na}=Object,{error:Ie}=console,Da={lastModified:0,name:"",size:0,type:"",downloadUrl:""},Fn=e=>{e&&Ca(e)},Ea=e=>n=>{if(n){const s=Fn.bind(null,e);n.addEventListener("beforeunload",s),n.addEventListener("unload",s)}},mt=e=>{const n=wa(e);return $e(()=>{const s=Ea(n);s(window??self??globalThis??void 0),s(document);const{documentElement:r,body:a,head:o,scrollingElement:i,firstElementChild:l,lastElementChild:u,activeElement:c,firstChild:b,lastChild:m,doctype:h,defaultView:g}=document;s(o),s(a),s(r),s(c),s(l),s(u),s(i),s(m),s(h),s(g),s(b)}),n},pt=Na({DBname:"HJX",storeName:"HXJ"}),Ia=e=>({...e,fileInfo:{...e.fileInfo,downloadUrl:mt(new Blob([e.fileData]))}}),$n=e=>dn(e).then(Ia).catch(()=>fetch(e).then(async n=>{const{headers:s}=n,r=await n.text(),a=mt(new Blob([r])),o={fileInfo:{lastModified:Date.parse(s.get("last-modified")??""),name:e,size:parseInt(s.get("content-length")??""),type:s.get("content-type")??"",downloadUrl:a},fileData:r};return ot({...pt,IDBValidKey:e,data:o}),o},Ie)).catch(Ie);function Ma(e){const{parseData:n,setWillPatchData:s,defaultTxt:r,title:a}=e,[o,i]=te(""),[l,u]=Jt(Da);tt(()=>{Fn(l.downloadUrl)});const c=R((m,h)=>{s({fileName:h.match(/[^\/]+$/)?.[0]??h,data:m})}),b=R(m=>$n(m).then(h=>{if(h){const{fileInfo:g,fileData:v}=h,p=n(v);if(p.length===0){Ee.error("The file format is incorrect!");return}u(g),c(p,m)}},Ie).catch(Ie));return t.jsx(t.Fragment,{children:t.jsxs(C,{elevation:24,children:[t.jsx("h4",{className:re.title,children:a}),t.jsxs(C,{elevation:24,className:classNames(re.Paper,re.Input),children:[t.jsxs(J,{component:"label",variant:"contained",startIcon:t.jsx(Ms,{}),fullWidth:!0,title:"Upload File",children:["Upload File",t.jsx("input",{type:"file",className:re["input-file"],onChange:m=>Pe.unstable_batchedUpdates(()=>{const h=m.target.files?.[0];if(!h){alert("some error occur");return}const g=new FileReader;g.readAsText(h),g.onload=v=>{const p=v.target?.result||g.result;if(typeof p=="string")try{const{name:f,lastModified:S,size:d,type:x}=h;c(n(p),f);const w=mt(h);u({...l,name:f,lastModified:S,size:d,type:x,downloadUrl:w});const E={fileInfo:{...l,name:f,lastModified:S,size:d,type:x,downloadUrl:w},fileData:p};ot({...pt,IDBValidKey:f,data:E})}catch{alert("some error occur")}}}),accept:".txt"})]}),t.jsx(oe,{orientation:"vertical",variant:"fullWidth",flexItem:!0,children:t.jsx(Yt,{label:"OR"})}),t.jsxs(C,{elevation:24,className:re.TextField??"",children:[t.jsxs(C,{elevation:24,className:re["TextField-Paper"]??"",children:[t.jsx(Te,{label:"Please input URL",onChange:m=>{i(m.target.value)},value:o,fullWidth:!0,placeholder:"Please input URL",title:"Please input URL",className:re["TextField-Paper-input"]??""}),t.jsx(J,{size:"large",variant:"contained",disabled:!o,onClick:()=>b(o),children:"Fetch"})]}),t.jsx(ya,{defaultTxt:r,chooseExample:m=>{i(()=>(b(m),m))}})]})]}),t.jsx(_a,{fileInfo:l})]})})}const{isSafeInteger:Ge}=Number;function Pt(e){const n=e.split(`
`),s=[];let r=0,a;const{length:o}=n;for(;r<o;)if(n[r]?.startsWith("No.")){r++;const i=n[r++],l=n[r++],u=n[r++];let c;r<o&&n[r]?.startsWith("count:")&&(c=n[r++]);const b=i?.match(/size=(\d+)/)?.[1];if(!b)throw new Error("Invalid size format");const m=parseInt(b,10);if(!Ge(m)||m<=0)throw new Error("Size must be a positive integer");const h=l?.match(/U: (\d+(?: \d+)*)/);if(!h)throw new Error("Invalid U format");const g=h[1]?.split(" ").map(Number)??[];if(g?.some(isNaN)||g?.some(d=>d<=0))throw new Error("U values must be positive integers");const v=u?.match(/V: (\d+(?: \d+)*)/);if(!v)throw new Error("Invalid V format");const p=v[1]?.split(" ").map(Number)??[];if(p?.some(isNaN)||p?.some(d=>d<=0))throw new Error("V values must be positive integers");let f;if(c){const d=c.match(/count: (\d+)/)?.[1];if(!d)throw new Error("Invalid count format");if(f=parseInt(d,10),!Ge(f)||f<=0)throw new Error("Count must be a positive integer")}const S={size:m,[H.U]:g,[H.V]:p,label:`Rank ${s.length+1}`,...f?{count:f}:null};s.push(S)}else if(n[r]?.startsWith("The number of ")){const i=n[r+1];if(!i)throw new Error("The number of (\\d,\\d)-bicliques not has next line");const l=parseInt(i,10);if(!Ge(l)||l<=0)throw new Error("The number of (\\d,\\d)-bicliques must be a positive integer");a=l;break}else r++;return{dataArr:s,..._.isUndefined(a)?{}:{count:a}}}const{error:Ft}=console,{isSafeInteger:Ta}=Number,$t="http://47.99.129.94",zt=(e,n)=>{const r=n.exec(e)?.[1]?.trim();return r?r.split(/\s+/).map(a=>{const o=parseInt(a);return Ta(o)?o:0}):[]},ka=e=>{const r=/size=(\d+)/.exec(e)?.[1],a=r?parseInt(r,10):0,o=zt(e,/U:\s+([\d\s]+)/),i=zt(e,/V:\s+([\d\s]+)/);return{size:a,u:o,v:i,label:"Rank 1"}},Pa=e=>({[F["Maximum Biclique"]]:{dataArr:[ka(e)]},[F["Maximal Biclique Enumeration"]]:Pt(e),[F["(p,q)-biclique Counting"]]:Pt(e)}),Fa=async(e,n,s)=>{const r="/api/BCviz/v3",a=`${r}?${new URLSearchParams({...s,problem:it[e]})}`,o=await dn(a).catch(()=>axios.get(r,{responseType:"text",params:s}).then(i=>{const{data:l}=i,u={...Pa(l)[e],...s};return ot({...pt,data:u,IDBValidKey:a}),u},i=>{throw Ft(i),new Error(i)})).catch(i=>{throw Ft(i),new Error(i)});return{...n,...o?{[e]:o}:null}},Lt=Object.freeze({loadingDelay:300,throttleWait:300,debounceWait:300,debounceLeading:!0}),$a="_Tool_17xe8_7",za="_IconButton_17xe8_10",La="_triangle_17xe8_15",Aa="_rotate_17xe8_25",Ne={"Main-Side":"_Main-Side_17xe8_1",Tool:$a,IconButton:za,triangle:La,rotate:Aa},At=["225deg","45deg"];function Bt(e){const{buttonOrder:n=0,children:s,...r}=e,[a,{toggle:o}]=_e(!0);return s?t.jsxs(C,{className:Ne["Main-Side"]??"",elevation:24,...r,children:[t.jsx(q,{title:`${a?"collapse":"expand"} toolbar`,arrow:!0,children:t.jsx(Zt,{size:"large",className:Ne.IconButton??"",onClick:()=>{o(),$e(()=>{Or(Rr)})},style:{"--order":n,"--initRotate":At[n],"--clickRotate":At[1-n]},children:t.jsx("div",{className:classNames(Ne.triangle,{[Ne.rotate??""]:a})})})}),t.jsx(Ts,{in:a,orientation:"horizontal",children:s})]}):null}const{error:zn}=console,{from:Ot,isArray:Xo}=Array,{freeze:Ba}=Object,{isSafeInteger:fe}=Number,Ln=e=>{const n=e.trim().split(`
`),s=[];for(const r of n){const[a,o,i]=r.trim().split(/[ \t]/),l=parseInt(o),u=parseInt(i);if(!fe(l)||!fe(u))return[];s.push({k:Jr[a],kInd:l,v:u})}return s},Oa=(e,n)=>{const[s,r]=e.trim().split(/[ \t]/),a=parseInt(s),o=parseInt(r);!fe(a)||!fe(o)||n.push({[H.U]:a,[H.V]:o})},Ra=(e,n)=>{const[s,r,a]=e.trim().split(/[ \t]/),o=parseInt(s),i=parseInt(r),l=parseInt(a);!fe(o)||!fe(i)||n.push({[H.U]:o,[H.V]:i,superWidth:l})},Wa=(e,n=Oa)=>{const s=e.trim().split(`
`),r=[];for(const a of s)n(a,r);return r},Va=(e,n=Ra)=>{const s=e.trim().split(`
`),r=[];for(const a of s)n(a,r);return r},Rt=["dataset","BCviz_file"],Wt=Ba([{title:"Bipartite Subgraph",parseData:Wa,defaultTxt:["example.txt","writer.txt","marvel.txt"]},{title:"Maximum Cohesion",parseData:Ln,defaultTxt:["example_cohesion.txt","writer_cohesion.txt","marvel_cohesion.txt"]}]),He=(e="searchParams is not enough")=>{throw zn(e),new Error(e)};function Ua(e){const{setDatas:n,setFileNames:s}=e,[r,{setTrue:a,setFalse:o}]=_e(!1),{list:i,resetList:l,replace:u}=es(),c=R(d=>x=>u(d,x)),b=R(()=>l([])),[m,h]=Ks(),{arrEntries:g,arrKeys:v}=D.useMemo(()=>{const d=Ot(m.entries()),x=d.map(([w])=>w);return{arrEntries:d,arrKeys:x}},[m]),p=D.useMemo(()=>{const{length:d}=n;return!(m.size<d||_.uniq(v).filter(x=>Rt.includes(x)).length!==d)},[m]),f=R(()=>{a(),h()});nt(()=>{if(!p){f();return}const d=g.map(([,x])=>x);Promise.all(d.map(x=>$n(x))).then(x=>{Rt.map((w,E)=>{const N=v.indexOf(w),$=x[N]?.fileData,W=d[N];if(!$||!W)return He();const z=Wt[E]?.parseData($);return z?.length?{parseData:z,fileName:W}:He("parse error")}).forEach(({parseData:w,fileName:E},N)=>{const $=n[N],W=s[N];if(!W||!$)return He();$(w),W(E)})}).catch(x=>{zn(x),f()})}),me(()=>{r||b()},[r]);const S=i.length===n.length&&Ot(i).every(Boolean);return t.jsxs(t.Fragment,{children:[t.jsx(J,{size:"large",variant:"contained",onClick:a,fullWidth:!0,children:"New Graph"}),t.jsxs(Qt,{onClose:d=>{p&&o()},className:ae.Dialog??"",open:r,children:[t.jsx(C,{elevation:24,className:ae.title??"",children:t.jsx("h3",{children:"New Graph"})},"title"),t.jsx(C,{elevation:24,className:classNames(ae.Paper,ae.FileUploadTeam),children:Wt.map((d,x)=>D.createElement(Ma,{setWillPatchData:c(x),...d,key:x}))},"upload"),t.jsx(oe,{}),t.jsx(C,{elevation:24,className:ae.Paper??"",children:t.jsx(J,{size:"large",variant:"contained",fullWidth:!0,disabled:!S,onClick:()=>Pe.unstable_batchedUpdates(()=>{if(S){const[d,x]=i.map(({fileName:w})=>w);if(!d||!x)return;i.forEach(({fileName:w,data:E},N)=>{n[N]?.(E),s[N]?.(w)}),h({dataset:d,BCviz_file:x},{replace:!0,preventScrollReset:!1,flushSync:!1,viewTransition:!0}),o()}}),children:"Comfirm"})},"confirm"),t.jsx(cn,{})]})]})}const qa="_Tool_tgrdm_1",Ke={Tool:qa,"x-line-mode":"_x-line-mode_tgrdm_7","x-line-mode-label":"_x-line-mode-label_tgrdm_10"};function Ga(e){const{toggleIsEditX:n=()=>{},isEditX:s,className:r,setDatas:a,setFileNames:o}=e,{pathname:i}=Js();return t.jsxs(C,{elevation:24,className:classNames(Ke.Tool,r),children:[t.jsx(Ua,{setDatas:a,setFileNames:o}),i===Wn.old?t.jsx(J,{variant:"outlined",className:Ke["x-line-mode"]??"",fullWidth:!0,children:t.jsx(ks,{className:Ke["x-line-mode-label"]??"",onChange:n,control:t.jsx(en,{checked:s}),label:"Edit Mode"})}):null]})}const{isSafeInteger:Ha}=Number;function Vt({useSetInputST:[e,n],k:s,label:r=""}){const a=R(o=>n({[s]:o}));return t.jsxs(ke,{fullWidth:!0,children:[t.jsx(Te,{fullWidth:!0,placeholder:r,label:r,type:"number",title:s,value:e[s],required:!0,onChange:o=>{const{value:i}=o.target;if(!i){a(i);return}const l=parseInt(i),u=Number(i),c=+i;lt(l,u,c)&&Ha(l)&&l>=0&&a(l.toString())},inputProps:{min:0,inputMode:"numeric",pattern:"^(0|[1-9]d*)$"},spellCheck:!0,autoCapitalize:"on",enterKeyHint:"next",translate:"yes",unselectable:"on",inputMode:"numeric"}),t.jsx(Ps,{})]})}const Ka="_Input_1qdq0_1",Xa={Input:Ka};function An({children:e,autoFocus:n,tabIndex:s,className:r,style:a,...o}){return t.jsx(st,{...o,..._.omitBy({autoFocus:n,tabIndex:s,className:r,style:a},_.isUndefined),children:e})}const Bn=({InputLabelProps:e,...n})=>t.jsx(Te,{...n,size:"medium",InputLabelProps:{...e,className:e?.className??"",style:e?.style??{}}});function Xe(e){const{useSetInputST:n,modeKey:s,useGetFromST:r,fileNames:a,setTabToResult:o,dataArrWithPos:i,useMultiDots:[l,u]}=e,{data:c,loading:b,runAsync:m}=r,[h,g]=n,{s:v="",t:p=""}=Sn[s]??{};return t.jsx(Me,{value:s,className:k.TabPanel??"",children:t.jsxs(C,{elevation:24,className:Xa.Input??"",children:[t.jsx(Vt,{useSetInputST:n,k:"s",label:v}),t.jsx(Vt,{useSetInputST:n,k:"t",label:p}),t.jsx(tn,{value:l??[],onChange:(f,S)=>{u(S)},multiple:!0,options:i,getOptionLabel:pe,renderOption:(f,S,{selected:d})=>t.jsxs(An,{...f,children:[t.jsx(en,{icon:t.jsx(Fs,{fontSize:"large"}),checkedIcon:t.jsx($s,{fontSize:"large"}),checked:d}),pe(S)]}),renderInput:f=>t.jsx(Bn,{...f,label:"Choose Vertices",placeholder:"Choose Vertices"}),disableCloseOnSelect:!0,autoComplete:!0,autoCapitalize:"words",autoFocus:!0,autoHighlight:!0,clearOnBlur:!0,clearOnEscape:!0,fullWidth:!0,handleHomeEndKeys:!0,includeInputInList:!0,openOnFocus:!0,selectOnFocus:!0,disableClearable:!1,disabledItemsFocusable:!1,disableListWrap:!1,disablePortal:!1,filterSelectedOptions:!1,freeSolo:!1}),t.jsxs(zs,{disabled:_.some(h,f=>f===""),variant:"contained",size:"large",onClick:()=>Pe.unstable_batchedUpdates(async()=>{await m(s,c,{...a,problem_type:it[s],...h,vertices:JSON.stringify(l?.map(({k:f,kInd:S})=>[dt[f],S]))}).then(f=>(Ee.success(`fetch ${s} success`),o(),f),()=>{Ee.error(`fetch ${s} fail`)})}),children:["Fetch ",s]})]})})}function Ja(){return navigator.language}function Ya(){return navigator.languages[0]}function Za(){return new Intl.DateTimeFormat().resolvedOptions().locale}function Qa(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}const eo=()=>Ja()==="zh-CN"&&Ya()==="zh-CN"&&Za()==="zh-CN"&&Qa()==="Asia/Shanghai"&&new Date().getTimezoneOffset()===-480&&new Intl.DateTimeFormat().resolvedOptions().timeZone==="Asia/Shanghai",to=D.forwardRef(e=>{const{viewBox:n,graphLine:s,drawDotData:r,clickCircle:a,doubleClickCircle:o}=e;return t.jsxs("svg",{viewBox:n,className:I["graph-svg"],children:[s?.map(({pos:i,highlightLevel:l,color:u},c)=>t.jsx("polyline",{points:i.map(([b,m])=>`${b},${m}`).join(" "),fill:"none",stroke:"black",className:classNames(I.line,I[l]),style:{"--color":u}},c)),r.map(i=>{const{k:l,kInd:u,v:c,graphX:b,graphY:m,color:h}=i,g=pe(i);return t.jsx(t.Fragment,{children:t.jsx(q,{...In(i),children:t.jsxs("g",{onDoubleClick:o({dotData:i}),onClick:a(i),className:Mn(i),style:{"--color":h},children:[t.jsx("circle",{cx:b,cy:m,className:I.circle}),t.jsx("text",{x:b,y:m,className:I.text,children:g})]},b)})})})]})});function Ut(e){const{isEditX:n,xEnd:s,onClick:r=()=>{},dotData:{y:a,v:o},className:i=""}=e;return n?t.jsx(t.Fragment,{children:t.jsx("line",{x1:O,x2:s,y1:a,y2:a,className:classNames(I["hover-x"],i),onClick:r})}):null}const no=D.forwardRef(e=>{const{viewBox:n,drawDotData:s,clickCircle:r,doubleClickCircle:a,svgRef:o,isEditX:i,commonValueFromTableData:{valuesArr:l,xRadix:u,length:c,getYPos:b,svgHeight:m},svgSize:h,size:g}=e,{xEnd:v=0,yEnd:p=0}=h,f=D.useMemo(()=>_.sortBy(_.uniq(l)).map(d=>({v:d,yPos:b(d)})),[s]),S=D.useMemo(()=>{let d=_.head(s);if(!d)return[];let x=ie(d);const w=[];for(let E=1;E<c;E++){let N=s[E];if(!N)break;let $=ie(N),W=$-x;const{x:z=0,y:ge=0}=d,le=[z,ge];for(;E<c;E++){const ne=s[E+1];if(ne){const A=ie(ne);if(A-$===W){N=ne,$=A;continue}}const{x:M=0,y=0}=N,P=[M,y];w.push([le,P]);break}d=N,x=$}return w},[s]);return t.jsxs("svg",{viewBox:n,ref:o,className:I.svg,style:{"--stroke-dasharray":u},children:[t.jsx("line",{x1:O,y1:p,x2:v,y2:p,className:I["coordinate-axis-x"]}),"  ",t.jsx("line",{x1:O,y1:O,x2:O,y2:p,className:I["coordinate-axis-y"]}),"  ",f.map(({v:d,yPos:x})=>t.jsxs("g",{className:I.g,onClick:a({v:d}),children:[t.jsx("text",{x:Yr,y:x,className:I["axis-text"],children:d}),t.jsx(Ut,{xEnd:v,isEditX:i,className:classNames({[I["hover-click-line"]??""]:d===g}),dotData:{v:d,y:x}})]})),S.map(([[d,x],[w,E]])=>t.jsx(t.Fragment,{children:t.jsx("line",{x1:d,y1:x,x2:w,y2:E,className:I.line})})),s.map(d=>{const{k:x,v:w,kInd:E,x:N,y:$,color:W}=d,z=In(d);return t.jsx(t.Fragment,{children:t.jsxs("g",{className:Mn(d),onClick:r(d),onDoubleClick:a({dotData:d}),style:{"--color":W},children:[t.jsx(q,{...z,children:t.jsx("text",{x:N,y:m,className:I.text,children:pe(d)})}),i?t.jsx(t.Fragment,{children:t.jsx("line",{x1:N,x2:N,y1:$,y2:p,className:I["hover-y"]})}):null,t.jsx(q,{...z,children:t.jsx("circle",{cx:N,cy:$,className:I.circle})}),t.jsx(Ut,{xEnd:v,dotData:d,isEditX:i,onClick:a({dotData:d}),className:classNames({[I["hover-x--no-show"]??""]:w===g})})]})})})]})});function so(){const[e,n]=te(),[s,r]=te([]),a=D.useRef(null),o=D.useMemo(da(a),[a.current]),i=D.useMemo(()=>ze(e,o),[e,o]);return{tableData:e,setTableData:n,graphData:s,setGraphData:r,svgRef:a,svgSize:o,commonValueFromTableData:i}}const ro=e=>({clickCircle:R(ua(e))}),Je=e=>`${On.name}${e}`;function On(e){const{dataArrWithPos:n,graphData:s,svgSize:r,setSize:a=()=>{},isEditX:o,size:i}=e,l=D.useMemo(()=>la({...e,size:i}),[i,n]),{svgWidth:u=0,svgHeight:c=0}=r,b=c,m=D.useMemo(()=>ia({drawDotData:l,graphData:s}),[l]),{clickCircle:h}=ro({...e,setSize:a,size:i}),g=R(Tn({isEditX:o,setSize:a,size:i,drawDotData:l})),v={...e,drawDotData:l,clickCircle:h,doubleClickCircle:g,graphLine:m,size:i};return t.jsxs(t.Fragment,{children:[t.jsx(ve,{value:L.table,children:t.jsx(no,{...v,viewBox:[0,0,u,b].join(" ")})},Je(L.table)),t.jsx(ve,{value:L.graph,children:t.jsx(to,{...v,viewBox:[0,0,u,c].join(" ")})},Je(L.graph)),t.jsx(Me,{value:L.result},Je(L.result))]})}const ao="_Dialog_1fpbd_1",oo="_title_1fpbd_4",io="_Paper_1fpbd_7",lo="_Fab_1fpbd_11",he={Dialog:ao,title:oo,Paper:io,Fab:lo},co=({renderingEngine:e})=>{switch(e){case"SVG Engine":return t.jsx(t.Fragment,{children:"It is unstable! Suitable for small data volumes, few functions are available, and performance is low."});case"ECharts Engine":return t.jsx(t.Fragment,{children:"Suitable for large data volumes. With many available functions and high performance."})}};function uo(e){const{setSelectEngine:n,selectEngine:s}=e,[r,{setTrue:a,setFalse:o}]=_e(!1);return t.jsxs(t.Fragment,{children:[t.jsx(Ls,{size:"large",onClick:a,title:"settings",className:he.Fab??"",children:t.jsx(q,{title:"settings",arrow:!0,children:t.jsx(Zt,{size:"large",children:t.jsx(As,{fontSize:"large"})})})}),t.jsxs(Qt,{onClose:o,className:he.Dialog??"",open:r,children:[t.jsx(C,{elevation:24,className:he.title??"",children:t.jsx("h3",{children:"Settings"})},"title"),t.jsx(oe,{}),t.jsx(C,{elevation:24,className:classNames(he.Paper),children:t.jsxs(ke,{fullWidth:!0,children:[t.jsx(q,{arrow:!0,title:"Select Rendering Engine",placement:"top",children:t.jsx(nn,{children:"Select Rendering Engine"})}),t.jsx(sn,{fullWidth:!0,label:"Select Rendering Engine",defaultValue:"ECharts Engine",onChange:i=>{const l=i.target.value;l==="SVG Engine"&&!confirm("SVG is very unstable! Are you sure you want to switch to it?")||n(l)},value:s,children:["ECharts Engine","SVG Engine"].map(i=>t.jsx(st,{value:i,children:t.jsx(q,{arrow:!0,placement:"right",title:t.jsx(co,{renderingEngine:i}),children:t.jsx("div",{children:i})})},i))})]})},"content"),t.jsx(oe,{}),t.jsx(C,{elevation:24,className:classNames(he.Paper),children:t.jsx(J,{size:"large",variant:"contained",fullWidth:!0,color:"warning",onClick:()=>{confirm("Are you sure you want to clear the cache?")&&pr().then(()=>{alert("Clear Success!")},()=>{alert("Clear Fail!")})},children:"Clear Cache"})},"content"),t.jsx(oe,{}),t.jsx(C,{elevation:24,className:he.Paper??"",children:t.jsx(J,{size:"large",variant:"contained",fullWidth:!0,onClick:o,startIcon:t.jsx(Bs,{fontSize:"large"}),children:"Back"})},"back")]})]})}const ho="_Form_3js51_1",mo={Form:ho},{isSafeInteger:po}=Number;function fo(e){const{setSize:n,value:s,max:r}=e,[a,o]=te(s);me(()=>{o(s)},[s]);const i=_.isUndefined(a),l=!i&&(a<0||a>r);return t.jsxs(t.Fragment,{children:[t.jsx("p",{children:"Please double-click the dot on the Cohesion."}),t.jsx(oe,{variant:"fullWidth",flexItem:!0,children:t.jsx(Yt,{label:"OR"})}),t.jsxs(C,{elevation:24,className:mo.Form??"",children:[t.jsx(ke,{fullWidth:!0,children:t.jsx(Te,{fullWidth:!0,placeholder:"Input Size",label:"Input Size",type:"search",title:"Input Size",value:a,inputProps:{min:0,max:r,inputMode:"numeric",pattern:"^(0|[1-9]d*)$"},spellCheck:!0,autoCapitalize:"on",enterKeyHint:"next",translate:"yes",unselectable:"on",inputMode:"numeric",onChange:u=>Pe.unstable_batchedUpdates(()=>{const{value:c}=u.target;if(!c)o(void 0);else{const b=parseInt(c);po(b)&&o(b)}}),error:l,...l?{helperText:`Size is not in the right range(0 ~ ${r}).`}:null})}),t.jsx(q,{arrow:!0,title:i?"Set size to undefined":`${F["Hierarchical Subgraphs Search"]} with size is ${a}`,children:t.jsx(J,{fullWidth:!0,variant:"contained",size:"large",onClick:()=>{n(a)},disabled:l,children:"Search"})})]})]})}const go=()=>Promise.all([fetch("writer.supervertex"),fetch("writer.superedge")]).then(e=>e.map(n=>n.text())).then(e=>Promise.all(e)).then(([e,n])=>!e||!n?{}:{tableData:Ln(e),graphData:Va(n)}),et="tan",Rn="red",{isSafeInteger:qt}=Number,{entries:Gt,freeze:Jo,values:Yo,keys:Zo,fromEntries:Qo}=Object;if(gr){const{from:e}=Array,n=console.error;console.error=function(s){typeof s=="string"&&(s.startsWith('Warning: Each child in a list should have a unique "key" prop.')||s.startsWith("Warning: validateDOMNesting(...): %s cannot appear as a descendant of <%s>.%s"))||n.apply(console,e(arguments))}}var Wn=(e=>(e.old="/old",e.new="/new",e))(Wn||{});const xo=(e,n)=>!_.isUndefined(e)&&e>=n,Ht=({title:e,detail:n})=>_.isUndefined(n)?null:t.jsxs(rn,{className:I.Accordion??"",defaultExpanded:!0,children:[t.jsx(an,{expandIcon:t.jsx(on,{}),className:I["Accordion-Summary"]??"",children:t.jsx("span",{className:classNames(se,k["Main-Right--Show--Text"]),children:e})}),t.jsx(ln,{className:I["Accordion-Details"]??"",children:t.jsx("p",{className:k["Main-Right--Show--Text"],children:n})})]},e),ft=36;D.createContext({});function bo(){nt(()=>{const{origin:j,protocol:T,hash:B}=location;if(!sessionStorage.hjx&&Ye&&j!==$t&&T==="https:"&&eo()){const V=$t+B;confirm(`后端服务已上线，点击“确认”跳转.${V}`)?location.href=V:sessionStorage.setItem("hjx","hxj")}}),Kt("beforeunload",j=>{if(Ye&&(Z||r)){j.preventDefault();const T="You have unsaved changes. Are you sure you want to leave?";return j.returnValue=T,T}});const[e]=_e(!1),{tableData:n,setTableData:s,graphData:r,setGraphData:a,svgSize:o,commonValueFromTableData:i,svgRef:l}=so(),{data:u,runAsync:c,mutate:b}=bt(go,{...Lt,manual:!0});me(()=>{E(void 0),n&&(n.length>ft?c():b(void 0))},[n]),me(()=>{},[n]);const{svgWidth:m=0,svgHeight:h=0}=o,[g="",v]=vt("dataset",{defaultValue:""}),[p="",f]=vt("BCviz_file",{defaultValue:""}),S={dataset:g,BCviz_file:p},d=bt(Fa,{...Lt,manual:!0,staleTime:-1,cacheTime:-1}),{data:x,loading:w,mutate:E}=d,N=Jt({s:"",t:""}),[$,W]=te(L.table),[z,ge,le]=Xt(F["Maximum Biclique"]),[ne,M]=te("ECharts Engine"),y=D.useMemo(()=>Pn(z),[z]),[P,A]=te(0),X=te([]),[Y,ce]=X,[ue,{set:Se,setTrue:Le,setFalse:So}]=_e(!0),Z=D.useMemo(()=>Ct(ue,n),[n,ue]),{size:de,UV:ee,dataThisMode:yo,dataArr:xe,selectShowData:gt,count:Vn,numOfData:ye,params:Ce}=D.useMemo(()=>{const j=x?.[z];if(!j)return{};const{count:T,dataArr:B,...V}=j,G=B?.[P];if(!G)return{};const{size:Q,count:K,label:xt,...be}=G;return y?{size:Q}:{size:Q,UV:be,dataThisMode:j,dataArr:B,selectShowData:G,count:K,numOfData:T,params:V}},[x,z,P,Z]),Un=ne==="ECharts Engine",Ae=_.isUndefined(de),Be=R(j=>{E({...x,[F["Hierarchical Subgraphs Search"]]:{dataArr:[{size:j}]}})});me(()=>{W(L.table),le()},[Z,ne]),me(()=>{ce([])},[Z]);const we=D.useMemo(()=>{const j=ht(Z,r,i,h);if(y)return j;const T=ee?j?.map(V=>{const{k:G,kInd:Q}=V,K=ee[G]?.includes(Q)?et:void 0;return{...V,...K?{color:K}:null}}):j;return jr(T,Y)},[i,ee,z,de,Y]),{resultGraph:qn,resultTable:Gn}=D.useMemo(()=>{if(!ee)return{};const j=r.filter(G=>_.every(G,(Q,K)=>ee[K]?.includes(Q)??!1)),T=y?we.filter(({color:G})=>G):Z.filter(({k:G,kInd:Q})=>ee[G]?.includes(Q)),B=Ct(ue,T),V=Cr(B,j,{svgWidth:m,svgHeight:h});return{resultGraph:j,resultTable:V}},[ee,r,Z]),Hn=R(()=>{}),Oe={useSetInputST:N,useGetFromST:d,fileNames:S,setTabToResult:Hn,dataArrWithPos:Z??[],useMultiDots:X},Kn=R(j=>{const{dataIndex:T,name:B,value:V}=j;if(!y&&qt(T)&&B&&qt(V)&&typeof V=="number"){const G=B[0],Q=parseInt(B.slice(1));if(!Z)return;const K=Z.find(({k:be,kInd:Xn})=>be===G&&Xn===Q);if(!K)return;if(!Y||Y.length===0){ce([K]);return}const xt=Y.includes(K);ce(xt?Y.filter(be=>be!==K):[...Y,K])}});return t.jsxs(t.Fragment,{children:[t.jsxs(C,{className:k.Main??"",elevation:24,children:[t.jsx(uo,{setSelectEngine:M,selectEngine:ne}),t.jsx(Bt,{children:t.jsxs(C,{elevation:24,className:k["Main-Left"]??"",children:[t.jsx(Ga,{setDatas:[a,s],setFileNames:[v,f],className:k.Tool}),null,t.jsx(C,{elevation:24,className:k.Select??"",children:t.jsxs(ke,{fullWidth:!0,children:[t.jsx(nn,{children:"Select Mode"}),t.jsx(sn,{value:z,onChange:j=>{ge(j.target.value)},label:"Select Mode",fullWidth:!0,children:[F["Maximum Biclique"],F["Maximal Biclique Enumeration"],F["(p,q)-biclique Counting"],F["Hierarchical Subgraphs Search"]].map(j=>t.jsx(st,{value:j,title:it[j],children:j},j))})]})}),t.jsx(C,{elevation:24,children:t.jsxs(jt,{value:z,children:[t.jsx(Xe,{...Oe,modeKey:F["Maximum Biclique"]}),t.jsx(Xe,{...Oe,modeKey:F["Maximal Biclique Enumeration"]}),t.jsx(Xe,{...Oe,modeKey:F["(p,q)-biclique Counting"]}),t.jsx(Me,{value:F["Hierarchical Subgraphs Search"],className:k.TabPanel??"",children:t.jsx(C,{elevation:24,className:k["Paper-text"]??"",children:t.jsx(fo,{value:de,setSize:Be,max:i.max})})})]})}),xe&&xo(xe?.length,2)?t.jsx(C,{elevation:24,className:k.Select??"",children:t.jsx(q,{title:t.jsxs(t.Fragment,{children:["Count: ",t.jsx("span",{className:se,children:xe.length})]}),arrow:!0,placement:"right",children:t.jsx(tn,{autoComplete:!0,autoCapitalize:"words",autoFocus:!0,autoHighlight:!0,blurOnSelect:!0,clearOnBlur:!0,clearOnEscape:!0,fullWidth:!0,handleHomeEndKeys:!0,includeInputInList:!0,openOnFocus:!0,selectOnFocus:!0,disableClearable:!0,disableCloseOnSelect:!1,disabledItemsFocusable:!1,disableListWrap:!1,disablePortal:!1,filterSelectedOptions:!1,freeSolo:!1,options:xe,...gt?{value:gt}:null,onChange:(j,T,B,V)=>{A(T?xe.indexOf(T):0)},renderInput:j=>t.jsx(Bn,{...j,label:"Choose Rank",placeholder:"Choose Rank"}),renderOption:(j,{label:T,...B},V)=>t.jsx(q,{title:_r(B),arrow:!0,placement:"right",children:t.jsx(An,{...j,children:T??`Rank ${V.index+1}`})})})})}):t.jsx(t.Fragment,{})]})}),t.jsx(C,{className:k["Main-Mid"]??"",elevation:24,children:t.jsxs(jt,{value:$,children:[t.jsx(C,{elevation:24,children:t.jsxs(Os,{onChange:(j,T)=>W(T),variant:"fullWidth",children:[t.jsx(Re,{label:"Cohesion",value:L.table,className:k.Tab??""}),t.jsx(Re,{label:"Bipartite Subgraph",value:L.graph,className:k.Tab??""}),t.jsx(q,{arrow:!0,title:Ce?t.jsx(t.Fragment,{children:t.jsxs("fieldset",{children:[t.jsx("legend",{className:se,children:"Search Params"}),Gt(Ce).map(ct)]})}):null,children:t.jsx(Re,{label:"Search Result",value:L.result,disabled:Ae||y,className:classNames({[k.Tab??""]:!Ae})})})]})}),we.length?Un?t.jsx(yn,{dataArrWithPos:we,graphData:r,size:de,resultGraph:qn,selectMode:z,useSetInputST:N,setTab:W,resultTable:Gn,setSize:Be,isEditX:y,commonValueFromTableData:i,clickEChartDotToAddMultiDots:Kn,dataFromST:x,superData:u}):t.jsx(On,{commonValueFromTableData:i,graphData:r,dataArrWithPos:we,isEditX:y,svgRef:l,svgSize:o,setSize:Be,size:de}):t.jsx(Rs,{className:k.Chart??"",variant:"rounded",animation:"wave"})]})}),Ae?null:t.jsx(Bt,{buttonOrder:1,children:t.jsx(C,{className:k["Main-Right"]??"",elevation:0,children:t.jsxs(C,{elevation:24,className:k["Main-Right--Show"]??"",children:[_.isUndefined(ye)?null:t.jsx(q,{arrow:!0,placement:"left",title:_.isUndefined(ye)?null:t.jsxs("h4",{children:["The number of (",Ce?.s,",",Ce?.t,")-bicliques is: ",t.jsx("span",{className:se,children:ye})]}),children:t.jsx("h4",{className:classNames(se,k["Main-Right--Show--Num"]),children:t.jsx("span",{children:ye})})}),t.jsx(Ht,{title:"size",detail:de}),ee?Gt(ee).map(([j,T])=>T.length?t.jsxs(rn,{className:I.Accordion??"",defaultExpanded:T.length<=23,children:[t.jsx(an,{expandIcon:t.jsx(on,{}),className:I["Accordion-Summary"]??"",children:t.jsx("span",{className:classNames(se,k["Main-Right--Show--Text"]),children:`${j} `})}),t.jsx(ln,{className:I["Accordion-Details"]??"",children:T.map(B=>t.jsx("p",{className:k["Main-Right--Show--Text"]??"",children:B}))})]},j):null):null,t.jsx(Ht,{title:"count",detail:Vn})]})})})]}),t.jsx(Ws,{open:e||w,className:k.Modal??"",children:t.jsx(Vs,{className:k.CircularProgress??""})}),t.jsx(cn,{})]})}function vo(){return t.jsx(Ys,{children:t.jsx(Zs,{index:!0,element:t.jsx(bo,{})})})}const _o=()=>t.jsx(D.StrictMode,{children:t.jsx(Us,{injectFirst:!0,children:t.jsx(Xs,{children:t.jsx(vo,{})})})}),jo=document.body;Gs(jo).render(t.jsx(t.Fragment,{children:t.jsx(_o,{})}));
