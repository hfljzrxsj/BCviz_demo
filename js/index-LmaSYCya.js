import{j as e,r as N}from"./react-oik9md-E.js";import{i as q,U as d,g as K,a as Q,u as X,b as Y,B as $,S as Z,C as ee,c as te,d as ae,w as ne,e as se,s as oe,f as ie}from"./main-CcY4T0V-.js";import{m as re,g as I,l as O,b as F}from"./ahooks-QEuSOHm6.js";import{a as le}from"./react-router-m2kkV1nU.js";import{m as ce}from"./md5-XFdlaQFH.js";import{q as ue,P as j,H as me,J as de,W as pe,T as fe,p as he,B as A}from"./@mui-7qhyk-VF.js";import"./@babel-_Kefij6Y.js";import"./react-fast-compare-751UTDWK.js";import"./echarts-Vo_PYHjZ.js";import"./zrender-6ibt0cUB.js";import"./immer-U6fk-Zvt.js";import"./react-dom-tVoZXIl-.js";import"./scheduler-Xt5_ASe0.js";import"./react-toastify-5bXptfeX.js";import"./@algolia-kof8UNv8.js";import"./react-router-dom-ma-xgFTe.js";import"./@remix-run-phvj9XUc.js";import"./tslib-xX1bOrSW.js";import"./lodash-C7I7b_wX.js";import"./react-transition-group-QTzb2ErI.js";import"./@emotion-ia0lOm4d.js";import"./hoist-non-react-statics-y4nWN7rF.js";import"./stylis-W9rcUKMO.js";import"./@popperjs-v-la0Vhf.js";const ve="_Mid_1dd8c_1",be={Mid:ve},Ce="_Paper_1w3rq_1",xe="_Tab_1w3rq_5",ge="_TabPanel_1w3rq_8",_e="_input_1w3rq_18",T={Paper:Ce,Tab:xe,TabPanel:ge,input:_e},De=[{u:1,v:1},{u:1,v:2},{u:1,v:3},{u:1,v:4},{u:2,v:1},{u:2,v:2},{u:3,v:3},{u:3,v:4},{u:4,v:3},{u:4,v:4},{u:4,v:5},{u:5,v:5},{u:5,v:6},{u:6,v:5},{u:6,v:6},{u:7,v:7},{u:7,v:8},{u:8,v:7},{u:8,v:8}],Te={[d.U]:8,[d.V]:8},H=q?Te:{[d.U]:1,[d.V]:1},{isSafeInteger:z}=Number;function Ie(w){const{useFileName:S,useUVCount:[,v]}=w,[E,{setFalse:l}]=re(!0),[o,b]=I(0),[c,i]=O(H);return e.jsx(ue,{open:E,children:e.jsxs(j,{elevation:24,className:T.Paper??"",children:[e.jsxs(me,{value:o,children:[e.jsx(de,{onChange:(t,u)=>b(u),children:e.jsx(pe,{label:"Create New",value:0,className:T.Tab??""})}),e.jsx(fe,{value:0,children:e.jsx(j,{elevation:24,className:T.TabPanel??"",children:U.map(t=>{const u=`Please enter count of ${t}`;return e.jsx(he,{fullWidth:!0,label:u,title:u,placeholder:u,type:"number",required:!0,spellCheck:!0,autoCapitalize:"on",enterKeyHint:"next",translate:"yes",inputMode:"numeric",error:!c[t],value:c[t],onChange:V=>{const{value:m}=V.target;if(m===""||_.isUndefined(m))i({[t]:void 0});else{const k=parseInt(m),y=Number(m);z(k)&&z(y)&&i({[t]:k})}},inputProps:{min:0,inputMode:"numeric",pattern:"^(0|[1-9]d*)$",max:99},className:T.input??""},t)})})})]}),e.jsx(A,{fullWidth:!0,size:"large",disabled:U.some(t=>!c[t]),variant:"contained",onClick:()=>{v(c),l()},children:"Confirm"})]})})}const{freeze:je,fromEntries:B}=Object,{from:we}=Array,{isSafeInteger:W}=Number;new TextEncoder;const U=je([d.U,d.V]);function Xe(){const w=I(`file-${new Date().toJSON()}`),S=O(H),[v,E]=S,l=N.useMemo(()=>{const a=_.flatMapDepth(v,(s,C,x)=>we(new Array(s)).map((g,r)=>({k:C,kInd:r+1})),1),n=K(a,oe);return Q(a,[],n,innerHeight)},[v]),[o,b]=I(),c=N.useMemo(()=>_.isUndefined(o)?l:[...l.slice(0,o),{...l[o],color:X},...l.slice(o+1)],[o,l]),[i,t]=I(q?De:[{u:1,v:1}]),u=N.useMemo(()=>Y(c,i),[c,i]),m=["click","series",F(a=>{const{dataIndex:n,name:s,value:C,borderColor:x,color:g,data:r,dataType:p}=a;W(n)&&s&&p==="node"&&(_.isUndefined(o)?b(n):(n!==o&&t(_.uniqWith([...i,B([n,o].map(M=>{const f=l[M];return f?[f.k,f.kInd]:[]}))],_.isEqual)),b(void 0)))})],y=["dblclick","series",F(a=>{const{dataIndex:n,name:s,value:C,borderColor:x,color:g,data:r,dataType:p}=a,M=r;if(W(n)&&s&&p==="edge"){const{source:f,target:G}=M,R=B([f,G].map(h=>{if(typeof h=="string"){const D=h[0],J=parseInt(h.slice(1));return[D,J]}return[]})),P=i.findIndex(h=>U.every(D=>h[D]===R[D]));P!==-1&&t([...i.slice(0,P),...i.slice(P+1)])}})],L=le();return e.jsxs(j,{elevation:24,className:$.Main??"",children:[e.jsx(Ie,{useFileName:w,useUVCount:S}),e.jsx(Z,{}),e.jsxs(j,{elevation:24,className:classNames($["Main-Mid"],be.Mid),children:[e.jsx(ee,{option:u,onParams:[y,m],style:{"--minHeight":"90vh"}}),e.jsx(A,{fullWidth:!0,variant:"contained",size:"large",onClick:async()=>{try{const a=i.map(({u:r,v:p})=>`${r} ${p}`).join(`
`),n=ce(a),s=`${n}.txt`;(te()?!1:await axios.get(s,{validateStatus(r){return r===200||r===304}}).then(()=>!0,()=>!1))||(await ae(a,s),await ne());const x=new URLSearchParams({dataset:s,BCviz_file:`${n}_cohesion.txt`});L({pathname:"/",search:`?${x.toString()}`});const g={fileInfo:{lastModified:Date.now(),name:s,size:a.length},fileData:a};se({...ie,data:g,IDBValidKey:s})}catch{}},children:"Confirm"})]})]})}export{U as UVEnumArr,Xe as default};
